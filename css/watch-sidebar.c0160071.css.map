{"version":3,"sources":["webpack:///./src/components/watch/sidebar/loopTab/LoopManager.vue","webpack:///./src/components/watch/sidebar/commentTab/src/components/watch/sidebar/commentTab/Comments.vue"],"names":[],"mappings":"AA4CA;EACE;AA3CF,C;;AC8IA;EACA;EACA;AACA;AACA;EACA;AACA","file":"css/watch-sidebar.c0160071.css","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.tab-title {\r\n  min-height: 25px !important;\r\n}\r\n","<template>\r\n  <div class=\"fit\">\r\n    \r\n    <div class=\"bg-primary text-capitalize  shadow-2 tab-title row no-wrap\">\r\n      <q-toolbar-title class=\"q-pl-sm text-caption \">Questions</q-toolbar-title>\r\n      <q-space />\r\n      <q-btn\r\n        dense\r\n        size=\"sm\"\r\n        icon=\"mdi-comment-processing\"\r\n        label=\"Ask\"\r\n        :color=\"ask ? 'primary' : 'secondary'\"\r\n        :disable=\"ask\"\r\n        @click=\"ask = !ask\"\r\n      />\r\n    </div>\r\n    <div class=\"bg-grey-9 row no-wrap tab-title\">\r\n      <q-checkbox\r\n        v-model=\"notify\"\r\n        label=\"Notify\"\r\n        class=\"q-mr-lg q-ml-none q-pr-md\"\r\n      />\r\n      <q-space />\r\n      <q-btn-toggle\r\n        v-model=\"view\"\r\n        toggle-color=\"secondary\"\r\n        :options=\"[\r\n          { label: 'All', value: 'all' },\r\n          { label: 'Mine', value: 'mine' }\r\n        ]\"\r\n      />\r\n      <!-- @click=\"getView\" -->\r\n    </div>\r\n    <add-comment :ask=\"ask\" :id=\"id\" />\r\n    <div class=\"flex flex-center\">\r\n      <div v-if=\"user\" class=\"text-center text-weight-light q-pb-lg\">\r\n        <i>\r\n          Commenting as\r\n          <span class=\"text-weight-bolder\">{{ user }}</span></i\r\n        >\r\n      </div>\r\n      <div v-else>\r\n        NOT LOGGED IN\r\n      </div>\r\n      <div v-if=\"!list && !ask\">\r\n        <p>Be the first to ask a question about this course or video.</p>\r\n      </div>\r\n      <q-btn\r\n        label=\"Ask a Question\"\r\n        color=\"secondary\"\r\n        @click.self=\"ask = !ask\"\r\n        icon=\"mdi-comment-processing\"\r\n        v-show=\"!ask && !list\"\r\n      />\r\n    </div>\r\n    <q-scroll-area v-if=\"list\" style=\"height: 75vh;\">\r\n      <template v-for=\"(dateGroup, i) in Object.keys(list).reverse()\">\r\n        <q-expansion-item\r\n          default-opened\r\n          expand-separator\r\n          switch-toggle-side\r\n          :group=\"dateGroup\"\r\n          :label=\"dateGroup\"\r\n          class=\"menu-list\"\r\n          :key=\"i\"\r\n        >\r\n        <template v-for=\"comment in list[dateGroup]\">\r\n          <user-admin-chat \r\n            :admin=\"isAdmin(comment.user)\"\r\n            :message=\"comment\"\r\n            :key=\"comment.commentId + '_' + i\"\r\n          />\r\n          <user-admin-chat\r\n            v-for=\"childComment in comment.children\"\r\n            :key=\"childComment.commentId\"\r\n            :message=\"childComment\"\r\n            :admin=\"isAdmin(childComment.user)\"\r\n          />\r\n        </template>\r\n        </q-expansion-item>\r\n      </template>\r\n    \r\n    </q-scroll-area>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport UserAdminChat from \"./User_AdminChat.vue\";\r\nimport AddComment from \"./AddComment\";\r\nexport default {\r\n  name: \"Comments\",\r\n  data: () => ({\r\n    id: \"000\",\r\n    hideDay: true,\r\n    user: null,\r\n    list: null,\r\n    notify: false,\r\n    view: \"all\",\r\n    ask: false,\r\n    comment: \"\"\r\n  }),\r\n  created() {\r\n    this.$root.$on(`toggle-ask-reply_${this.id}`, this.toggleAsk);\r\n    this.$root.$on(\"submit-comment\", this.submitComment);\r\n  },\r\n  mounted() {\r\n    this.loadComments();\r\n  },\r\n  components: {\r\n    AddComment,\r\n    UserAdminChat\r\n  },\r\n  methods: {\r\n    toggleReplies(parent) {\r\n      console.log(parent);\r\n    },\r\n    isAdmin(str) {\r\n      return str.indexOf(\"Texas Blues Alley\") > -1;\r\n    },\r\n    toggleAsk() {\r\n      this.ask = !this.ask;\r\n    },\r\n    async loadComments(view) {\r\n      const { notice, list } = await this.fetchComments(\r\n        this.$route.params.packageID,\r\n        view\r\n      );\r\n      // console.log(\"info\", info);\r\n      this.list = list;\r\n      // this.list = this.sortedCommentsByDate(info.list, 'day');\r\n      this.user = notice;\r\n    },\r\n    submitComment(comment) {\r\n      this.comment = comment;\r\n      console.log(this.ask, this.comment);\r\n      this.ask = !this.ask;\r\n    },\r\n    ...mapActions(\"watch\", [\"fetchComments\"])\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.section-heading {\r\n  background-color: #bb8c59;\r\n  color: #000;\r\n}\r\n.tab-title {\r\n  min-height: 25px !important;\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":""}