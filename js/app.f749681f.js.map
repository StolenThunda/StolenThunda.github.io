{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/css/app.sass","webpack:///./src/App.vue?3486","webpack:///./src/store/modules/default.js","webpack:///./src/store/modules/bacon.js","webpack:///./src/store/modules/index.js","webpack:///./.quasar/import-quasar.js","webpack:///./src/App.vue?8322","webpack:///src/App.vue","webpack:///./src/App.vue?062d","webpack:///./src/App.vue","webpack:///./src/middleware/txba_helpers.js","webpack:///./src/store/index.js","webpack:///./src/router/routes.js","webpack:///./src/router/index.js","webpack:///./.quasar/app.js","webpack:///./src/boot/router-auth.js","webpack:///./src/boot/axios.js","webpack:///./src/boot/vue-plyr.js","webpack:///./.quasar/client-entry.js","webpack:///./src/store/modules/watch.js","webpack:///./src/store/modules/auth.js","webpack:///./src/store/modules sync nonrecursive \\.js$","webpack:///./src/App.vue?d614","webpack:///./src/boot/firebase.js","webpack:///./src/middleware/ProPlayerCore.js","webpack:///./src/store/modules/browser.js"],"names":["namespaced","state","sidebarTabs","favorites","notifications","mutations","RESET_SIDEBAR","ctx","SET_FAVS","favs","Vue","set","SET_NOTIFICATIONS","notes","ADD_SB_TABS","tabs","forEach","tab","idx","tabIdx","findIndex","x","name","id","unshift","console","log","DELETE_SIDEBAR_TABS","arr_str_name","Array","isArray","i","length","el","filterTabs","filter","FAVORITE","objFav","push","UNFAVORITE","filteredFavs","actions","resetSideBar","commit","dispatch","setDefaultTabs","componentName","icon","iconOnly","cmp","addSidebarTabs","root","handler","removeSidebarTabs","fetchFavoritesData","rootState","TXBA_UTILS","getFavs","fetchNotificationData","getNotification","fetchFavorites","then","data","fetchNotifications","toggleFavorite","getters","fav","isFav","isFavorite","addFavorite","removeFavorite","initStore","getRequest","rootGetters","getFavsByType","collector","Object","keys","includes","src","favorite","getAnnouncements","announcements","getUpdates","updates","loaded","bacon","SET_BACON_DATA","fetchBaconData","axios","get","type","paras","fetchBacon","response","newData","map","info","title","split","splice","join","toUpperCase","getBacon","getSliceBacon","Math","floor","random","requireModule","require","modules","fileName","moduleName","camelCase","replace","default","use","Quasar","config","lang","iconSet","plugins","Notify","Dialog","LocalStorage","mounted","methods","cheerio","TXBA_Utilities","constructor","baseURL","default_entries_slug","notification_slug","favorites_slug","filter_slug","package_slug","search_slug","member_loops_slug","segment_slug","load_media_slug","load_vimeo_slug","load_comments_slug","slug_code","pro_player_packages","free_lesson_friday","tone_tuesday","performances","backing_tracks","youtube_videos","refiner","getAsyncData","slug","callback","useBase","url","call","catch","err","postAsyncData","params","method","URLSearchParams","headers","parseFavoriteHtml","parseNotificationHtml","getMemberLoops","segID","getUserSegment","getDefaultSearchEntries","parseSearchResults","getSearchEntries","category","auth","endOfAuthString","trimPoint","indexOf","slice","getSearchFiltersByCategory","code","parseCriteria","getPackage","ID","pkg","playSections","parseSections","sections","packageImage","getSegment","getComments","packageID","segmentID","parseCommentHtml","getCommentString","loadMedia","html","$","load","text","matchX","match","strVidData","$0","$1","$2","objReturn","JSON","parse","strComments","lvl","objComment","parseComments","list","str","withDomLvl1","normalizeWhitespace","self","notice","objList","each","itm","assembleCommentObject","next","groupArrayOfObjects","groupByReplyDate","children","sort","a","b","date","objItm","assign","closest","epoch","dateFmts","getDateFormats","find","trim","user","relativeDate","day","time","level","found","o","commentId","parentId","poster","newSections","section","testSegments","segments","segment","entries","reduce","relevant","k","v","some","newSection","sectionTitle","sectionID","seg","segData","parseSegmentData","tmp","segmentTitle","whole","objectHaveKeyLike","playsinline","allowfullscreen","sources","segmentVimeoCode","color","segmentYouTubeCode","preload","controls","segmentMP3Filename","segmentSoundSliceCode","segmentGPXFilename","to","parseURL","clickString","parseIdx","parseInt","favHtml","parseFavoriteData","fakeFavHTML","group","collection","e","items","parent","index","val","parseNotificationData","subtitle","actionText","action","attr","defaultSearch","filters","parseSearchFilters","pages","parsePagination","lnk","class","content","attribs","avatar","hiddenFields","parseHiddenData","funnelList","parseFunnels","funnels","status","sectionId","syncName","chips","tags","rest","chip","sync","value","foundException","key","result","error","obj","testString","rv","epochToHuman","fmt","returnDate","myDate","Date","Number","toLocaleDateString","toLocaleTimeString","hour","minute","hour12","toGMTString","favhtml","mockHtml","version","staticWithoutComments","staticWithComments","Vuex","store","Store","_spinnerState","req","loadModules","routes","path","component","beforeEnter","location","href","dest","meta","VueRouter","Router","scrollBehavior","y","mode","process","base","VUE_ROUTER_BASE","createStore","router","createRouter","$router","app","render","h","App","beforeEach","from","now","loggedIn","getItem","getTime","expiry","remove","prototype","$axios","VuePlyr","XFrameBypass","devtools","productionTip","publicPath","start","createApp","hasRedirected","redirect","normalized","resolve","route","fullPath","window","urlPath","origin","bootFiles","qboot_Bootrouterauth","qboot_Bootfirebase","qboot_Bootaxios","qboot_Bootvueplyr","ssrContext","currentCourse","activeSegment","ProPlayer","currentSetup","userLoops","memberLoops","courseHistory","seekToTime","mediaSources","playerSettings","bLoadingLoopData","duration","speed","volume","zoom","loop_start","loop_stop","playing","looping","flipped","zoomEnabled","playerOpts","RESET_PACKAGE","activeList","SET_ACTIVE_SEGMENT","FLIP_PLAYER","LOAD_PLAYER_SETTINGS","objSettings","SET_CURRENT_COURSE","SET_USER_LOOP_DATA","stringify","SET_MEMBER_LOOP_DATA","SET_CURRENT_PACKAGE","packageData","packageError","thePackage","setEntryID","setTitle","packageTitle","setChannelName","packageChannel","setChannelShortName","packageChannelSlug","setDate","packageDate","setDefaultSegmentEntryID","packageDefaultSegmentID","setDescription","packageDescription","setOverview","packageOverview","setImageURL","setSections","setTuning","packageTuning","setLoaded","bPackageDataLoadingFinished","setErrorMessage","SET_CURRENT_SEGMENT","segmentData","theSegment","segmentEntryID","setSegmentType","setVimeoCode","setYouTubeCode","setMP3Filename","setSoundSliceCode","setPDFFilename","segmentPDFFilename","setMediaURL","segmentURL","setGPXFilename","setDisplayName","segmentDisplayName","setFullDisplayName","segmentFullDisplayName","setChaptersArray","chaptersArray","setLoopsArray","loopsArray","setMediaStartTime","mediaStartTime","setHTMLContent","segmentHTML","segmentShortDescription","setUserLoopsEntryIDsFromString","userLoopEntryIDs","setIsLoaded","inferMediaType","bSegmentDataLoadingFinished","SET_CURRENT_SEGMENT_SETUP","SET_PLAY_SECTIONS","SET_SEEK_TIME","SET_MEDIA_SOURCES","SET_SEGMENT_DURATION","SET_LOOP_START","SET_LOOP_STOP","SET_LOOP_SELECTED","nCollectionID","nListIndex","nLoopIndex","loopManager","loopSelected","TOGGLE_LOOPING","TOGGLE_ACTIVE_LOOP_STATUS","active","TOGGLE_LOOPOBJECT_LOADING","SET_ACTIVE_LOOPLIST","TOGGLE_PLAYING","clearLoop","setLoopStart","current","setLoopStop","message","setLoopWithObject","loopObj","loopdata","setLoopSelected","flipPlayer","bool","setSeekToTime","loadPlayerSettings","fetchComments","pID","fetchCommentsData","comments","fetchMemberLoopData","loopData","replaceAll","fetchMemberLoops","fetchPackage","newId","fetchPackageData","resetPackage","fetchDefaultMedia","getDefaultSegmentEntryID","fetchMediaData","fetchSegment","loopTabs","fetchSegmentData","openSegmentWithinCurrentPackage","setCurrentSegmentSetup","segmentId","getFirstSegment","openSegment","parseMediaInfo","objMedia","hasOwnProperty","videoSources","size","resolution","thumbnail","getMediaInfo","mediaType","getPrimaryMediaType","getVimeoCode","media","getYouTubeCode","getMP3Filename","getSoundSliceCode","embed","setup","getPDFFilename","decodeURIComponent","theURL","mediaLoadFacebook","getFacebookUser","getFacebookVideoCode","getInstagramID","getHTMLContent","isValidLoop","stop","getLoopStart","getLoopStop","getHistory","histLength","numCourses","getPlaySections","hasDefaultSegment","SET_LOGGED_IN","register_user","payload","firebaseAuth","createUserWithEmailAndPassword","email","password","userCredential","create","caption","login_user","dismiss","spinner","QSpinnerGears","signInWithEmailAndPassword","_user","logout_user","signOut","setWithExpiry","oneday","item","handleAuthStateChange","onAuthStateChanged","Loading","hide","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","FBApp","firebase","initializeApp","firebaseDB","database","firebaseStore","firestore","browserTool","Browser","favoritesManager","FavoritesManager","historyManager","HistoryManager","commentsManager","CommentsManager","loopsManager","LoopsManager","userDataManager","UserDataManager","Package","Segment","theEngine","packageOverviewTemplate","strFavoritesListWrapperID","strCommentsListWrapperID","spinnerDiv","bPackageDataLoadingStarted","bSegmentDataLoadingStarted","b_LoadingFinished","b_UpdateURL","b_KeepSidebarOpen","n_SidebarToggleTimerID","addEventListener","event","theState","segment1","segment2","segment3","thePlayer","openExternalFBVideo","openExternalYouTubeVideo","openPackage","getEntryID","openPackageWithSegment","initializeWithoutPackage","bUpdateURL","resetEverything","mediaLoadDefaultPage","closeSidebar","pushSegmentDownloadsMenu","pushFullscreenButtonState","pushHomeButtonState","resetAll","reloadFavorites","reattachKeyboardEvents","enableSidebarTabs","pushPackageTitle","pushSegmentTitle","updateURL","resetSegment","resetLoadingFlags","resetPackageTitle","toggleClass","resetPlayerTitle","reset","resetPackageSections","empty","toggle","prepareForDestruction","resetSegmentLoops","resetSegmentChapters","resetSegmentTitle","resetSelectedSegment","resetPackageOverview","appendTo","bailOut","getErrorMessage","alert","strPackageID","strSegmentID","beginFetchPackageData","beginFetchSegmentData","waitForPackageAndSegmentData","waitForSegmentData","strYTCode","beginFetchYouTubeData","waitForYouTubeData","strFBUserID","strFBVideoID","beginFetchFacebookData","waitForFacebookData","openExternalInstagramVideo","strInstagramID","beginFetchInstagramData","waitForInstagramData","openUnknownPackageType","packageOptions","fbUserID","fbVideoID","openUnknownPackageFromSegments","strSegment1","strSegment2","strSegment3","openSidebar","gc_BranchPath","tempData","jQuery","parseJSON","pushSelectedSegmentState","showMediaLoading","setYTMatchingEntryID","matchingYTEntryID","setPrimaryMediaType","strFBUser","strFBCode","setFacebookUser","setFacebookVideoCode","strInstgramID","setInstagramID","waitForPackageData","processOnlyNewPackageData","setTimeout","processOnlyNewSegmentData","processBothNewPackageAndSegmentData","processNewYouTubeData","processNewFacebookData","processNewInstagramData","cleanUpLoading","isIOS","isSafari","isChrome","b_LoadingIsFinished","pushInfoPaneData","pushPackageOverviewData","setNewPackageID","reloadComments","updateLocalHistory","processOnlyNewSegmentMedia","extractSegmentLoops","setNewSegmentID","allowUserData","getYTMatchingEntryID","matchingSegmentID","loadSaveYouTubeInterface","mediaLoadVimeo","mediaLoadYouTube","mediaLoadMP3","mediaLoadSoundSlice","mediaLoadPDFViewer","mediaLoadURL","getMediaURL","mediaLoadInstagram","mediaLoadHTML","createNewCollection","addListToCollectionFromArray","getLoopsArray","isLoaded","pushPackageSectionList","getSections","segmentListString","bUseSections","j","getSegmentClass","segmentFullTitle","foundation","strTitleOverride","getTitle","getImageURL","getDescription","getOverview","strTitle","getFullDisplayName","getTuning","nForceSegment","newSegmentElementID","newItem","append","pushSegmentChapters","getChaptersArray","chapters","chapterItem","getEngineLoop","getLoopDefined","InstantLoop","getLoopEnd","nVimeoID","strYouTubeCode","strFacebookUser","strFacebookCode","strMP3Filename","strSoundSliceCode","strPDFFilename","contentString","triggerSaveUserData","savingUserData","saveUserData","chapterSelected","sender","nChapterIndex","theChapter","clearAllActiveLoops","chapterParentItemID","goToChapter","engineLoopHasChanged","pushUserLoopInterfaceState","toolsShowBrowser","closeInfoPane","stopPlayback","b_BrowserLoaded","reloadResultsFavoritesForms","browserReset","toolsShowTuner","toolsShowSpiderTool","toolsShowFretboardTool","toolsCloseToolWindow","fullRefresh","segmentPDFCode","toggleSidebar","clearTimeout","hasClass","toggleSidebarButtonCallback","allowChapters","allowLoops","allowImport","trigger","toggleKeyboardShortcuts","openFirstSection","sectionAccordionItems","openSectionsSidebar","openChaptersSidebar","openLoopsSidebar","showLoopsSidebarList","listTab","tabID","openFavoritesSidebar","openCommentsSidebar","mobileSidebarCheck","Foundation","MediaQuery","atLeast","theTitle","currentState","history","bPushNewState","getSegmentType","getDisplayName","pushState","setupMobileiOS","viewportmeta","document","querySelector","body","isIPhone","theMobileDetect","is","isIE","strUserAgent","navigator","userAgent","search","isWindows10","getChannelTypeString","strChannelShortName","strType","fullscreenToggle","MediaPlayer","enterFullScreen","requestFullscreen","elementID","strSpinner","closeBrowserRequested","addHistoryItem","getChannelName","toggleInfoPane","slideToggle","showInfoPane","triggerNextLoop","listIndex","activateNextLoop","isSidebarOpen","triggerPreviousLoop","activatePreviousLoop","Mousetrap","bind","onButtonTogglePlayback","onButtonPlaybackForward1","onButtonPlaybackRewind1","onButtonPlaybackForward5","onButtonPlaybackRewind5","onButtonRestartLoop","onButtonPlaybackForwardPoint5","onButtonPlaybackRewindPoint5","onButtonPlaybackRestart","onButtonSetLoopStart","onButtonSetLoopEnd","onButtonToggleLooping","increasePlaybackRate","decreasePlaybackRate","toggleZoomEnabled","toggleVideoControls","keydown","preventDefault","which","target","nodeName","convertOldCookies","savedResolution","Cookies","localStorage","setItem","savedVolume","savedFlip","savedHistory","getJSON","showPlayerError","pushLoadYTInfo","submitSaveYouTubeForm","theName","theDisplayName","theYTCode","theForm","formData","serialize","ajax","done","reloadYouTube","showYouTubeLinkPrompt","prompt","regExp","showFacebookLinkPrompt","showInstagramLinkPrompt","testFetchYouTubeData","theData","startSidebarToggleHover","cancelSidebarToggleHover","enginePlaybackToggled","bIsPlaying","Engine","obj_ProgressSlider","obj_SpeedSlider","obj_VolumeSlider","obj_ZoomSlider","PitchShifter","str_MediaCode","str_MediaType","b_PlayerFlipped","f_CurrentTime","f_PlaybackRate","f_VideoDuration","f_LoopStartTime","str_PosterImage","a_Chapters","b_LoopStartTimeSet","f_LoopEndTime","b_LoopEndTimeSet","b_LoopingActivated","b_ProcessingUserPlaybackToggle","b_IsPlaying","f_CurrentPercent","b_LoopIsDefined","b_SliderIsUpdating","b_LoopNeedsUpdate","b_PlayerIsReady","b_UserIsDraggingSlider","b_PlayOnLoad","f_LastProgressTime","b_RestartingLoop","f_Volume","b_PlayedOnce","f_StartTime","a_VideoSources","a_PlaybackSpeeds","f_SavedTime","b_ResumePlaying","b_BlockProgressUpdates","obj_LoadedLoop","obj_PanZoom","obj_Safety","IWillNotUseThisInPlugins","f_ZoomFactor","b_ZoomEnabled","array_SavedZoom","str_SavedResolution","b_ProcessingUserPlayback","b_ZoomSliderActivated","b_PitchShiftActivated","initializeProPlayerEngine","mediaCode","posterImage","sourcesArray","f_MediaStartTime","max","isVimeo","sortSourcesArray","initializeProgressSlider","initializeVolumeSlider","initializeSpeedSlider","initializeZoomSlider","createResolutionRadioButtons","restorePlayerCookieSettings","initializePlayer","setVolumeSliderPosition","playerSetVolume","playerSeekTo","theItem","MediaElementPlayer","autoplay","features","success","mediaElement","originalNode","instance","playerIsReady","renderers","videoWidth","videoHeight","theChaptersArray","chapterString","saveCookieValues","paused","pause","off","on","playerPlayEventCallback","playerPauseEventCallback","playerDurationChangedCallback","playerTimeUpdateCallback","playerEndCallback","playerErrorCallback","playerSourceDataChanged","refreshChapterMarkerPositions","setPlayerFlipped","selectInitialSource","updateTransportButtons","getElementById","noUiSlider","animate","range","min","progressSliderSliding","progressSliderChanged","step","connect","orientation","direction","volumeSliderChanged","zoomSliderChanged","initializePanZoom","panzoom","contain","minScale","maxScale","increment","startTransform","delta","originalEvent","wheelDelta","zoomOut","deltaY","focal","linearZoom","rangeStep","syncZoomSliderPosition","setIsPlaying","newValue","isPlaying","isAudio","isYoutube","togglePitchShiftActivated","disconnectVideo","initVideoObservers","prop","removeAttr","newArray","newSource","src1","src2","srcURL","selectedSourceIndex","strBaseResolution","toString","substring","strSourceResolution","playerSetActiveSource","loadYTSourcesArray","speedSliderChanged","updateSelectedSpeed","updateSelectedResolution","playerVolumeChangedCallback","b_BreakProgressUpdates","currentTime","secondsToMinutes","f_LoopStartTimePercent","f_LoopEndTimePercent","loopWidth","css","currentRate","getPlaybackRate","setPlaybackRate","savedPlaybackPositions","removeIndex","vimeoLoadingError","sliderValue","newTime","playerPlay","playerPause","startPlayback","toFixed","stopLooping","timeStart","loadLoop","timeStop","setCurrentTime","play","sourceIndex","theSource","setSrc","stopIfPlaying","chapterDivs","leftPercent","setPlayerSpeed","desiredSpeed","parseFloat","theSpeed","restorePlaybackRate","theVolume","newSpeed","setPlayerZoom","arrayMatrix","zoomFactor","setZoomSliderPosition","theArray","newSelectHTML","change","onUserChangedVideoResolution","radioButtons","selectedSource","sourceObject","currentSpeed","bWasZoomed","resolutionString","getYTQualityString","currentSource","selectedSpeedIndex","bMatchFound","nMatchIndex","newPlaybackPosition","togglePlayerFlipped","isFlipped","convertYTString","ytString","qualityString","minutes","seconds","strWrapperDiv","strBrowserWrapperID","strActiveChannel","n_DependentsToProcess","n_UpdateTimer","filterSectionList","BrowserFilterSectionList","b_IsProcessing","initializeBrowser","openBrowser","closeBrowser","browserResetFilters","resetResults","loadResultsFavoritesForms","browserChannelCallback","strChannel","isProcessing","initializeProcessing","browserLoadFilters","toggleSearchFilter","strFilterID","strSectionID","theFilterID","theSection","bEnableStacking","sectionType","bWasChecked","undefined","theCheckboxes","filterSectionID","showResultsLoading","processDependents","waitForDependentsToFinishUpdating","submitSearch","refreshActiveFilters","buildFilterSectionData","clearActiveFilters","finalCleanup","removeKeywordFilter","applyKeywordFilter","removeActiveFilter","filtersString","first","checkedFilters","siblings","strKeywords","removeClass","resetSearch","theKeywords","doYouTubeSearch","searchPath","searchKeywords","searchURL","encodeURI","goToResultsPage","resultsURL","nextYouTubeResultsPage","strSearchTerm","offsetNumber","strNextURL","allSections","newSectionObject","BrowserFilterSection","setSectionID","setSectionType","setSectionDOMID","setChannelID","setGroupID","tmpDependenciesArray","tmpDependenciesString","setParentIDs","addSection","computeSectionFamilies","strMasterSectionID","getSectionByID","theChildren","getChildren","rebuildFilterSectionKeys","childParents","getParents","theTagKeys","theCategoryKeys","theKeyIDsString","getKeyString","theKeyType","getSectionType","getSectionID","getChannelID","getGroupID","processDependentFilterSection","dependentObject","theIDs","ids","theSectionID","theInputs","theInputID","theIndex","theFilters","show","dependentFinishedUpdating","restoreFilterSection","theResults","theFavorites","pushResultsFavoritesForms","arrFavorites","theForms","formsArray","theEntryID","itemID","itemForm","theMetaID","itemChapters","itemLoops","itemUserLoops","toggleFavoriteInBrowser","formID","courseID","badgeWrapperID","browserDisplayInstructions","nCode","strMessage","theBrowser","a_Sections","objSection","theParentIDs","getParentIDs","addParent","theParents","addChild","theMatchingIndex","currentStatus","sectionStatuses","currentSectionId","startsWith","rebuildKeys","str_SectionID","str_SectionType","str_ChannelID","str_GroupID","sectionDOMID","a_ParentIDs","a_Children","a_Parents","a_Keys","strID","getSectionDOMID","aParentIDs","objChild","objParent","theKeyString","resetKeys","addKey","strKey","parentWraperDivID","n_SegmentID","n_PackageID","commentsLoadedOnce","b_FilterComments","str_CommentsListWrapperID","setNewPackageAndSegmentIDs","nPackageID","nSegmentID","setAuthorCommentFilter","bFilter","cmtList","theKids","maxTime","theTime","tinysort","order","loadMoreComments","currentOffset","nextURL","replyToComment","nCommentID","theFormID","theReplyDiv","after","theFormURL","focus","submitThreadedCmt","deleteCmtForm","theCommentID","replyWrapperID","subscribeAction","updateCommentFormCharacterCount","text_length","text_remaining","updateDiv","toggleCmtReplies","deleteCmt","strURL","post","comment_id","a_Collections","n_LastActiveCollectionID","hasLists","setLastActiveCollectionID","getLastActiveListID","strUIParentID","strCollectionRole","bEditable","theCollection","getCollectionByRole","newCollectionID","LoopsCollection","appendCollection","aLoopsArray","strListTitle","bResetCollection","addListFromLoopArray","rebuildLoopsUIList","newCollection","getCollectionAt","nIndex","getCollectionByID","getID","getRole","clearActiveLoopsExcept","loopToggleSelected","theID","hasCollections","getLastActiveCollectionID","getCollectionListWithLoops","getFirstCollectionWithLoops","addUserLoop","theLoop","bWasPlaying","loopName","getName","setName","addInstantLoop","removeLoopFromList","removeLoop","getUserLoopsArray","bAddButtonEnabled","bSaveButtonEnabled","userLoopsCollection","isDirty","findMatchingLoop","showLoadingIndicator","getFirstListWithLoops","getCollectionLoopCount","strListWrapperID","str_UIWrapperID","b_Editable","n_CollectionID","str_Role","a_Lists","b_IsDirty","getListCount","getEditable","setDirty","bDirty","clearLoopsUIList","getListAt","theList","validListIndex","theLoops","theTotal","getListLoopCount","setNewLoopName","strNewName","getLoopAt","strListHTML","collectionID","bUseAccordion","getListTitle","loopIndex","setChecked","loopItem","bStacking","enableLoopStacking","setCollection","setListIndex","setLoopIndex","theClass","appendList","newList","theListIndex","LoopsList","createFromLoopArray","loopToMatch","clearActiveLoops","refreshLoopCheckedStates","addInstantLoopToList","nListID","a_Loops","n_ListID","str_ListTitle","getCollectionID","getListID","setLoopsList","a_newLoopsList","addLoopFromValues","strName","fLoopStart","fLoopEnd","currentIndex","getFirstActiveLoop","getChecked","appendFromLoopArray","myLoop","abs","toggleLoopCheckedState","processLoopToggle","computeStackedLoop","isLoopAlreadyChecked","isLoopAMiddle","previousLoopChecked","toggleChecked","getStackable","previousLoopConnected","bConnected","myStartTime","myEndTime","previousStartTime","previousEndTime","nextLoopConnected","nextStartTime","nextEndTime","setStackable","getLoopParentID","nSelectedIndex","bLoopAlreadyChecked","bLoopIsMiddle","previousCheckedLoopIndex","findPreviousStackableCheckedLoop","nextCheckedLoopIndex","findNextStackableCheckedLoop","setStackableLoopRange","nLowerIndex","nHigherIndex","startIndex","nFoundIndex","nLength","lowerLoop","higherLoop","loopStart","loopEnd","loopInitialized","validateLoop","loopValid","fStartTime","fStopTime","str_Name","f_EndTime","b_Stackable","b_Checked","setLoopEnd","fEndTime","bStackable","bChecked","getLoopIDObject","validate","getDefaultName","b_IsLoaded","str_Title","str_SegmentType","str_PrimaryMediaType","str_EntryID","str_VimeoCode","str_YouTubeCode","str_MP3Filename","str_SoundSliceCode","str_PDFFilename","str_MediaURL","str_GPXFilename","str_DisplayName","str_FullDisplayName","str_FacebookUser","str_FacebookVideoCode","str_InstagramID","str_HTMLContent","a_ChaptersArray","a_LoopsArray","str_YTMatchingEntryID","str_Description","a_UserLoopEntryIDs","bLoaded","strEntryID","strYTMatchingEntryID","strMediaType","strVimeoCode","str_URL","strGPXFilename","strDisplayName","strFullDisplayName","aChaptersArray","strUser","strCode","strHTML","fTime","strDescription","getCodeByType","getGPXFilename","getMediaStartTime","str_StartTime","bAllowUserData","bAllowImport","strUserLoopEntryIDs","getUserLoopsEntryIDs","getUserLoopEntryIDsCount","str_PackageType","b_Loaded","str_ChannelName","str_ChannelShortName","str_DefaultSegmentEntryID","str_Overview","str_ImageURL","str_Tuning","str_Date","str_ErrorMessage","setPackageType","nEntryID","strChannelName","strOverview","strImageURL","objSections","strDate","strError","strTuning","getPackageType","getChannelShortName","getDate","isEntry","str_PackageTYpe","hasSections","parentDivID","str_FavoritesListWrapperID","b_CommentsLoadedOnce","b_FavoritesLoadedOnce","b_Initialized","str_ReloadPath","clearFavorites","reloadPath","finishedReloadingFavorites","removeFavoriteFromList","parentItem","context","parentList","parentAccordion","fadeOut","addFavoriteToList","strHistoryListWrapperID","str_ActiveSegmentTitle","str_ActiveSegmentURL","n_ActiveSegmentEntryID","str_ActiveSegmentFullName","a_ResumeItems","str_HistoryListWrapperID","arrayHistoryItems","objCurrentHistoryItem","channel","clearHistory","historyString","strPackageTitle","strPackageChannel","strSegmentTitle","aHistoryItems","newHistoryItem","getLastHistoryItem","historyItems","b_UserDataDirty","getSegmentID","reloadUserData","loadUserDataForm","requestURL","pushUserLoops","loopsText","validLoopsArray","validateJSON","importAllSegmentLoops","processImportedSegmentLoops","arrImportedLoops","theImportedLoopData","memberLoopCollections","theMemberLoops","memberName","updateUserDataForm","userLoopsArray","jsonString","compObjects","obj1","obj2","drawer","keywords","activeCategory","searching","default_browser_entries","search_entries","activeFilters","filterStatus","Set","criteria","SET_CURRENT_CATEGORY","ADD_TO_DRAWER","REMOVE_DRAWER","pop","TOGGLE_SEARCHING","SET_ENTRIES_PAGINATION","SET_DEFAULT_BROWSER_ENTRIES","SET_SEARCH_ENTRIES","SET_SEARCH","TOGGLE_FILTER_STATUS","VALIDATE_UNIQUE_FILTER","clear","has","delete","objData","sectionStackable","add","REFRESH_ACTIVE_FILTERS","objFilter","BUILD_SECTION_DATA","sectionChannelId","sectionGroupId","sectionDependencies","PROCESS_DEPENDENT_FILTERS","filtered","gotoPage","searchEntries","getAuthObject","addToDrawer","removeDrawer","removeFilter","toggleSearchCriteria","updateFilters","updateFilterStatus","updateFilterSet","getFilterParams","q_string","reqObj","encodeURIComponent","getFilterList","getFilteredResults","queryString","setResultData","generateDependentURL","getFilterDependents","URL","fetchDefaultSearch","setCriteria","results","getActiveCategory","isSearching","getFilters","fromEntries"],"mappings":";QAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,4CAA4C,qDAAqD,6BAA6B,wUAAwU;QACtc;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;;;QAGA;QACA,oBAAoB;QACpB;QACA;QACA;QACA,2BAA2B,qDAAqD,6BAA6B,wUAAwU;QACrb;QACA;QACA,mBAAmB,6BAA6B;QAChD;QACA;QACA;QACA;QACA;QACA,mBAAmB,8BAA8B;QACjD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA,KAAK;QACL;QACA,KAAK;QACL;;QAEA;;QAEA;QACA,iCAAiC;;QAEjC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,wBAAwB,kCAAkC;QAC1D,MAAM;QACN;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA;QACA;QA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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA31BI,CAHY,CA+1BZ;;AAEA,UAAMnJ,CAAC,GAAGpE,OAAO,CAACqE,IAAR,CAAakJ,OAAb,CAAV;AACA,UAAMC,QAAQ,GAAGpJ,CAAC,CAAC,kBAAD,CAAlB;AACA,WAAOoJ,QAAP;AACD;;AACDvJ,kBAAgB,CAACwJ,OAAD,EAAU;AACxB,QAAIzI,WAAW,GAAG,EAAlB;AACA,UAAM0I,qBAAqB,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAtCI;AAuCA,UAAMC,kBAAkB,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA54CI;;AA64CA,YAAQF,OAAR;AACE,WAAK,CAAL;AACA,WAAK,IAAL;AACEzI,mBAAW,GAAG2I,kBAAd;AACA;;AACF,WAAK,CAAL;AACA,WAAK,KAAL;AACA;AACE3I,mBAAW,GAAG0I,qBAAd;AACA;AATJ;;AAWA,WAAO1I,WAAP;AACD;;AAl9FiC,C;;;ACJpC;AACA;AACA;AACA;AACArM,kCAAG,CAAC0G,GAAJ,CAAQuO,2BAAR;AAEA,MAAMC,WAAK,GAAG,IAAID,2BAAI,CAACE,KAAT,CAAe;AAC3B5V,OAAK,EAAE;AACL6V,iBAAa,EAAE,KADV;AAELtS,cAAU,EAAG,IAAIwE,2BAAJ;AAFR,GADoB;AAK3B/D,SAAO,EAAE;AACP8R,OAAG,EAAE9V,KAAK,IAAIA,KAAK,CAACuD,UAAN,CAAiB8F;AADxB,GALkB;AAQ3B7G,SAAO,EAAE;AACPuT,eAAW,GAAG;AACZ;AACA,WAAK,MAAMhP,UAAX,IAAyBpC,MAAM,CAACC,IAAP,CAAYiC,kBAAZ,CAAzB,EAA+C;AAC7C,YACEA,kBAAO,CAACE,UAAD,CAAP,CAAoBvE,OAApB,IACAqE,kBAAO,CAACE,UAAD,CAAP,CAAoBvE,OAApB,CAA4B8B,SAF9B,EAGE;AACAqR,qBAAK,CAAChT,QAAN,CAAgB,GAAEoE,UAAW,YAA7B;AACD;AACF;AACF,KAXM;;AAYPzC,aAAS,GAAG;AACVqR,iBAAK,CAAChT,QAAN,CAAe,aAAf;AACD;;AAdM,GARkB;AAyB3BkE,6BAAOA;AAzBoB,CAAf,CAAd;AA4BA8O,WAAK,CAAChT,QAAN,CAAe,WAAf;AACegT,yDAAf,E;;;;;;ACnCA,MAAMK,MAAM,GAAG,CACb;AACEC,MAAI,EAAE,OADR;AAEEC,WAAS,EAAE,MAAM;AAFnB,CADa,EAKb;AACA;AACA;AACA;AACA;AACA;AACED,MAAI,EAAE,GADR;AAEEC,WAAS,EAAE,MAAM,6HAFnB;AAGE;AACAnI,UAAQ,EAAE,CACR;AACEkI,QAAI,EAAE,EADR;AAEEC,aAAS,EAAE,MAAM;AAFnB,GADQ,EAKR;AACE7U,QAAI,EAAE,UADR;AAEE4U,QAAI,EAAE,iBAFR;;AAGEE,eAAW,GAAG;AACZC,cAAQ,CAACC,IAAT,GAAiB,+BAA8BC,IAAK,EAApD;AACD;;AALH,GALQ,EAYR;AACEjV,QAAI,EAAE,SADR;AAEE4U,QAAI,EAAE,gBAFR;AAGEC,aAAS,EAAE,MAAM;AAHnB,GAZQ,EAiBR;AACE7U,QAAI,EAAE,OADR;AAEE4U,QAAI,EAAE,cAFR;AAGEC,aAAS,EAAE,MAAM,4HAHnB;AAIEK,QAAI,EAAE;AACJzR,SAAG,EAAE,YADD;AAEJzD,UAAI,EAAE;AAFF;AAJR,GAjBQ,EA0BR;AACEA,QAAI,EAAE,QADR;AAEE4U,QAAI,EAAE,eAFR;AAGEC,aAAS,EAAE,MAAM,qFAHnB;AAIEK,QAAI,EAAE;AACJzR,SAAG,EAAE,aADD;AAEJzD,UAAI,EAAE;AAFF;AAJR,GA1BQ,EAmCR;AACEA,QAAI,EAAE,WADR;AAEE4U,QAAI,EAAE,kBAFR;AAGEC,aAAS,EAAE,MAAM,6HAHnB;AAIEK,QAAI,EAAE;AACJzR,SAAG,EAAE,gBADD;AAEJzD,UAAI,EAAE;AAFF;AAJR,GAnCQ;AAJZ,CAVa,EA4Db;AACEA,MAAI,EAAE,OADR;AAEE4U,MAAI,EAAE,QAFR;AAGEC,WAAS,EAAE,MAAM,4HAHnB;AAIEnI,UAAQ,EAAE,CACR;AACE1M,QAAI,EAAE,QADR;AAEE4U,QAAI,EAAE,8BAFR;AAGEC,aAAS,EAAE,MAAM;AAHnB,GADQ,EAMR;AACE7U,QAAI,EAAE,SADR;AAEE4U,QAAI,EAAE,mBAFR;AAGEC,aAAS,EAAE,MAAM;AAHnB,GANQ;AAJZ,CA5Da,EA6Eb;AACED,MAAI,EAAE,UADR;AAEEC,WAAS,EAAE,MAAM,4HAFnB;AAGEnI,UAAQ,EAAE,CAAC;AAAEkI,QAAI,EAAE,EAAR;AAAYC,aAAS,EAAE,MAAM;AAA7B,GAAD;AAHZ,CA7Ea,EAkFb;AACA;AACA;AACED,MAAI,EAAE,GADR;AAEEC,WAAS,EAAE,MAAM;AAFnB,CApFa,CAAf;AA0FeF,wDAAf,E;;AC1FA;AACA;AAEA;AAEAvV,kCAAG,CAAC0G,GAAJ,CAAQqP,iCAAR;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AAAU;AAAV,GAAuC;AACpD,QAAMC,MAAM,GAAG,IAAID,iCAAJ,CAAc;AAC3BE,kBAAc,EAAE,OAAO;AAAEtV,OAAC,EAAE,CAAL;AAAQuV,OAAC,EAAE;AAAX,KAAP,CADW;AAE3BC,QAAI,EAAE,SAFqB;AAG3BZ,yBAH2B;AAK3B;AACA;AACA;AACAY,QAAI,EAAEC,MARqB;AAS3BC,QAAI,EAAED,EAA2BE;AATN,GAAd,CAAf;AAYA,SAAON,MAAP;AACD,C;;AC9BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAIA;AAGA;AAEA;AAKe,kEAAkB;AAC/B;AAEA,QAAMd,KAAK,GAAG,OAAOqB,SAAP,KAAuB,UAAvB,GACV,MAAMA,SAAW,CAAC;AAACvW,2CAAGA;AAAJ,GAAD,CADP,GAEVuW,SAFJ;AAIA,QAAMC,MAAM,GAAG,OAAOC,UAAP,KAAwB,UAAxB,GACX,MAAMA,UAAY,CAAC;AAACzW,2CAAD;AAAMkV;AAAN,GAAD,CADP,GAEXuB,UAFJ,CAP+B,CAW/B;;AACAvB,OAAK,CAACwB,OAAN,GAAgBF,MAAhB,CAZ+B,CAe/B;AACA;AACA;;AACA,QAAMG,GAAG,GAAG;AACVH,UADU;AAEVtB,SAFU;AAGV0B,UAAM,EAAEC,CAAC,IAAIA,CAAC,CAACC,GAAD;AAHJ,GAAZ;AAQAH,KAAG,CAACpV,EAAJ,GAAS,QAAT,CA1B+B,CA6B/B;AACA;AACA;;AACA,SAAO;AACLoV,OADK;AAELzB,SAFK;AAGLsB;AAHK,GAAP;AAKD,C;;AClED;CAEA;AACA;;AACe,iDAAC;AAAEA;AAAF,CAAD,KAAgB;AAC7BA,QAAM,CAACO,UAAP,CAAkB,CAAClG,EAAD,EAAKmG,IAAL,EAAW7J,IAAX,KAAoB;AACpC,UAAMuG,GAAG,GAAG,UAAZ;AACA,UAAMuD,GAAG,GAAG,IAAI7C,IAAJ,EAAZ;AACA,QAAI8C,QAAQ,GAAGhQ,+BAAY,CAACiQ,OAAb,CAAqBzD,GAArB,CAAf,CAHoC,CAIpC;AACA;;AACA,QAAIwD,QAAJ,EAAc;AACZ,UAAID,GAAG,CAACG,OAAJ,MAAgBF,QAAhB,aAAgBA,QAAhB,uBAAgBA,QAAQ,CAAEG,MAA1B,CAAJ,EAAsC;AACpClK,YAAI;AACL,OAFD,MAEO;AACLpM,eAAO,CAACC,GAAR,CAAY,qCAAZ;AACAkU,iBAAK,CAACjT,MAAN,CAAa,oBAAb,EAAmC,KAAnC;AACAiF,uCAAY,CAACoQ,MAAb,CAAoB5D,GAApB;AACAvG,YAAI,CAAC,OAAD,CAAJ;AACD;AACF,KATD,MASO;AACL,UAAK0D,EAAE,CAAC2E,IAAH,KAAY,OAAjB,EAA2B;AACzBrI,YAAI,CAAE,OAAF,CAAJ;AACD,OAFD,MAEO;AACLA,YAAI;AACL;AACF;AACF,GAtBD;AAuBD,CAxBD,E;;;;;ACJA;AACA;AAEAnN,kCAAG,CAACuX,SAAJ,CAAcC,MAAd,GAAuBzS,eAAvB,C;;;;;;;;;ACHA;AACA;CAEA;AAEA;AACA;;AACA/E,kCAAG,CAAC0G,GAAJ,CAAQ+Q,2BAAR;AACAzX,kCAAG,CAAC0G,GAAJ,CAAQgR,wBAAR,E;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AAEA;CAOA;;AACA;AAKA;AAGA;AACA;AAKA;AAEA;AAEA;AAEA;AAQA1X,kCAAG,CAAC4G,MAAJ,CAAW+Q,QAAX,GAAsB,IAAtB;AACA3X,kCAAG,CAAC4G,MAAJ,CAAWgR,aAAX,GAA2B,KAA3B;AAOA,MAAMC,UAAU,GAAI,EAApB;;AAGA,eAAeC,KAAf,GAAwB;AACtB,QAAM;AAAEnB,OAAF;AAAOzB,SAAP;AAAcsB;AAAd,MAAyB,MAAMuB,WAAS,EAA9C;AAKA,MAAIC,aAAa,GAAG,KAApB;;AACA,QAAMC,QAAQ,GAAGjP,GAAG,IAAI;AACtBgP,iBAAa,GAAG,IAAhB;AACA,UAAME,UAAU,GAAGhU,MAAM,CAAC8E,GAAD,CAAN,KAAgBA,GAAhB,GACfwN,MAAM,CAAC2B,OAAP,CAAenP,GAAf,EAAoBoP,KAApB,CAA0BC,QADX,GAEfrP,GAFJ;AAIAsP,UAAM,CAAC3C,QAAP,CAAgBC,IAAhB,GAAuBsC,UAAvB;AACD,GAPD;;AASA,QAAMK,OAAO,GAAGD,MAAM,CAAC3C,QAAP,CAAgBC,IAAhB,CAAqBpP,OAArB,CAA6B8R,MAAM,CAAC3C,QAAP,CAAgB6C,MAA7C,EAAqD,EAArD,CAAhB;AACA,QAAMC,SAAS,GAAG,CAACC,WAAD,EAAsBC,mBAAtB,EAAyCC,wHAAzC,EAAyDC,2HAAzD,CAAlB;;AAEA,OAAK,IAAIxX,CAAC,GAAG,CAAb,EAAgB2W,aAAa,KAAK,KAAlB,IAA2B3W,CAAC,GAAGoX,SAAS,CAACnX,MAAzD,EAAiED,CAAC,EAAlE,EAAsE;AACpE,QAAI,OAAOoX,SAAS,CAACpX,CAAD,CAAhB,KAAwB,UAA5B,EAAwC;AACtC;AACD;;AAED,QAAI;AACF,YAAMoX,SAAS,CAACpX,CAAD,CAAT,CAAa;AACjBsV,WADiB;AAEjBH,cAFiB;AAGjBtB,aAHiB;AAIjBlV,+CAJiB;AAKjB8Y,kBAAU,EAAE,IALK;AAMjBb,gBANiB;AAOjBM,eAPiB;AAQjBV;AARiB,OAAb,CAAN;AAUD,KAXD,CAYA,OAAO1O,GAAP,EAAY;AACV,UAAIA,GAAG,IAAIA,GAAG,CAACH,GAAf,EAAoB;AAClBsP,cAAM,CAAC3C,QAAP,CAAgBC,IAAhB,GAAuBzM,GAAG,CAACH,GAA3B;AACA;AACD;;AAEDjI,aAAO,CAAC6S,KAAR,CAAc,sBAAd,EAAsCzK,GAAtC;AACA;AACD;AACF;;AAED,MAAI6O,aAAa,KAAK,IAAtB,EAA4B;AAC1B;AACD;;AAUG,MAAIhY,kCAAJ,CAAQ2W,GAAR;AASL;;AAEDmB,KAAK,G;;;;;;;;;;;;;;;;;;;;;;;ACvIL;AACA;AACe;AACbxY,YAAU,EAAE,IADC;AAEbC,OAAK,EAAE;AACLwZ,iBAAa,EAAE,IADV;AAELC,iBAAa,EAAE,IAFV;AAGLC,aAAS,EAAE,IAAIA,2EAAJ,EAHN;AAILC,gBAAY,EAAE;AAAE9I,aAAO,EAAE;AAAX,KAJT;AAKL+I,aAAS,EAAE,IALN;AAMLC,eAAW,EAAE,IANR;AAOLrO,YAAQ,EAAE,IAPL;AAQLsO,iBAAa,EAAE,EARV;AASLC,cAAU,EAAE,CATP;AAULC,gBAAY,EAAE,IAVT;AAWLC,kBAAc,EAAE;AACdC,sBAAgB,EAAE,KADJ;AAEdC,cAAQ,EAAE,CAAC,CAFG;AAGdC,WAAK,EAAE,CAHO;AAIdC,YAAM,EAAE,GAJM;AAKdC,UAAI,EAAE,CALQ;AAMdC,gBAAU,EAAE,CAAC,CANC;AAOdC,eAAS,EAAE,CAAC,CAPE;AAQdC,aAAO,EAAE,KARK;AASdC,aAAO,EAAE,KATK;AAUdC,aAAO,EAAE,KAVK;AAWdC,iBAAW,EAAE;AAXC,KAXX;AAwBLC,cAAU,EAAE;AACV3J,cAAQ,EAAE;AADA,KAxBP;AA2BL5F,gBAAY,EAAE;AA3BT,GAFM;AA+BblL,WAAS,EAAE;AACT0a,iBAAa,CAACxa,GAAD,EAAM;AACjBA,SAAG,CAACmZ,aAAJ,GAAoB,IAApB;AACAnZ,SAAG,CAACkZ,aAAJ,GAAoB,IAApB;AACAlZ,SAAG,CAACqZ,YAAJ,GAAmB;AAAE9I,eAAO,EAAE;AAAX,OAAnB;AACApQ,yDAAG,CAACC,GAAJ,CAAQJ,GAAR,EAAa,gBAAb,EAA+B;AAC7B6Z,gBAAQ,EAAE,CAAC,CADkB;AAE7BC,aAAK,EAAE,CAFsB;AAG7BC,cAAM,EAAE,GAHqB;AAI7BC,YAAI,EAAE,CAJuB;AAK7BC,kBAAU,EAAE,CAAC,CALgB;AAM7BC,iBAAS,EAAE,CAAC,CANiB;AAO7BO,kBAAU,EAAE,IAPiB;AAQ7Bb,wBAAgB,EAAE,KARW;AAS7BO,eAAO,EAAE,KAToB;AAU7BC,eAAO,EAAE,KAVoB;AAW7BC,eAAO,EAAE,KAXoB;AAY7BC,mBAAW,EAAE;AAZgB,OAA/B,EAJiB,CAkBjB;AACD,KApBQ;;AAqBTI,sBAAkB,CAAC1a,GAAD,EAAMuD,IAAN,EAAY;AAC5BrC,aAAO,CAACwE,IAAR,CAAa,wBAAb,EAAuCnC,IAAvC;AACAvD,SAAG,CAACmZ,aAAJ,GAAoB5V,IAApB;AACD,KAxBQ;;AA0BToX,eAAW,CAAC3a,GAAD,EAAM;AACfkB,aAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBnB,GAAG,CAAC2Z,cAAJ,CAAmBU,OAArC;AACAra,SAAG,CAAC2Z,cAAJ,CAAmBU,OAAnB,GAA6B,CAACra,GAAG,CAAC2Z,cAAJ,CAAmBU,OAAjD;AACAnZ,aAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBnB,GAAG,CAAC2Z,cAAJ,CAAmBU,OAAtC;AACD,KA9BQ;;AA+BTO,wBAAoB,CAAC5a,GAAD,EAAM6a,WAAN,EAAmB;AACrC1a,yDAAG,CAACC,GAAJ,CACEJ,GADF,EAEE,gBAFF,EAGEqE,MAAM,CAAC0J,MAAP,CAAc,EAAd,EAAkB/N,GAAG,CAAC2Z,cAAtB,EAAsCkB,WAAtC,CAHF;AAKD,KArCQ;;AAsCTC,sBAAkB,CAAC9a,GAAD,EAAMuD,IAAN,EAAY;AAC5B,UAAI,CAACA,IAAL,EAAW,OADiB,CAE5B;;AACA,UAAIvD,GAAG,CAACkZ,aAAJ,KAAsB,IAA1B,EAAgC;AAC9B;AACAlZ,WAAG,CAACwZ,aAAJ,CAAkBzX,IAAlB,CAAuB/B,GAAG,CAACkZ,aAA3B,EAF8B,CAI9B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;AACF,KAhEQ;;AAiET6B,sBAAkB,CAAC/a,GAAD,EAAMuD,IAAN,EAAY;AAC5B;AACAvD,SAAG,CAACsZ,SAAJ,GAAgBhN,IAAI,CAACC,KAAL,CAAWD,IAAI,CAAC0O,SAAL,CAAezX,IAAf,CAAX,CAAhB;AACD,KApEQ;;AAqET0X,wBAAoB,CAACjb,GAAD,EAAMuD,IAAN,EAAY;AAC9B;AACAvD,SAAG,CAACuZ,WAAJ,GAAkBjN,IAAI,CAACC,KAAL,CAAWD,IAAI,CAAC0O,SAAL,CAAezX,IAAf,CAAX,CAAlB;AACD,KAxEQ;;AAyET2X,uBAAmB,CAAClb,GAAD,EAAMmb,WAAN,EAAmB;AACpC,UAAIA,WAAW,CAACC,YAAZ,KAA6B,EAAjC,EAAqC;AACnCpb,WAAG,CAACoZ,SAAJ,CAAciC,UAAd,CACGC,UADH,CACcH,WAAW,CAAC7P,SAD1B,EAEGiQ,QAFH,CAEYJ,WAAW,CAACK,YAFxB,EAGGC,cAHH,CAGkBN,WAAW,CAACO,cAH9B,EAIGC,mBAJH,CAIuBR,WAAW,CAACS,kBAJnC,EAKGC,OALH,CAKWV,WAAW,CAACW,WALvB,EAMGC,wBANH,CAM4BZ,WAAW,CAACa,uBANxC,EAOGC,cAPH,CAOkBd,WAAW,CAACe,kBAP9B,EAQGC,WARH,CAQehB,WAAW,CAACiB,eAR3B,EASGC,WATH,CASelB,WAAW,CAAChQ,YAT3B,EAUGmR,WAVH,CAUenB,WAAW,CAACjQ,QAV3B,EAWGqR,SAXH,CAWapB,WAAW,CAACqB,aAXzB,EAYGC,SAZH,CAYa,IAZb;AAaAzc,WAAG,CAACoZ,SAAJ,CAAcsD,2BAAd,GAA4C,IAA5C;AACD,OAfD,MAeO;AACL1c,WAAG,CAACoZ,SAAJ,CAAciC,UAAd,CACGoB,SADH,CACa,KADb,EAEGE,eAFH,CAEmBxB,WAAW,CAACC,YAF/B;AAGD;AACF,KA9FQ;;AA+FTwB,uBAAmB,CAAC5c,GAAD,EAAM6c,WAAN,EAAmB;AACpC;AACA7c,SAAG,CAACoZ,SAAJ,CAAc0D,UAAd,CACGxB,UADH,CACcuB,WAAW,CAACE,cAD1B,EAEGC,cAFH,CAEkB,OAFlB,EAGGC,YAHH,CAGgBJ,WAAW,CAACrM,gBAH5B,EAIG0M,cAJH,CAIkBL,WAAW,CAACnM,kBAJ9B,EAKGyM,cALH,CAKkBN,WAAW,CAAChM,kBAL9B,EAMGuM,iBANH,CAMqBP,WAAW,CAAC/L,qBANjC,EAOGuM,cAPH,CAOkBR,WAAW,CAACS,kBAP9B,EAQGC,WARH,CAQeV,WAAW,CAACW,UAR3B,EASGC,cATH,CASkBZ,WAAW,CAAC9L,kBAT9B,EAUGwK,QAVH,CAUYsB,WAAW,CAAC3M,YAVxB,EAWGwN,cAXH,CAWkBb,WAAW,CAACc,kBAX9B,EAYGC,kBAZH,CAYsBf,WAAW,CAACgB,sBAZlC,EAaGC,gBAbH,CAaoBjB,WAAW,CAACkB,aAbhC,EAcGC,aAdH,CAciBnB,WAAW,CAACoB,UAd7B,EAeGC,iBAfH,CAeqBrB,WAAW,CAACsB,cAfjC,EAgBGC,cAhBH,CAgBkBvB,WAAW,CAACwB,WAhB9B,EAiBGpC,cAjBH,CAiBkBY,WAAW,CAACyB,uBAjB9B,EAkBGC,8BAlBH,CAkBkC1B,WAAW,CAAC2B,gBAlB9C,EAmBGC,WAnBH,CAmBe,IAnBf,EAoBGC,cApBH;AAqBA1e,SAAG,CAACoZ,SAAJ,CAAcuF,2BAAd,GAA4C,IAA5C;AACD,KAvHQ;;AAwHTC,6BAAyB,CAAC5e,GAAD,EAAMuD,IAAN,EAAY;AACnC;AACA;AACA;AACA;AACA,UAAIA,IAAJ,EAAU;AACRvD,WAAG,CAACqZ,YAAJ,GAAmBhV,MAAM,CAAC0J,MAAP,CACjB,EADiB,EAEjB/N,GAAG,CAACqZ,YAFa,EAGjBrZ,GAAG,CAACua,UAHa,EAIjBva,GAAG,CAAC2Z,cAJa,EAKjBpW,IALiB,CAAnB;AAOD,OARD,MAQO;AACLvD,WAAG,CAACqZ,YAAJ,GAAmB,EAAnB;AACD,OAfkC,CAiBnC;;AACD,KA1IQ;;AA2ITwF,qBAAiB,CAAC7e,GAAD,EAAMuD,IAAN,EAAY;AAC3BvD,SAAG,CAACgL,YAAJ,GAAmBzH,IAAnB,aAAmBA,IAAnB,uBAAmBA,IAAI,CAAEyH,YAAzB;AACD,KA7IQ;;AA8IT8T,iBAAa,CAAC9e,GAAD,EAAMuD,IAAN,EAAY;AACvBvD,SAAG,CAACyZ,UAAJ,GAAiBlW,IAAjB;AACD,KAhJQ;;AAiJTwb,qBAAiB,CAAC/e,GAAD,EAAMuD,IAAN,EAAY;AAC3BrC,aAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,OAAOoC,IAA5B;AACAvD,SAAG,CAAC0Z,YAAJ,GAAmBnW,IAAnB;AACD,KApJQ;;AAqJTyb,wBAAoB,CAAChf,GAAD,EAAMuD,IAAN,EAAY;AAC9B;AACAvD,SAAG,CAAC2Z,cAAJ,CAAmBE,QAAnB,GAA8BtW,IAA9B;AACD,KAxJQ;;AAyJT0b,kBAAc,CAACjf,GAAD,EAAMyO,IAAN,EAAY;AACxBvN,aAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBsN,IAArB;AACAzO,SAAG,CAAC2Z,cAAJ,CAAmBM,UAAnB,GAAgCxL,IAAhC;AACD,KA5JQ;;AA6JTyQ,iBAAa,CAAClf,GAAD,EAAMyO,IAAN,EAAY;AACvBvN,aAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBsN,IAApB;AACAzO,SAAG,CAAC2Z,cAAJ,CAAmBO,SAAnB,GAA+BzL,IAA/B;AACD,KAhKQ;;AAiKT0Q,qBAAiB,CAACnf,GAAD,EAAM;AAAEof,mBAAF;AAAiBC,gBAAjB;AAA6BC;AAA7B,KAAN,EAAiD;AAChEtf,SAAG,CAACuf,WAAJ,CAAgBC,YAAhB,CAA6BJ,aAA7B,EAA4CC,UAA5C,EAAwDC,UAAxD;AACD,KAnKQ;;AAoKTG,kBAAc,CAACzf,GAAD,EAAM8R,GAAN,EAAW;AACvB,UAAKA,GAAL,EAAW;AACT9R,WAAG,CAAC2Z,cAAJ,CAAmBS,OAAnB,GAA6BtI,GAA7B;AACA9R,WAAG,CAAC2Z,cAAJ,CAAmBQ,OAAnB,GAA6BrI,GAA7B;AACD,OAHD,MAGO;AACL9R,WAAG,CAAC2Z,cAAJ,CAAmBS,OAAnB,GAA8B,CAACpa,GAAG,CAAC2Z,cAAJ,CAAmBS,OAAlD;AACD;AACF,KA3KQ;;AA4KTsF,6BAAyB,CAAC1f,GAAD,EAAMgU,GAAN,EAAW;AAClChU,SAAG,CAAC2Z,cAAJ,CAAmBc,UAAnB,CAA8BzG,GAAG,CAACH,GAAlC,IAAyCG,GAAG,CAAC2L,MAA7C;AACD,KA9KQ;;AA+KTC,6BAAyB,CAAC5f,GAAD,EAAM;AAC7BA,SAAG,CAAC2Z,cAAJ,CAAmBC,gBAAnB,GAAsC,CAAC5Z,GAAG,CAAC2Z,cAAJ,CACpCC,gBADH;AAED,KAlLQ;;AAmLTiG,uBAAmB,CAAC7f,GAAD,EAAMuD,IAAN,EAAY;AAC7B,UAAI,CAACA,IAAL,EAAW;AACTvD,WAAG,CAAC2Z,cAAJ,CAAmBc,UAAnB,GAAgC,IAAhC;AACD,OAFD,MAEO;AACLza,WAAG,CAAC2Z,cAAJ,CAAmBc,UAAnB,GAAgClX,IAAhC;AACD;AACF,KAzLQ;;AA0LTuc,kBAAc,CAAC9f,GAAD,EAAM8R,GAAN,EAAW;AACvB9R,SAAG,CAAC2Z,cAAJ,CAAmBQ,OAAnB,GAA6BrI,GAAG,GAAGA,GAAH,GAAS,CAAC9R,GAAG,CAAC2Z,cAAJ,CAAmBQ,OAA7D;AACD;;AA5LQ,GA/BE;AA6NbjY,SAAO,EAAE;AACP6d,aAAS,CAAC;AAAE3d;AAAF,KAAD,EAAa;AACpBA,YAAM,CAAC,gBAAD,EAAmB,CAAC,CAApB,CAAN;AACAA,YAAM,CAAC,eAAD,EAAkB,CAAC,CAAnB,CAAN;AACAA,YAAM,CAAC,gBAAD,EAAmB,KAAnB,CAAN;AACAA,YAAM,CAAC,gBAAD,EAAmB,KAAnB,CAAN;AACD,KANM;;AAOP4d,gBAAY,CAAC;AAAE5d,YAAF;AAAU1C;AAAV,KAAD,EAAoB+O,IAApB,EAA0B;AACpC;AACA,UAAKA,IAAI,IAAI/O,KAAK,CAACia,cAAN,CAAqBM,UAAlC,EAA+C;AAC/C,YAAMgG,OAAO,GAAGxR,IAAhB,CAHoC,CAGd;AACtB;;AACArM,YAAM,CAAC,gBAAD,EAAmB6d,OAAnB,CAAN;AACA,UAAIvgB,KAAK,CAACia,cAAN,CAAqBO,SAArB,GAAiC+F,OAArC,EACE7d,MAAM,CAAC,eAAD,EAAkB,CAAC,CAAnB,CAAN;AACH,KAfM;;AAgBP8d,eAAW,CAAC;AAAE9d,YAAF;AAAU1C;AAAV,KAAD,EAAoB+O,IAApB,EAA0B;AACnC,YAAMwR,OAAO,GAAGxR,IAAhB,CADmC,CACb;;AACtB,YAAMwJ,KAAK,GAAGvY,KAAK,CAACia,cAAN,CAAqBM,UAAnC;AACA,UAAIvU,IAAI,GAAG,EAAX;;AACA,UAAIuS,KAAK,IAAI,CAAb,EAAgB;AACd,YAAIA,KAAK,KAAKgI,OAAd,EAAuB;AACrB,cAAIhI,KAAK,GAAGgI,OAAZ,EAAqB;AACnB/e,mBAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB8e,OAAzB;AACA7d,kBAAM,CAAC,eAAD,EAAkB6d,OAAlB,CAAN;AACAva,gBAAI,GAAG;AACLN,kBAAI,EAAE,UADD;AAEL+a,qBAAO,EAAE;AAFJ,aAAP;AAID,WAPD,MAOO;AACLza,gBAAI,GAAG;AACLN,kBAAI,EAAE,UADD;AAEL+a,qBAAO,EAAE;AAFJ,aAAP;AAID;AACF,SAdD,MAcO;AACLza,cAAI,GAAG;AACLN,gBAAI,EAAE,UADD;AAEL+a,mBAAO,EAAE;AAFJ,WAAP;AAID;AACF,OArBD,MAqBO;AACL,YAAIzgB,KAAK,CAACia,cAAN,CAAqBC,gBAAzB,EAA2C;AACzC;AACAxX,gBAAM,CAAC,eAAD,EAAkB6d,OAAlB,CAAN;AACAva,cAAI,GAAG;AACLN,gBAAI,EAAE,UADD;AAEL+a,mBAAO,EAAE;AAFJ,WAAP;AAID,SAPD,MAOO;AACLza,cAAI,GAAG;AACLN,gBAAI,EAAE,MADD;AAEL+a,mBAAO,EAAE;AAFJ,WAAP;AAID;AACF;;AACDjf,aAAO,CAACwE,IAAR,CAAaA,IAAb;AACA,aAAOA,IAAP;AACD,KA1DM;;AA2DP0a,qBAAiB,CAAC;AAAE/d,cAAF;AAAYD;AAAZ,KAAD,EAAuBie,OAAvB,EAAgC;AAC/C,YAAMC,QAAQ,GAAGD,OAAO,CAACC,QAAzB;AACAle,YAAM,CAAC,2BAAD,CAAN;AACAlB,aAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCmf,QAAtC;AACAje,cAAQ,CAAC,cAAD,EAAiBie,QAAQ,CAAC,CAAD,CAAzB,CAAR,CAAsChd,IAAtC,CACEjB,QAAQ,CAAC,aAAD,EAAgBie,QAAQ,CAAC,CAAD,CAAxB,CADV;AAGAle,YAAM,CAAC,2BAAD,EAA8Bie,OAA9B,CAAN;AACAje,YAAM,CAAC,2BAAD,CAAN;AACD,KApEM;;AAqEPme,mBAAe,CAAC;AAAEne;AAAF,KAAD,EAAamB,IAAb,EAAmB;AAChCnB,YAAM,CAAC,mBAAD,EAAsBmB,IAAtB,CAAN;AACD,KAvEM;;AAwEPid,cAAU,CAAC;AAAEpe;AAAF,KAAD,EAAaqe,IAAb,EAAmB;AAC3Bre,YAAM,CAAC,aAAD,CAAN;AACD,KA1EM;;AA2EPse,iBAAa,CAAC;AAAEte;AAAF,KAAD,EAAaqM,IAAb,EAAmB;AAC9BrM,YAAM,CAAC,eAAD,EAAkBqM,IAAlB,CAAN;AACD,KA7EM;;AA8EPkS,sBAAkB,CAAC;AAAEve;AAAF,KAAD,EAAayY,WAAb,EAA0B;AAC1CzY,YAAM,CAAC,sBAAD,EAAyByY,WAAzB,CAAN;AACD,KAhFM;;AAiFP+F,iBAAa,CAAC;AAAEve;AAAF,KAAD,EAAewe,GAAf,EAAoB;AAC/B,aAAOxe,QAAQ,CAAC,mBAAD,EAAsBwe,GAAtB,CAAf;AACD,KAnFM;;AAoFP,UAAMC,iBAAN,CAAwB9gB,GAAxB,EAA6B6gB,GAA7B,EAAkC;AAChC,YAAME,QAAQ,GAAG,MAAM/gB,GAAG,CAACgD,SAAJ,CAAcC,UAAd,CAAyBoI,WAAzB,CAAqCwV,GAArC,EAA0CA,GAA1C,CAAvB,CADgC,CAEhC;;AACA,aAAOE,QAAP;AACD,KAxFM;;AAyFP,UAAMC,mBAAN,CAA0BhhB,GAA1B,EAA+B8K,EAA/B,EAAmC;AACjC,aAAO,MAAM9K,GAAG,CAACgD,SAAJ,CAAcC,UAAd,CAAyB6G,cAAzB,CAAwCgB,EAAxC,EACVxH,IADU,CACL2d,QAAQ,IAAI;AAChB;AACA,YAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC,OAAOA,QAAP;AAClC,eACE3U,IAAI,CAACC,KAAL,CACE0U,QAAQ,CAACC,UAAT,CACE,yBADF,EAEE,oBAFF,CADF,KAKK,EANP;AAQD,OAZU,EAaV5d,IAbU,CAaL2d,QAAQ,IAAI;AAChBjhB,WAAG,CAACoC,MAAJ,CAAW,sBAAX,EAAmC6e,QAAnC,EADgB,CAEhB;;AACA,eAAOA,QAAP;AACD,OAjBU,CAAb;AAkBD,KA5GM;;AA6GPE,oBAAgB,EAAE,CAACnhB,GAAD,EAAM8K,EAAN,KAAa9K,GAAG,CAACqC,QAAJ,CAAa,qBAAb,EAAoCyI,EAApC,CA7GxB;AA8GPsW,gBAAY,EAAE,CAAC;AAAE/e;AAAF,KAAD,EAAeyI,EAAf,KAAsB;AAClC,YAAMuW,KAAK,GAAGhf,QAAQ,CAAC,kBAAD,EAAqByI,EAArB,CAAR,CAAiCxH,IAAjC,CAAsCtC,EAAE,IAAI;AACxD,cAAMR,IAAI,GAAG,CAAC,OAAD,EAAU,UAAV,CAAb;AACA6B,gBAAQ,CAAC,mBAAD,EAAsB7B,IAAtB,EAA4B;AAAEoC,cAAI,EAAE;AAAR,SAA5B,CAAR;AACA,eAAO5B,EAAP;AACD,OAJa,CAAd;AAKA,aAAOqgB,KAAP;AACD,KArHM;;AAsHP,UAAMC,gBAAN,CAAuBthB,GAAvB,EAA4B8K,EAA5B,EAAgC;AAC9B,aAAO,MAAM9K,GAAG,CAACgD,SAAJ,CAAcC,UAAd,CAAyB4H,UAAzB,CAAoCC,EAApC,EAAwCxH,IAAxC,CACX6X,WAAW,IAAI;AACb;AACAnb,WAAG,CAACoC,MAAJ,CAAW,qBAAX,EAAkC+Y,WAAlC;AACAnb,WAAG,CAACoC,MAAJ,CAAW,mBAAX,EAAgC+Y,WAAhC;AAEA,eAAOA,WAAP;AACD,OAPU,EAQXpH,KAAK,IAAI7S,OAAO,CAAC6S,KAAR,CAAe,kCAAiCA,KAAM,EAAtD,CARE,CAAb;AAUD,KAjIM;;AAkIPwN,gBAAY,CAAC;AAAEnf;AAAF,KAAD,EAAa;AACvBA,YAAM,CAAC,eAAD,CAAN;AACD,KApIM;;AAqIPof,qBAAiB,EAAExhB,GAAG,IACpBA,GAAG,CAACqC,QAAJ,CACE,gBADF,EAEErC,GAAG,CAACN,KAAJ,CAAU0Z,SAAV,CAAoBiC,UAApB,CAA+BoG,wBAA/B,EAFF,CAtIK;;AA0IP,UAAMC,cAAN,CAAqB;AAAErf;AAAF,KAArB,EAAmC0H,KAAnC,EAA0C;AACxC,YAAMxE,QAAQ,GAAG,MAAMlD,QAAQ,CAAC,cAAD,EAAiB0H,KAAjB,CAAR,CACpBzG,IADoB,CACfwM,GAAG,IAAI;AACX;AACA,eAAOA,GAAP;AACD,OAJoB,EAKpBxM,IALoB,CAKftC,EAAE,IAAIqB,QAAQ,CAAC,wBAAD,EAA2BrB,EAA3B,CALC,EAMrB;AANqB,OAOpBsC,IAPoB,CAOfwH,EAAE,IAAIzI,QAAQ,CAAC,kBAAD,EAAqByI,EAArB,CAPC,EAQpBxH,IARoB,CAQf,MAAMjB,QAAQ,CAAC,cAAD,CARC,CAAvB;AASA,aAAOkD,QAAP;AACD,KArJM;;AAsJPoc,gBAAY,EAAE,CAAC;AAAEtf;AAAF,KAAD,EAAeyI,EAAf,KAAsB;AAClC,aAAOzI,QAAQ,CAAC,kBAAD,EAAqByI,EAArB,CAAR,CAAiCxH,IAAjC,CAAsCwH,EAAE,IAAI;AACjD,cAAM8W,QAAQ,GAAG,CACf;AACE7gB,cAAI,EAAE,OADR;AAEEwB,uBAAa,EAAE,cAFjB;AAGEC,cAAI,EAAE,UAHR;AAIEC,kBAAQ,EAAE,IAJZ;AAKEC,aAAG,EAAE,MACH;AANJ,SADe,EAWf;AACE3B,cAAI,EAAE,UADR;AAEEwB,uBAAa,EAAE,iBAFjB;AAGEC,cAAI,EAAE,cAHR;AAIEC,kBAAQ,EAAE,IAJZ;AAKEC,aAAG,EAAE,MACH;AANJ,SAXe,CAAjB;AAqBAL,gBAAQ,CAAC,gBAAD,EAAmBuf,QAAnB,EAA6B;AAAEhf,cAAI,EAAE;AAAR,SAA7B,CAAR;AACA,eAAOkI,EAAP;AACD,OAxBM,CAAP;AAyBD,KAhLM;;AAiLP,UAAM+W,gBAAN,CAAuB7hB,GAAvB,EAA4B8K,EAA5B,EAAgC;AAC9B,YAAMvF,QAAQ,GAAG,MAAMvF,GAAG,CAACgD,SAAJ,CAAcC,UAAd,CAAyBmI,UAAzB,CAAoCN,EAApC,CAAvB;AACA9K,SAAG,CAACN,KAAJ,CAAU0Z,SAAV,CAAoB0I,+BAApB,CAAoDhX,EAApD,EAAwD,IAAxD,EAF8B,CAG9B;;AACA9K,SAAG,CAACoC,MAAJ,CAAW,qBAAX,EAAkCmD,QAAlC;AACAvF,SAAG,CAACoC,MAAJ,CAAW,2BAAX,EAAwC,IAAxC;AACA,aAAO0I,EAAP;AACD,KAxLM;;AAyLPiX,0BAAsB,CAAC/hB,GAAD,EAAMgiB,SAAN,EAAiB;AACrC,UAAInF,WAAW,GAAG,IAAlB;;AACA,UAAI7c,GAAG,CAACN,KAAJ,CAAUsL,YAAd,EAA4B;AAC1B6R,mBAAW,GAAG7c,GAAG,CAACN,KAAJ,CAAUsL,YAAV,CAAuB,CAAvB,EAA0BmE,QAA1B,CAAmCvN,MAAnC,CACZwL,GAAG,IAAIA,GAAG,CAACpM,EAAJ,KAAWghB,SADN,EAEZ,CAFY,CAAd,CAD0B,CAI1B;AACD,OALD,MAKO;AACLnF,mBAAW,GAAG7c,GAAG,CACdqC,QADW,CACF,cADE,EACc2f,SADd,EAEX1e,IAFW,CAEN,MACJtD,GAAG,CAACqC,QAAJ,CACE,wBADF,EAEErC,GAAG,CAAC0D,OAAJ,CAAYue,eAAZ,GAA8BjhB,EAFhC,CAHU,CAAd;AAQD,OAhBoC,CAiBrC;;;AACA,UAAI6b,WAAJ,EAAiB7c,GAAG,CAACoC,MAAJ,CAAW,2BAAX,EAAwCya,WAAxC;AACjB,aAAOmF,SAAP;AACD,KA7MM;;AA8MPE,eAAW,CAACliB,GAAD,EAAM8K,EAAN,EAAU;AACnB,aAAO9K,GAAG,CAACqC,QAAJ,CAAa,gBAAb,EAA+ByI,EAA/B,CAAP;AACD,KAhNM;;AAiNPqX,kBAAc,CAAC;AAAE/f;AAAF,KAAD,EAAaggB,QAAb,EAAuB;AACnC,UAAI7e,IAAI,GAAG,EAAX;;AACA,UAAI6e,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAJ,EAA6C;AAC3C9e,YAAI,CAAC,SAAD,CAAJ,GAAkB6e,QAAQ,CAACE,YAAT,CAAsB7c,GAAtB,CAA0BjB,GAAG,IAAI;AACjD,iBAAO;AACL+d,gBAAI,EAAE/d,GAAG,CAACge,UADL;AAELhe,eAAG,EAAEA,GAAG,CAAC2E,GAFJ;AAGL/D,gBAAI,EAAE;AAHD,WAAP;AAKD,SANiB,CAAlB;AAOD;;AACD,UAAIgd,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAJ,EACE9e,IAAI,CAAC,QAAD,CAAJ,GAAiB6e,QAAQ,CAACK,SAA1B;AACFlf,UAAI,CAAC6B,IAAL,GAAY,OAAZ;AACAhD,YAAM,CAAC,2BAAD,EAA8BmB,IAA9B,CAAN;AACD,KAhOM;;AAiOP,UAAMmf,YAAN,CAAmB1iB,GAAnB,EAAwB;AACtB,UAAIoP,OAAO,GAAGpP,GAAG,CAACN,KAAJ,CAAU0Z,SAAV,CAAoB0D,UAAlC;AACA,UAAI6F,SAAS,GAAGvT,OAAO,CAACwT,mBAAR,EAAhB;AACA,UAAIld,IAAI,GAAG;AAAEid,iBAAS,EAAEA;AAAb,OAAX;AACA,UAAI3Z,IAAI,GAAG,oBAAX;AACA,UAAIzF,IAAJ,CALsB,CAMtB;AACA;;AACA,cAAQof,SAAR;AACE,aAAK,OAAL;AACEpf,cAAI,GAAG6L,OAAO,CAACyT,YAAR,EAAP;AACAnd,cAAI,CAACnC,IAAL,GAAYA,IAAZ;AACAyF,cAAI,IAAK,IAAG2Z,SAAU,IAAGpf,IAAK,EAA9B;AACA,gBAAMuf,KAAK,GAAG,MAAM9iB,GAAG,CAACgD,SAAJ,CAAcC,UAAd,CAAyByI,SAAzB,CAAmC1C,IAAnC,CAApB,CAJF,CAKE;;AACA,iBAAOhJ,GAAG,CAACqC,QAAJ,CAAa,gBAAb,EAA+BygB,KAA/B,CAAP;;AACF,aAAK,SAAL;AACEvf,cAAI,GAAG6L,OAAO,CAAC2T,cAAR,EAAP;AACArd,cAAI,CAACnC,IAAL,GAAYA,IAAZ;AACAyF,cAAI,IAAK,IAAG2Z,SAAU,IAAGpf,IAAK,EAA9B,CAHF,CAIE;;AACA;;AACF,aAAK,KAAL;AACEA,cAAI,GAAG6L,OAAO,CAAC4T,cAAR,EAAP;AACAtd,cAAI,CAACnC,IAAL,GAAYA,IAAZ;AACAyF,cAAI,IAAK,IAAG2Z,SAAU,IAAGpf,IAAK,EAA9B,CAHF,CAIE;;AACA;;AACF,aAAK,YAAL;AACEA,cAAI,GAAG6L,OAAO,CAAC6T,iBAAR,EAAP;AACAvd,cAAI,CAACnC,IAAL,GAAYA,IAAZ;AACAyF,cAAI,GAAI,2BAA0B2Z,SAAU,IAAGpf,IAAK,EAApD;AACA,gBAAM2f,KAAK,GAAG,MAAMljB,GAAG,CAACgD,SAAJ,CAAcC,UAAd,CAAyB8F,YAAzB,CAAsCC,IAAtC,CAApB;AACA9H,iBAAO,CAACC,GAAR,CAAY+hB,KAAZ;AACA,gBAAMC,KAAK,GAAG;AACZ5f,gBAAI,EAAEA,IADM;AAEZ6B,gBAAI,EAAEud,SAFM;AAGZO,iBAAK,EAAEA;AAHK,WAAd;AAKAljB,aAAG,CAACoC,MAAJ,CAAW,2BAAX,EAAwC+gB,KAAxC;AACA,iBAAOD,KAAP;;AACF,aAAK,KAAL;AACEla,cAAI,GAAI,oBAAmBoG,OAAO,CAACgU,cAAR,EAAyB,EAApD,CADF,CAEE;;AACA;;AACF,aAAK,KAAL;AACE,iBAAQ,mCAAkCC,kBAAkB,CAC1DC,MAD0D,CAE1D,6BAFF;;AAGF,aAAK,UAAL;AACE,eAAKC,iBAAL,CACE,KAAKzG,UAAL,CAAgB0G,eAAhB,EADF,EAEE,KAAK1G,UAAL,CAAgB2G,oBAAhB,EAFF;AAIA;;AACF,aAAK,WAAL;AACEza,cAAI,IAAK,IAAG2Z,SAAU,IAAGvT,OAAO,CAACsU,cAAR,EAAyB,EAAlD,CADF,CAGE;;AACA;;AACF,aAAK,MAAL;AACE;AACA,iBAAQ,sCAAqCtU,OAAO,CAACuU,cAAR,EAAyB,QAAtE;AAtDJ,OARsB,CAgEtB;AAEA;;;AACA3jB,SAAG,CAACoC,MAAJ,CAAW,2BAAX,EAAwCsD,IAAxC;AACA,aAAO1F,GAAG,CAACgD,SAAJ,CAAcC,UAAd,CAAyByI,SAAzB,CAAmC1C,IAAnC,EAAyCtD,IAAzC,CAAP;AACD;;AAtSM,GA7NI;AAqgBbhC,SAAO,EAAE;AACPkgB,eAAW,EAAE5jB,GAAG,IAAI;AAClB,YAAMiY,KAAK,GAAGjY,GAAG,CAAC2Z,cAAJ,CAAmBM,UAAjC;AACA,YAAM4J,IAAI,GAAG7jB,GAAG,CAAC2Z,cAAJ,CAAmBO,SAAhC;AACA,aAAOjC,KAAK,IAAI,CAAT,IAAc4L,IAAI,IAAI,CAAtB,IAA2B5L,KAAK,KAAK4L,IAArC,IAA6CA,IAAI,GAAG5L,KAAP,GAAe,CAAnE;AACD,KALM;AAMP6L,gBAAY,EAAE9jB,GAAG,IAAIA,GAAG,CAAC2Z,cAAJ,CAAmBM,UANjC;AAOP8J,eAAW,EAAE/jB,GAAG,IAAIA,GAAG,CAAC2Z,cAAJ,CAAmBO,SAPhC;AAQP8J,cAAU,EAAEhkB,GAAG,IAAI;AACjB,YAAMikB,UAAU,GAAGjkB,GAAG,CAACwZ,aAAJ,CAAkB/X,MAArC;AACA,UAAIwiB,UAAU,KAAK,CAAnB,EAAsB,OAAO,EAAP;AACtB,YAAMC,UAAU,GAAGD,UAAU,GAAG,CAAb,GAAiBA,UAAjB,GAA8B,CAAjD;AACA,aAAOjkB,GAAG,CAACwZ,aAAJ,CAAkB/O,KAAlB,CAAwByZ,UAAxB,EAAoC,CAAC,CAArC,CAAP;AACD,KAbM;AAcPC,mBAAe,EAAEnkB,GAAG,IAAI;AACtB,aAAOA,GAAG,CAACgL,YAAX;AACD,KAhBM;AAiBPoZ,qBAAiB,EAAEpkB,GAAG,IACpBA,GAAG,CAACoZ,SAAJ,CAAciC,UAAd,CAAyBoG,wBAAzB,OAAwD;AAlBnD;AArgBI,CAAf,E;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AAEe;AACbhiB,YAAU,EAAE,IADC;AAEbC,OAAK,EAAE;AACL2X,YAAQ,EAAE;AADL,GAFM;AAKbvX,WAAS,EAAE;AACTukB,iBAAa,CAAC3kB,KAAD,EAAQiU,KAAR,EAAe;AAC1BjU,WAAK,CAAC2X,QAAN,GAAiB1D,KAAjB;AACD;;AAHQ,GALE;AAUbzR,SAAO,EAAE;AACPoiB,iBAAa,CAAC;AAAEjiB;AAAF,KAAD,EAAekiB,OAAf,EAAwB;AACnCrjB,aAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBojB,OAAxB;AAEAC,wEAAY,CACTC,8BADH,CACkCF,OAAO,CAACG,KAD1C,EACiDH,OAAO,CAACI,QADzD,EAEGrhB,IAFH,CAEQshB,cAAc,IAAI;AACtB;AACA,YAAItW,IAAI,GAAGsW,cAAc,CAACtW,IAA1B;AACApN,eAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCmN,IAAvC,EAHsB,CAItB;;AACAjM,gBAAQ,CAAC,YAAD,EAAekiB,OAAf,CAAR;AACD,OARH,EASGlb,KATH,CASS0K,KAAK,IAAI;AACd5M,oFAAM,CAAC0d,MAAP,CAAc;AACZzf,cAAI,EAAE,UADM;AAEZ0f,iBAAO,EAAE/Q,KAAK,CAACpJ,IAFH;AAGZwV,iBAAO,EAAEpM,KAAK,CAACoM;AAHH,SAAd;AAKAjf,eAAO,CAAC6S,KAAR,CAAcA,KAAK,CAACpJ,IAApB,EAA0BoJ,KAAK,CAACoM,OAAhC;AACD,OAhBH;AAiBD,KArBM;;AAsBP4E,cAAU,CAAC;AAAE3iB,YAAF;AAAUC;AAAV,KAAD,EAAuBkiB,OAAvB,EAAgC;AACxC,YAAMS,OAAO,GAAG7d,4EAAM,CAAC0d,MAAP,CAAc;AAC5BI,eAAO,EAAEC,8FADmB;AAE5B/E,eAAO,EAAE;AAFmB,OAAd,CAAhB;AAIAqE,wEAAY,CACTW,0BADH,CAC8BZ,OAAO,CAACG,KADtC,EAC6CH,OAAO,CAACI,QADrD,EAEGrhB,IAFH,CAEQshB,cAAc,IAAI;AACtB;AACA,YAAIQ,KAAK,GAAGR,cAAc,CAACtW,IAA3B,CAFsB,CAGtB;;AACAjM,gBAAQ,CAAC,eAAD,EAAkB,UAAlB,CAAR;AACA2iB,eAAO;AACP,aAAKnO,OAAL,CAAalQ,OAAb,CAAqB,GAArB,EAA0B0C,KAA1B,CAAgCC,GAAG,IAAI,CAAE,CAAzC;AACD,OATH,EAUGD,KAVH,CAUS0K,KAAK,IAAI;AACd3R,cAAM,CAAC,eAAD,EAAkB,KAAlB,CAAN;AACA4iB,eAAO;AACP7d,oFAAM,CAAC0d,MAAP,CAAc;AACZzf,cAAI,EAAE,UADM;AAEZ0f,iBAAO,EAAE/Q,KAAK,CAACpJ,IAFH;AAGZwV,iBAAO,EAAEpM,KAAK,CAACoM;AAHH,SAAd;AAKAjf,eAAO,CAAC6S,KAAR,CAAcA,KAAK,CAACpJ,IAApB,EAA0BoJ,KAAK,CAACoM,OAAhC;AACD,OAnBH;AAoBD,KA/CM;;AAgDPkF,eAAW,CAAC;AAAEjjB;AAAF,KAAD,EAAa;AACtBlB,aAAO,CAACC,GAAR,CAAY,QAAZ;AACAqjB,wEAAY,CAACc,OAAb,GAAuBhiB,IAAvB,CAA4B,MAAM;AAChClB,cAAM,CAAC,eAAD,EAAkB,KAAlB,CAAN;AACA,aAAKyU,OAAL,CAAa9U,IAAb,CAAkB,OAAlB,EAA2BsH,KAA3B,CAAiCC,GAAG,IAAI,CAAE,CAA1C;AACAjC,0FAAY,CAACoQ,MAAb,CAAoB,UAApB;AACD,OAJD;AAKD,KAvDM;;AAwDP8N,iBAAa,CAACvlB,GAAD,EAAM6T,GAAN,EAAW;AACtB,YAAMuD,GAAG,GAAG,IAAI7C,IAAJ,EAAZ;AACA,YAAMiR,MAAM,GAAG,KAAK,EAAL,GAAU,EAAV,GAAe,IAA9B,CAFsB,CAEc;;AACpC,YAAMC,IAAI,GAAG;AACXjO,cAAM,EAAEJ,GAAG,CAACG,OAAJ,KAAgBiO;AADb,OAAb;AAGAne,wFAAY,CAACjH,GAAb,CAAiByT,GAAjB,EAAsB4R,IAAtB;AACD,KA/DM;;AAgEPC,yBAAqB,CAAC;AAAEtjB;AAAF,KAAD,EAAauR,KAAb,EAAoB;AACvC6Q,wEAAY,CAACmB,kBAAb,CAAgCrX,IAAI,IAAI;AACtCsX,qFAAO,CAACC,IAAR;;AACA,YAAIvX,IAAJ,EAAU;AACR;AACAlM,gBAAM,CAAC,eAAD,EAAkB,IAAlB,CAAN;AACA,eAAKyU,OAAL,CAAa9U,IAAb,CAAkB,GAAlB,EAAuBsH,KAAvB,CAA6BC,GAAG,IAAI,CAAE,CAAtC;AACD,SAJD,MAIO;AACLlH,gBAAM,CAAC,eAAD,EAAkB,KAAlB,CAAN;AACAiF,4FAAY,CAACoQ,MAAb,CAAoB,UAApB;AACA,eAAKZ,OAAL,CAAalQ,OAAb,CAAqB,OAArB,EAA8B0C,KAA9B,CAAoCC,GAAG,IAAI,CAAE,CAA7C;AACD,SAVqC,CAWtC;;AACD,OAZD;AAaD;;AA9EM,GAVI;AA0Fb5F,SAAO,EAAE;AA1FI,CAAf,E;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;AC3BA,uC;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA,MAAMoiB,cAAc,GAAG;AACrBC,QAAM,EAAE,yCADa;AAErBC,YAAU,EAAE,kCAFS;AAGrBC,WAAS,EAAE,kBAHU;AAIrBC,eAAa,EAAE,8BAJM;AAKrBC,mBAAiB,EAAE,cALE;AAMrBC,OAAK,EAAE;AANc,CAAvB;AASA,IAAIC,KAAK,GAAGC,4DAAQ,CAACC,aAAT,CAAuBT,cAAvB,CAAZ;AACA,IAAItB,YAAY,GAAG6B,KAAK,CAAChc,IAAN,EAAnB;AACA,IAAImc,UAAU,GAAGH,KAAK,CAACI,QAAN,EAAjB;AACA,IAAIC,aAAa,GAAGL,KAAK,CAACM,SAAN,EAApB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMvN,SAAN,CAAgB;AACrB1R,aAAW,GAAG;AACZ,iBADY,CAEZ;AACA;AACA;;AACA,SAAKkf,WAAL,GAAmB,IAAIC,OAAJ,CAAY,gBAAZ,CAAnB;AACA,SAAKC,gBAAL,GAAwB,IAAIC,gBAAJ,CAAqB,eAArB,CAAxB;AACA,SAAKC,cAAL,GAAsB,IAAIC,cAAJ,CAAmB,aAAnB,CAAtB;AACA,SAAKC,eAAL,GAAuB,IAAIC,eAAJ,CAAoB,SAApB,CAAvB;AACA,SAAKC,YAAL,GAAoB,IAAIC,YAAJ,EAApB;AACA,SAAKC,eAAL,GAAuB,IAAIC,eAAJ,EAAvB;AACA,SAAKlM,UAAL,GAAkB,IAAImM,OAAJ,EAAlB;AACA,SAAK1K,UAAL,GAAkB,IAAI2K,OAAJ,EAAlB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,uBAAL,GAA+B,EAA/B;AACA,SAAKC,yBAAL,GAAiC,eAAjC;AACA,SAAKC,wBAAL,GAAgC,SAAhC;AACA,SAAKC,UAAL,GACE,kEADF;AAEA,SAAKC,0BAAL,GAAkC,KAAlC;AACA,SAAKrL,2BAAL,GAAmC,KAAnC;AACA,SAAKsL,0BAAL,GAAkC,KAAlC;AACA,SAAKrJ,2BAAL,GAAmC,KAAnC;AACA,SAAKsJ,iBAAL,GAAyB,KAAzB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,iBAAL,GAAyB,KAAzB;AACA,SAAKC,sBAAL,GAA8B,CAAC,CAA/B;AACA3P,UAAM,CAAC4P,gBAAP,CAAwB,YAAxB,EAAsCC,KAAK,IAAI;AAC7CpnB,aAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BmnB,KAAK,CAAC5oB,KAAhC;AACA,UAAI6oB,QAAQ,GAAGD,KAAK,CAAC5oB,KAArB;AACAwB,aAAO,CAACC,GAAR,CAAY,oBAAoBmL,IAAI,CAAC0O,SAAL,CAAeuN,QAAf,CAAhC;;AACA,UAAIA,QAAQ,KAAK,IAAjB,EAAuB;AACrB,YACEA,QAAQ,CAACnjB,IAAT,KAAkB,UAAlB,IACAmjB,QAAQ,CAACC,QAAT,KAAsB,UADtB,IAEAD,QAAQ,CAACE,QAAT,KAAsB,EAFtB,IAGAF,QAAQ,CAACG,QAAT,KAAsB,EAJxB,EAKE;AACAC,mBAAS,CAACC,mBAAV,CACEL,QAAQ,CAACE,QADX,EAEEF,QAAQ,CAACG,QAFX,EAGE,KAHF;AAKD,SAXD,MAWO,IACLH,QAAQ,CAACnjB,IAAT,KAAkB,SAAlB,IACAmjB,QAAQ,CAACC,QAAT,KAAsB,SADtB,IAEAD,QAAQ,CAACE,QAAT,KAAsB,EAHjB,EAIL;AACAE,mBAAS,CAACE,wBAAV,CAAmCN,QAAQ,CAACE,QAA5C,EAAsD,KAAtD;AACD,SANM,MAMA,IACLF,QAAQ,CAACnjB,IAAT,KAAkB,SAAlB,IACAmjB,QAAQ,CAACC,QAAT,KAAsB,EADtB,IAEAD,QAAQ,CAACE,QAAT,KAAsB,EAHjB,EAIL;AACAE,mBAAS,CAACG,WAAV,CAAsBP,QAAQ,CAACC,QAA/B,EAAyC,KAAzC;AACD,SANM,MAMA,IACLD,QAAQ,CAACnjB,IAAT,KAAkB,SAAlB,IACAmjB,QAAQ,CAACC,QAAT,KAAsB,EADtB,IAEAD,QAAQ,CAACE,QAAT,KAAsB,EAHjB,EAIL;AACA,cAAIF,QAAQ,CAACC,QAAT,KAAsBG,SAAS,CAACtN,UAAV,CAAqB0N,UAArB,EAA1B,EAA6D;AAC3DJ,qBAAS,CAAC7G,+BAAV,CAA0CyG,QAAQ,CAACE,QAAnD,EAA6D,KAA7D;AACD,WAFD,MAEO;AACLE,qBAAS,CAACK,sBAAV,CACET,QAAQ,CAACC,QADX,EAEED,QAAQ,CAACE,QAFX,EAGE,KAHF;AAKD;AACF,SAdM,MAcA,IAAIF,QAAQ,CAACnjB,IAAT,KAAkB,OAAtB,EAA+B;AACpCujB,mBAAS,CAACM,wBAAV,CAAmC,KAAnC;AACD;AACF;AACF,KA9CD;AA+CD;AACD;;AACA;;AACA;;;AACAA,0BAAwB,CAACC,UAAD,EAAa;AACnC,SAAKC,eAAL;AACA,SAAKC,oBAAL;AACA,SAAKC,YAAL;AACA,SAAKC,wBAAL;AACA,SAAKC,yBAAL;AACA,SAAKC,mBAAL;AACA,SAAKlC,eAAL,CAAqBmC,QAArB;AACA,SAAK3C,gBAAL,CAAsB4C,eAAtB;AACA,SAAKC,sBAAL;AACA,SAAKC,iBAAL;AACA,SAAKC,gBAAL,CAAsB,iBAAtB;AACA,SAAKC,gBAAL,CAAsB,2BAAtB;;AACA,QAAIZ,UAAJ,EAAgB;AACd,WAAKa,SAAL;AACD;AACF;AACD;;AACA;;AACA;;;AACAZ,iBAAe,GAAG;AAChB;AACA;AACA,SAAK5H,YAAL;AACA,SAAKyI,YAAL;AACA,SAAKC,iBAAL;AACD;;AACDA,mBAAiB,GAAG;AAClB,SAAKvN,2BAAL,GAAmC,KAAnC;AACA,SAAKiC,2BAAL,GAAmC,KAAnC;AACA,SAAKoJ,0BAAL,GAAkC,KAAlC;AACA,SAAKC,0BAAL,GAAkC,KAAlC;AACA,SAAKC,iBAAL,GAAyB,KAAzB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACD;;AACDgC,mBAAiB,GAAG;AAClB,SAAKL,gBAAL,CAAsB,iBAAtB;AACAje,KAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,UAAnC,EAA+C,KAA/C;AACD;;AACDC,kBAAgB,GAAG;AACjB,SAAKF,iBAAL,CAAuB,iBAAvB;AACA,SAAKJ,gBAAL,CAAsB,iBAAtB;AACAle,KAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,UAAnC,EAA+C,KAA/C;AACD;;AACD5I,cAAY,GAAG;AACb,SAAKlG,UAAL,CAAgBoO,QAAhB,GADa,CAEb;AACA;AACA;AACA;;AACA,SAAKvC,eAAL,CAAqBmD,KAArB;AACA,SAAKvD,gBAAL,CAAsBuD,KAAtB;AACD;;AACDC,sBAAoB,GAAG;AACrB;AACA1e,KAAC,CAAC,cAAD,CAAD,CAAkB2e,KAAlB;AACA3e,KAAC,CAAC,mBAAD,CAAD,CAAuB4e,MAAvB,CAA8B,IAA9B;AACD;;AACDR,cAAY,GAAG;AACb,QAAI,KAAKtC,SAAL,KAAmB,IAAvB,EAA6B;AAC3B,WAAKA,SAAL,CAAe+C,qBAAf;AACA,aAAO,KAAK/C,SAAZ;AACD;;AACD,SAAK5K,UAAL,CAAgB2M,QAAhB;AACA,SAAKnC,eAAL,CAAqBmC,QAArB,GANa,CAOb;AACA;;AACA,SAAKiB,iBAAL,GATa,CAUb;AACD;;AACDC,sBAAoB,GAAG;AACrB/e,KAAC,CAAC,cAAD,CAAD,CAAkB2e,KAAlB;AACA3e,KAAC,CAAC,mBAAD,CAAD,CAAuBE,IAAvB,CAA4B,oBAA5B;AACAF,KAAC,CAAC,mBAAD,CAAD,CAAuB4e,MAAvB,CAA8B,IAA9B;AACD;;AACDE,mBAAiB,GAAG;AAClB,SAAKtD,YAAL,CAAkBqC,QAAlB;AACD;;AACDmB,mBAAiB,GAAG;AAClB,SAAKd,gBAAL,CAAsB,QAAtB;AACD;;AACDe,sBAAoB,GAAG;AACrBjf,KAAC,CAAC,mCAAD,CAAD,CAAuCue,WAAvC,CAAmD,QAAnD,EAA6D,KAA7D;AACD;;AACDW,sBAAoB,GAAG;AACrBlf,KAAC,CAAC,yBAAD,CAAD,CAA6B4e,MAA7B,CAAoC,KAApC;AACA5e,KAAC,CAAC,yBAAD,CAAD,CAA6Bmf,QAA7B,CAAsC,MAAtC;AACD;;AACDC,SAAO,GAAG;AACR;AACA;AACA,QAAI,KAAK3P,UAAL,CAAgB4P,eAAhB,OAAsC,EAA1C,EAA8C;AAC5CC,WAAK,CAAC,KAAK7P,UAAL,CAAgB4P,eAAhB,EAAD,CAAL;AACD;;AACD,SAAKhC,wBAAL;AACD;AACD;;AACA;;AACA;;;AACAH,aAAW,CAACqC,YAAD,EAAejC,UAAf,EAA2B;AACpC,SAAKC,eAAL;AACA,SAAKjB,WAAL,GAAmBgB,UAAnB,CAFoC,CAGpC;AACA;AACA;AACD;;AACDF,wBAAsB,CAACmC,YAAD,EAAeC,YAAf,EAA6BlC,UAA7B,EAAyC;AAC7D,SAAKC,eAAL;AACA,SAAKjB,WAAL,GAAmBgB,UAAnB;AACA,SAAKmC,qBAAL,CAA2BF,YAA3B;AACA,SAAKG,qBAAL,CAA2BF,YAA3B;AACA,SAAKG,4BAAL;AACD;;AACDzJ,iCAA+B,CAACsJ,YAAD,EAAelC,UAAf,EAA2B;AACxDhoB,WAAO,CAACC,GAAR,CAAY,sBAAsBiqB,YAAlC,EADwD,CAExD;AACA;;AACA,SAAKpB,YAAL;AACA,SAAKC,iBAAL;AACA,SAAK/B,WAAL,GAAmBgB,UAAnB,CANwD,CAOxD;;AACA,SAAKsC,kBAAL;AACD;;AACD3C,0BAAwB,CAAC4C,SAAD,EAAYvC,UAAZ,EAAwB;AAC9C,SAAKC,eAAL;AACA,SAAKjB,WAAL,GAAmBgB,UAAnB;AACA,SAAKwC,qBAAL,CAA2BD,SAA3B;AACA,SAAKE,kBAAL;AACD;;AACD/C,qBAAmB,CAACgD,WAAD,EAAcC,YAAd,EAA4B3C,UAA5B,EAAwC;AACzD;AACA,SAAKC,eAAL;AACA,SAAKjB,WAAL,GAAmBgB,UAAnB;AACA,SAAK4C,sBAAL,CAA4BF,WAA5B,EAAyCC,YAAzC;AACA,SAAKE,mBAAL;AACD;;AACDC,4BAA0B,CAACC,cAAD,EAAiB/C,UAAjB,EAA6B;AACrD;AACA,SAAKC,eAAL;AACA,SAAKjB,WAAL,GAAmBgB,UAAnB;AACA,SAAKgD,uBAAL,CAA6BD,cAA7B;AACA,SAAKE,oBAAL;AACD;;AACDC,wBAAsB,CAACC,cAAD,EAAiBnD,UAAjB,EAA6B;AACjD,QAAImD,cAAc,CAACjnB,IAAf,IAAuB,OAA3B,EAAoC;AAClC,WAAK0jB,WAAL,CAAiBuD,cAAc,CAAC/gB,SAAhC,EAA2C4d,UAA3C;AACD,KAFD,MAEO,IAAImD,cAAc,CAACjnB,IAAf,IAAuB,SAA3B,EAAsC;AAC3C,WAAKyjB,wBAAL,CAA8BwD,cAAc,CAAC/gB,SAA7C,EAAwD4d,UAAxD;AACD,KAFM,MAEA,IAAImD,cAAc,CAACjnB,IAAf,IAAuB,UAA3B,EAAuC;AAC5C,WAAKwjB,mBAAL,CACEyD,cAAc,CAACC,QADjB,EAEED,cAAc,CAACE,SAFjB,EAGErD,UAHF;AAKD;AACF;;AACDsD,gCAA8B,CAC5BC,WAD4B,EAE5BC,WAF4B,EAG5BC,WAH4B,EAI5BzD,UAJ4B,EAK5B;AACA,QAAIuD,WAAW,KAAK,EAApB,EAAwB;AACtB,WAAKxD,wBAAL,CAA8BC,UAA9B;AACD,KAFD,MAEO,IAAIuD,WAAW,IAAI,SAAnB,EAA8B;AACnC,WAAK5D,wBAAL,CAA8B6D,WAA9B,EAA2CxD,UAA3C;AACA,WAAK0D,WAAL;AACD,KAHM,MAGA,IAAIH,WAAW,IAAI,UAAnB,EAA+B;AACpC,WAAK7D,mBAAL,CAAyB8D,WAAzB,EAAsCC,WAAtC,EAAmDzD,UAAnD;AACA,WAAK0D,WAAL;AACD,KAHM,MAGA;AACL,UAAIF,WAAW,KAAK,EAApB,EAAwB;AACtB,aAAK1D,sBAAL,CAA4ByD,WAA5B,EAAyCC,WAAzC,EAAsDxD,UAAtD;AACA,aAAK0D,WAAL;AACD,OAHD,MAGO;AACL,aAAK9D,WAAL,CAAiB2D,WAAjB,EAA8BvD,UAA9B;AACA,aAAK0D,WAAL;AACD;AACF;AACF;AACD;AACF;AACA;;;AACEvB,uBAAqB,CAACF,YAAD,EAAe;AAClC,SAAKpD,0BAAL,GAAkC,IAAlC;AACAnc,KAAC,CAACzG,GAAF,CAAM0nB,aAAa,GAAG,2BAAhB,GAA8C1B,YAApD,EAAkE,UAChE5nB,IADgE,EAEhE;AACA,UAAIupB,QAAQ,GAAGC,MAAM,CAACC,SAAP,CAAiBzpB,IAAjB,CAAf;;AACA,UAAIupB,QAAQ,CAAC1R,YAAT,KAA0B,EAA9B,EAAkC;AAChCuN,iBAAS,CAACtN,UAAV,CAAqBC,UAArB,CAAgCwR,QAAQ,CAACxhB,SAAzC;AACAqd,iBAAS,CAACtN,UAAV,CAAqBE,QAArB,CAA8BuR,QAAQ,CAACtR,YAAvC;AACAmN,iBAAS,CAACtN,UAAV,CAAqBI,cAArB,CAAoCqR,QAAQ,CAACpR,cAA7C;AACAiN,iBAAS,CAACtN,UAAV,CAAqBM,mBAArB,CAAyCmR,QAAQ,CAAClR,kBAAlD;AACA+M,iBAAS,CAACtN,UAAV,CAAqBQ,OAArB,CAA6BiR,QAAQ,CAAChR,WAAtC;AACA6M,iBAAS,CAACtN,UAAV,CAAqBU,wBAArB,CACE+Q,QAAQ,CAAC9Q,uBADX;AAGA2M,iBAAS,CAACtN,UAAV,CAAqBY,cAArB,CAAoC6Q,QAAQ,CAAC5Q,kBAA7C;AACAyM,iBAAS,CAACtN,UAAV,CAAqBc,WAArB,CAAiC2Q,QAAQ,CAAC1Q,eAA1C;AACAuM,iBAAS,CAACtN,UAAV,CAAqBgB,WAArB,CAAiCyQ,QAAQ,CAAC3hB,YAA1C;AACAwd,iBAAS,CAACtN,UAAV,CAAqBiB,WAArB,CAAiCwQ,QAAQ,CAAC5hB,QAA1C;AACAyd,iBAAS,CAACtN,UAAV,CAAqBkB,SAArB,CAA+BuQ,QAAQ,CAACtQ,aAAxC;AACAmM,iBAAS,CAACtN,UAAV,CAAqBoB,SAArB,CAA+B,IAA/B;AACAkM,iBAAS,CAACjM,2BAAV,GAAwC,IAAxC;AACD,OAhBD,MAgBO;AACLiM,iBAAS,CAACtN,UAAV,CAAqBoB,SAArB,CAA+B,KAA/B;AACAkM,iBAAS,CAACtN,UAAV,CAAqBsB,eAArB,CAAqCmQ,QAAQ,CAAC1R,YAA9C;AACD;AACF,KAxBD;AAyBD;;AACDkQ,uBAAqB,CAACF,YAAD,EAAe;AAClC;AACA;AACA,SAAK6B,wBAAL,CAA8B7B,YAA9B;AACA,SAAKpD,0BAAL,GAAkC,IAAlC;AACApc,KAAC,CAACzG,GAAF,CAAM0nB,aAAa,GAAG,2BAAhB,GAA8CzB,YAApD,EAAkE,UAChE7nB,IADgE,EAEhE;AACA;AACA,UAAIupB,QAAQ,GAAGC,MAAM,CAACC,SAAP,CAAiBzpB,IAAjB,CAAf,CAFA,CAGA;;AACAolB,eAAS,CAAC7L,UAAV,CAAqBxB,UAArB,CAAgCwR,QAAQ,CAAC/P,cAAzC;AACA4L,eAAS,CAAC7L,UAAV,CAAqBE,cAArB,CAAoC,OAApC;AACA2L,eAAS,CAAC7L,UAAV,CAAqBG,YAArB,CAAkC6P,QAAQ,CAACtc,gBAA3C;AACAmY,eAAS,CAAC7L,UAAV,CAAqBI,cAArB,CAAoC4P,QAAQ,CAACpc,kBAA7C;AACAiY,eAAS,CAAC7L,UAAV,CAAqBK,cAArB,CAAoC2P,QAAQ,CAACjc,kBAA7C;AACA8X,eAAS,CAAC7L,UAAV,CAAqBM,iBAArB,CAAuC0P,QAAQ,CAAChc,qBAAhD;AACA6X,eAAS,CAAC7L,UAAV,CAAqBO,cAArB,CAAoCyP,QAAQ,CAACxP,kBAA7C;AACAqL,eAAS,CAAC7L,UAAV,CAAqBS,WAArB,CAAiCuP,QAAQ,CAACtP,UAA1C;AACAmL,eAAS,CAAC7L,UAAV,CAAqBW,cAArB,CAAoCqP,QAAQ,CAAC/b,kBAA7C;AACA4X,eAAS,CAAC7L,UAAV,CAAqBvB,QAArB,CAA8BuR,QAAQ,CAAC5c,YAAvC;AACAyY,eAAS,CAAC7L,UAAV,CAAqBY,cAArB,CAAoCoP,QAAQ,CAACnP,kBAA7C;AACAgL,eAAS,CAAC7L,UAAV,CAAqBc,kBAArB,CAAwCkP,QAAQ,CAACjP,sBAAjD;AACA8K,eAAS,CAAC7L,UAAV,CAAqBgB,gBAArB,CAAsCgP,QAAQ,CAAC/O,aAA/C;AACA4K,eAAS,CAAC7L,UAAV,CAAqBkB,aAArB,CAAmC8O,QAAQ,CAAC7O,UAA5C;AACA0K,eAAS,CAAC7L,UAAV,CAAqBoB,iBAArB,CAAuC4O,QAAQ,CAAC3O,cAAhD;AACAwK,eAAS,CAAC7L,UAAV,CAAqBsB,cAArB,CAAoC0O,QAAQ,CAACzO,WAA7C;AACAsK,eAAS,CAAC7L,UAAV,CAAqBb,cAArB,CAAoC6Q,QAAQ,CAACxO,uBAA7C;AACAqK,eAAS,CAAC7L,UAAV,CAAqByB,8BAArB,CACEuO,QAAQ,CAACtO,gBADX;AAGAmK,eAAS,CAAC7L,UAAV,CAAqB2B,WAArB,CAAiC,IAAjC;AACAkK,eAAS,CAAC7L,UAAV,CAAqB4B,cAArB;AACAiK,eAAS,CAAChK,2BAAV,GAAwC,IAAxC;AACD,KA7BD;AA8BD;;AACD+M,uBAAqB,CAACD,SAAD,EAAY;AAC/B;AACA,SAAKyB,gBAAL;AACAthB,KAAC,CAACzG,GAAF,CAAM0nB,aAAa,GAAG,sBAAhB,GAAyCpB,SAA/C,EAA0D,UAASloB,IAAT,EAAe;AACvE;AACA,UAAIupB,QAAQ,GAAGC,MAAM,CAACC,SAAP,CAAiBzpB,IAAjB,CAAf,CAFuE,CAGvE;;AACAolB,eAAS,CAAC7L,UAAV,CAAqBqQ,oBAArB,CAA0CL,QAAQ,CAACM,iBAAnD;AACAzE,eAAS,CAAC7L,UAAV,CAAqBE,cAArB,CAAoC,OAApC;AACA2L,eAAS,CAAC7L,UAAV,CAAqBuQ,mBAArB,CAAyC,SAAzC;AACA1E,eAAS,CAAC7L,UAAV,CAAqBI,cAArB,CAAoC4P,QAAQ,CAACpc,kBAA7C;AACAiY,eAAS,CAAC7L,UAAV,CAAqBc,kBAArB,CAAwCkP,QAAQ,CAACjP,sBAAjD;AACA8K,eAAS,CAAC7L,UAAV,CAAqBb,cAArB,CAAoC6Q,QAAQ,CAACxO,uBAA7C;AACAqK,eAAS,CAAC7L,UAAV,CAAqB2B,WAArB,CAAiC,IAAjC;AACAkK,eAAS,CAAChK,2BAAV,GAAwC,IAAxC;AACD,KAZD;AAaD;;AACDmN,wBAAsB,CAACwB,SAAD,EAAYC,SAAZ,EAAuB;AAC3C;AACA,SAAKL,gBAAL;AACA,SAAKpQ,UAAL,CAAgB0Q,eAAhB,CAAgCF,SAAhC;AACA,SAAKxQ,UAAL,CAAgB2Q,oBAAhB,CAAqCF,SAArC;AACA,SAAKzQ,UAAL,CAAgBE,cAAhB,CAA+B,OAA/B;AACA,SAAKF,UAAL,CAAgBuQ,mBAAhB,CAAoC,UAApC;AACA,SAAKvQ,UAAL,CAAgB2B,WAAhB,CAA4B,IAA5B;AACAkK,aAAS,CAAC7L,UAAV,CAAqB4B,cAArB;AACA,SAAKC,2BAAL,GAAmC,IAAnC;AACD;;AACDuN,yBAAuB,CAACwB,aAAD,EAAgB;AACrC;AACA,SAAKR,gBAAL;AACA,SAAKpQ,UAAL,CAAgB6Q,cAAhB,CAA+BD,aAA/B;AACA,SAAK5Q,UAAL,CAAgBE,cAAhB,CAA+B,OAA/B;AACA,SAAKF,UAAL,CAAgBuQ,mBAAhB,CAAoC,WAApC;AACA,SAAKvQ,UAAL,CAAgB2B,WAAhB,CAA4B,IAA5B;AACAkK,aAAS,CAAC7L,UAAV,CAAqB4B,cAArB;AACA,SAAKC,2BAAL,GAAmC,IAAnC;AACD;AACD;AACF;AACA;;;AACEiP,oBAAkB,GAAG;AACnB,QAAI,KAAKlR,2BAAT,EAAsC;AACpC,UAAI,CAAC,KAAKrB,UAAL,CAAgB4P,eAAhB,EAAL,EAAwC;AACtC,aAAK4C,yBAAL;AACD,OAFD,MAEO;AACL,aAAK7C,OAAL;AACD;AACF,KAND,MAMO;AACL8C,gBAAU,CAAC,YAAW;AACpBnF,iBAAS,CAACiF,kBAAV;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;AACF;;AACDpC,oBAAkB,GAAG;AACnB;AACE,SAAKuC,yBAAL,GAFiB,CAGnB;AACA;AACA;AACA;AACA;AACD;;AACDxC,8BAA4B,GAAG;AAC7B,QAAI,KAAK7O,2BAAL,IAAoC,KAAKiC,2BAA7C,EAA0E;AACxE,UAAI,CAAC,KAAKtD,UAAL,CAAgB4P,eAAhB,EAAL,EAAwC;AACtC,aAAK+C,mCAAL;AACD,OAFD,MAEO;AACL,aAAKhD,OAAL;AACD;AACF,KAND,MAMO;AACL8C,gBAAU,CAAC,YAAW;AACpBnF,iBAAS,CAAC4C,4BAAV;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;AACF;;AACDI,oBAAkB,GAAG;AACnB,QAAI,KAAKhN,2BAAT,EAAsC;AACpC;AACA,WAAKsP,qBAAL;AACD,KAHD,MAGO;AACLH,gBAAU,CAAC,YAAW;AACpBnF,iBAAS,CAACgD,kBAAV;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;AACF;;AACDI,qBAAmB,GAAG;AACpB,QAAI,KAAKpN,2BAAT,EAAsC;AACpC,WAAKuP,sBAAL;AACD,KAFD,MAEO;AACLJ,gBAAU,CAAC,YAAW;AACpBnF,iBAAS,CAACoD,mBAAV;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;AACF;;AACDI,sBAAoB,GAAG;AACrB,QAAI,KAAKxN,2BAAT,EAAsC;AACpC,WAAKwP,uBAAL;AACD,KAFD,MAEO;AACLL,gBAAU,CAAC,YAAW;AACpBnF,iBAAS,CAACwD,oBAAV;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;AACF;;AACDiC,gBAAc,GAAG;AACf,SAAK5E,mBAAL;AACA,SAAKD,yBAAL;;AACA,QAAI,KAAK8E,KAAL,EAAJ,EAAkB;AAChBziB,OAAC,CAAC,MAAD,CAAD,CAAUue,WAAV,CAAsB,QAAtB,EAAgC,IAAhC;AACD;;AACD,QAAI,KAAKmE,QAAL,EAAJ,EAAqB;AACnB1iB,OAAC,CAAC,MAAD,CAAD,CAAUue,WAAV,CAAsB,WAAtB,EAAmC,IAAnC;AACD;;AACD,QAAI,KAAKoE,QAAL,EAAJ,EAAqB;AACnB3iB,OAAC,CAAC,MAAD,CAAD,CAAUue,WAAV,CAAsB,WAAtB,EAAmC,IAAnC;AACD;;AACD,SAAKqE,mBAAL,GAA2B,IAA3B;;AACA,QAAI,KAAKtG,WAAT,EAAsB;AACpB,WAAK6B,SAAL;AACD;AACF;AACD;;AACA;;AACA;;;AACA8D,2BAAyB,GAAG;AAC1B;AACA;AACA;AACA;AACA,QAAI,KAAKxS,UAAL,CAAgBoG,wBAAhB,OAA+C,EAAnD,EAAuD;AACrD,WAAKK,+BAAL,CACE,KAAKzG,UAAL,CAAgBoG,wBAAhB,EADF,EAEE,KAAKyG,WAFP;AAID,KALD,MAKO;AACL;AACA,WAAKuG,gBAAL;AACA,WAAKC,uBAAL;AACD,KAdyB,CAe1B;AACA;AACA;AACA;;;AACA,SAAKxH,eAAL,CAAqByH,eAArB,CAAqC,KAAKtT,UAAL,CAAgB0N,UAAhB,EAArC;AACA,SAAKjC,gBAAL,CAAsB6H,eAAtB,CAAsC,KAAKtT,UAAL,CAAgB0N,UAAhB,EAAtC;AACA,SAAKjC,gBAAL,CAAsB4C,eAAtB;AACA,SAAKxC,eAAL,CAAqB0H,cAArB,GAtB0B,CAuB1B;AACA;AACA;AACA;;AACA,SAAKC,kBAAL,GA3B0B,CA4B1B;AACA;AACD;;AACDd,2BAAyB,GAAG;AAC1B;AACA,SAAKe,0BAAL;AACA,SAAK7B,wBAAL,GAH0B,CAI1B;;AACA,SAAK8B,mBAAL,GAL0B,CAM1B;AACA;AACA;AACA;AACA;AACA;;AACA,SAAKF,kBAAL,GAZ0B,CAa1B;;AACA,SAAK3H,eAAL,CAAqB8H,eAArB,CAAqC,KAAKlS,UAAL,CAAgBiM,UAAhB,EAArC,EAd0B,CAe1B;;AACA7nB,WAAO,CAACC,GAAR,CAAY,eAAZ;;AACA,QAAI,KAAK2b,UAAL,CAAgBmS,aAAhB,EAAJ,EAAqC;AACnC,WAAK3H,eAAL,CAAqB0H,eAArB,CAAqC,KAAKlS,UAAL,CAAgBiM,UAAhB,EAArC,EADmC,CAEnC;AACD;AACF;;AACDiF,qCAAmC,GAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAK9G,eAAL,CAAqByH,eAArB,CAAqC,KAAKtT,UAAL,CAAgB0N,UAAhB,EAArC;AACA,SAAK7B,eAAL,CAAqB8H,eAArB,CAAqC,KAAKlS,UAAL,CAAgBiM,UAAhB,EAArC,EAXoC,CAapC;AACA;AAEA;;AACA,SAAKjC,gBAAL,CAAsB6H,eAAtB,CAAsC,KAAKtT,UAAL,CAAgB0N,UAAhB,EAAtC,EAjBoC,CAmBpC;AACA;AAEA;AACA;AACA;AACA;;AACA,SAAKkE,wBAAL,GA1BoC,CA2BpC;;AACA,SAAK8B,mBAAL,GA5BoC,CA6BpC;AACA;AACA;;AACA,SAAKF,kBAAL;;AACA,QAAI,KAAK/R,UAAL,CAAgBmS,aAAhB,EAAJ,EAAqC;AACnC,WAAK3H,eAAL,CAAqB0H,eAArB,CAAqC,KAAKlS,UAAL,CAAgBiM,UAAhB,EAArC,EADmC,CAEnC;AACD;;AACD,SAAKyF,mBAAL,GAA2B,IAA3B,CArCoC,CAsCpC;AACA;AACA;AAEA;AACA;AACD;;AACDP,uBAAqB,GAAG;AACtB;AACA,QAAI,KAAKnR,UAAL,CAAgBoS,oBAAhB,OAA2C,EAA/C,EAAmD;AACjD,UAAIC,iBAAiB,GAAG,KAAKrS,UAAL,CAAgBoS,oBAAhB,EAAxB,CADiD,CAEjD;AACA;AACA;AACA;AACA;;AACA,WAAKpG,WAAL,CAAiBqG,iBAAjB,EAAoC,IAApC;AACD,KARD,MAQO;AACL,WAAKpB,yBAAL;AACA,WAAKjH,gBAAL,CAAsB4C,eAAtB;AACA,WAAK0F,wBAAL;AACA,WAAKxF,iBAAL;AACD;AACF;;AACDsE,wBAAsB,GAAG;AACvB;AACA,SAAKH,yBAAL;AACA,SAAKnE,iBAAL;AACD;;AACDuE,yBAAuB,GAAG;AACxB;AACA,SAAKJ,yBAAL;AACA,SAAKnE,iBAAL;AACD;;AACDkF,4BAA0B,GAAG;AAC3B;AACA,QAAInM,SAAS,GAAG,KAAK7F,UAAL,CAAgB8F,mBAAhB,EAAhB,CAF2B,CAG3B;;AACA,YAAQD,SAAR;AACE,WAAK,OAAL;AACE,aAAK0M,cAAL,CAAoB,KAAKvS,UAAL,CAAgB+F,YAAhB,EAApB;AACA;;AACF,WAAK,SAAL;AACE,aAAKyM,gBAAL,CAAsB,KAAKxS,UAAL,CAAgBiG,cAAhB,EAAtB;AACA;;AACF,WAAK,KAAL;AACE,aAAKwM,YAAL,CAAkB,KAAKzS,UAAL,CAAgBkG,cAAhB,EAAlB;AACA;;AACF,WAAK,YAAL;AACE,aAAKwM,mBAAL,CAAyB,KAAK1S,UAAL,CAAgBmG,iBAAhB,EAAzB;AACA;;AACF,WAAK,KAAL;AACE,aAAKwM,kBAAL,CAAwB,KAAK3S,UAAL,CAAgBsG,cAAhB,EAAxB;AACA;;AACF,WAAK,KAAL;AACE,aAAKsM,YAAL,CAAkB,KAAK5S,UAAL,CAAgB6S,WAAhB,EAAlB;AACA;;AACF,WAAK,UAAL;AACE,aAAKpM,iBAAL,CACE,KAAKzG,UAAL,CAAgB0G,eAAhB,EADF,EAEE,KAAK1G,UAAL,CAAgB2G,oBAAhB,EAFF;AAIA;;AACF,WAAK,WAAL;AACE,aAAKmM,kBAAL,CAAwB,KAAK9S,UAAL,CAAgB4G,cAAhB,EAAxB;AACA;;AACF,WAAK,MAAL;AACE,aAAKmM,aAAL;AACA;AA9BJ;AAgCD;;AACDd,qBAAmB,GAAG;AACpB;AACA,SAAK3H,YAAL,CAAkB0I,mBAAlB,CAAsC,UAAtC,EAAkD,QAAlD,EAA4D,KAA5D;AACA,SAAK1I,YAAL,CAAkB2I,4BAAlB,CACE,KAAKjT,UAAL,CAAgBkT,aAAhB,EADF,EAEE,QAFF;AAID;AACD;;AACA;;AACA;AACF;;;AACExG,qBAAmB,GAAG;AACpB,QAAI,KAAKnO,UAAL,CAAgB4U,QAAhB,MAA8B,KAAKnT,UAAL,CAAgBmT,QAAhB,EAAlC,EAA8D;AAC5DrkB,OAAC,CAAC,oBAAD,CAAD,CAAwB4e,MAAxB,CAA+B,IAA/B;AACD,KAFD,MAEO;AACL5e,OAAC,CAAC,oBAAD,CAAD,CAAwB4e,MAAxB,CAA+B,KAA/B;AACD;AACF;;AACD0F,wBAAsB,GAAG;AACvB;AACA;AACA,QAAIhlB,QAAQ,GAAG,KAAKmQ,UAAL,CAAgB8U,WAAhB,EAAf;AACA,QAAIC,iBAAiB,GAAG,EAAxB;AACA,QAAIC,YAAY,GAAGnlB,QAAQ,CAACzJ,MAAT,GAAkB,CAAlB,GAAsB,IAAtB,GAA6B,KAAhD;;AACA,QAAI4uB,YAAJ,EAAkB;AAChBD,uBAAiB,IACf,0IADF;AAED;;AACD,SAAK,IAAI5uB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0J,QAAQ,CAACzJ,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,UAAI6uB,YAAJ,EAAkB;AAChBD,yBAAiB,IAAI,4BAArB;AACAA,yBAAiB,IAAI,wBAArB;AACAA,yBAAiB,IACf,gCACAllB,QAAQ,CAAC1J,CAAD,CAAR,CAAYoO,YADZ,GAEA,QAFA,GAGA1E,QAAQ,CAAC1J,CAAD,CAAR,CAAY2N,QAAZ,CAAqB1N,MAHrB,GAIA,YALF;AAMA2uB,yBAAiB,IACf,gDACA5uB,CADA,GAEA,qBAHF;AAID;;AACD4uB,uBAAiB,IAAI,2BAArB;;AACA,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGplB,QAAQ,CAAC1J,CAAD,CAAR,CAAY2N,QAAZ,CAAqB1N,MAAzC,EAAiD6uB,CAAC,EAAlD,EAAsD;AACpD,YAAIxT,UAAU,GAAG5R,QAAQ,CAAC1J,CAAD,CAAR,CAAY2N,QAAZ,CAAqBmhB,CAArB,CAAjB;AACAF,yBAAiB,IAAI,uCAArB;AACAA,yBAAiB,IAAI,KAAKG,eAAL,CAAqBzT,UAArB,CAArB;AACAsT,yBAAiB,IACf,wBAAwBtT,UAAU,CAACvR,SAAnC,GAA+C,IADjD;AAEA6kB,yBAAiB,IACf,6DACAtT,UAAU,CAACvR,SADX,GAEA,2BAHF;AAIA6kB,yBAAiB,IAAI,YAAYtT,UAAU,CAAC0T,gBAAvB,GAA0C,IAA/D;AACAJ,yBAAiB,IAAItT,UAAU,CAAC5M,YAAX,GAA0B,WAA/C;AACD;;AACDkgB,uBAAiB,IAAI,OAArB;;AACA,UAAIC,YAAJ,EAAkB;AAChBD,yBAAiB,IAAI,aAArB;AACD;AACF;;AACD,QAAIC,YAAJ,EAAkB;AAChBD,uBAAiB,IAAI,OAArB;AACD;;AACDxkB,KAAC,CAAC,cAAD,CAAD,CAAkBD,IAAlB,CAAuBykB,iBAAvB;;AACA,QAAIC,YAAJ,EAAkB;AAChB;AACAzkB,OAAC,CAAC,uBAAD,CAAD,CAA2B6kB,UAA3B;AACD;;AACD,QAAI7kB,CAAC,CAAC,cAAD,CAAD,CAAkB6B,QAAlB,GAA6BhM,MAA7B,KAAwC,CAA5C,EAA+C;AAC7CmK,OAAC,CAAC,mBAAD,CAAD,CAAuBE,IAAvB,CAA4B,sBAA5B;AACAF,OAAC,CAAC,mBAAD,CAAD,CAAuB4e,MAAvB,CAA8B,IAA9B;AACD,KAHD,MAGO;AACL5e,OAAC,CAAC,mBAAD,CAAD,CAAuB4e,MAAvB,CAA8B,KAA9B;AACD;AACF;;AACDX,kBAAgB,CAAC6G,gBAAD,EAAmB;AACjC,QAAI,OAAOA,gBAAP,IAA2B,WAA/B,EAA4C;AAC1C9kB,OAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwB+kB,gBAAxB;AACD,KAFD,MAEO,IAAI,KAAKrV,UAAL,CAAgB4U,QAAhB,EAAJ,EAAgC;AACrCrkB,OAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwB,KAAK0P,UAAL,CAAgBsV,QAAhB,EAAxB;AACA/kB,OAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,UAAnC,EAA+C,IAA/C;AACD,KAHM,MAGA;AACLve,OAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwB,iBAAxB;AACAC,OAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,UAAnC,EAA+C,KAA/C;AACD;AACF;;AACDuE,yBAAuB,GAAG;AACxB9iB,KAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwB,SAAS,KAAK0P,UAAL,CAAgBsV,QAAhB,EAAT,GAAsC,OAA9D;AACA/kB,KAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CACE,gCAAgC,KAAK0P,UAAL,CAAgBuV,WAAhB,EAAhC,GAAgE,KADlE;AAGAhlB,KAAC,CAAC,qBAAD,CAAD,CAAyBD,IAAzB,CAA8B,KAAK0P,UAAL,CAAgBwV,cAAhB,EAA9B;AACAjlB,KAAC,CAAC,kBAAD,CAAD,CAAsBD,IAAtB,CAA2B,KAAK0P,UAAL,CAAgByV,WAAhB,EAA3B;AACAllB,KAAC,CAAC,yBAAD,CAAD,CAA6Bmf,QAA7B,CAAsC,eAAtC;AACAnf,KAAC,CAAC,yBAAD,CAAD,CAA6B4e,MAA7B,CAAoC,IAApC;AACD;;AACDV,kBAAgB,CAACiH,QAAD,EAAW;AACzB,QAAI,OAAOA,QAAP,IAAmB,WAAvB,EAAoC;AAClCnlB,OAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwBolB,QAAxB;AACD,KAFD,MAEO;AACLnlB,OAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwB,KAAKmR,UAAL,CAAgBkU,kBAAhB,EAAxB;AACAplB,OAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,UAAnC,EAA+C,IAA/C;AACD;AACF;;AACDsE,kBAAgB,GAAG;AACjB7iB,KAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,UAAnC,EAA+C,IAA/C;AACAve,KAAC,CAAC,oBAAD,CAAD,CAAwBD,IAAxB,CAA6B,KAAK0P,UAAL,CAAgBsV,QAAhB,EAA7B;AACA/kB,KAAC,CAAC,oBAAD,CAAD,CAAwBD,IAAxB,CAA6B,KAAKmR,UAAL,CAAgBkU,kBAAhB,EAA7B;AACAplB,KAAC,CAAC,sBAAD,CAAD,CAA0BD,IAA1B,CACE,8BAA8B,KAAK0P,UAAL,CAAgB4V,SAAhB,EADhC;;AAGA,QAAI,CAAC,KAAKnU,UAAL,CAAgBmT,QAAhB,EAAL,EAAiC;AAC/BrkB,OAAC,CAAC,2BAAD,CAAD,CAA+BD,IAA/B,CAAoC,KAAK0P,UAAL,CAAgBwV,cAAhB,EAApC;AACAjlB,OAAC,CAAC,wBAAD,CAAD,CAA4BD,IAA5B,CAAiC,KAAK0P,UAAL,CAAgByV,WAAhB,EAAjC;AACD,KAHD,MAGO;AACLllB,OAAC,CAAC,2BAAD,CAAD,CAA+BD,IAA/B,CAAoC,EAApC;AACAC,OAAC,CAAC,wBAAD,CAAD,CAA4BD,IAA5B,CAAiC,KAAKmR,UAAL,CAAgB+T,cAAhB,EAAjC;AACD;AACF;;AACD5D,0BAAwB,CAACiE,aAAD,EAAgB;AACtC;AACA,QAAI,CAACA,aAAD,IAAkB,CAAC,KAAKpU,UAAL,CAAgBmT,QAAhB,EAAvB,EAAmD;AACjD;AACD;;AACD,QAAIkB,mBAAmB,GAAG,gBAA1B;;AACA,QAAID,aAAJ,EAAmB;AACjBC,yBAAmB,IAAID,aAAvB;AACD,KAFD,MAEO,IAAI,KAAKpU,UAAL,CAAgBmT,QAAhB,EAAJ,EAAgC;AACrCkB,yBAAmB,IAAI,KAAKrU,UAAL,CAAgBiM,UAAhB,EAAvB;AACD;;AACD7nB,WAAO,CAACC,GAAR,CAAY,gCAAgCgwB,mBAA5C,EAXsC,CAYtC;AACA;AACA;AACA;AACA;AACA;AACD;;AACD7H,0BAAwB,GAAG;AACzB1d,KAAC,CAAC,iBAAD,CAAD,CAAqB2e,KAArB;;AACA,QAAI,KAAKzN,UAAL,CAAgBmT,QAAhB,MAA8B,KAAKnT,UAAL,CAAgBkG,cAAhB,OAAqC,EAAvE,EAA2E;AACzEpX,OAAC,CAAC,kBAAD,CAAD,CAAsB4e,MAAtB,CAA6B,IAA7B;AACA5e,OAAC,CAAC,kBAAD,CAAD,CAAsB4e,MAAtB,CAA6B,IAA7B;AACA,UAAI4G,OAAO,GAAG,0DAAd;AACAA,aAAO,IACL,2CACA,KAAKtU,UAAL,CAAgBkG,cAAhB,EAFF;AAGAoO,aAAO,IACL,iBACA,KAAKtU,UAAL,CAAgBkG,cAAhB,EADA,GAEA,yBAHF;AAIApX,OAAC,CAAC,iBAAD,CAAD,CAAqBylB,MAArB,CAA4BD,OAA5B;AACD,KAZD,MAYO;AACLxlB,OAAC,CAAC,kBAAD,CAAD,CAAsB4e,MAAtB,CAA6B,KAA7B;AACD;AACF;;AACDjB,2BAAyB,GAAG;AAC1B,QACE,KAAKzM,UAAL,CAAgBmT,QAAhB,OACC,KAAKnT,UAAL,CAAgB+F,YAAhB,OAAmC,EAAnC,IACC,KAAK/F,UAAL,CAAgBiG,cAAhB,OAAqC,EADtC,IAEC,KAAKjG,UAAL,CAAgBkG,cAAhB,OAAqC,EAFtC,IAGC,KAAKlG,UAAL,CAAgBmG,iBAAhB,OAAwC,EAJ1C,CADF,EAME;AACArX,OAAC,CAAC,mBAAD,CAAD,CAAuB4e,MAAvB,CAA8B,IAA9B;AACD,KARD,MAQO;AACL5e,OAAC,CAAC,mBAAD,CAAD,CAAuB4e,MAAvB,CAA8B,KAA9B;AACD;AACF;;AACD8G,qBAAmB,GAAG;AACpB,QAAI,CAAC,KAAKxU,UAAL,CAAgBmT,QAAhB,EAAL,EAAiC;AAC/BrkB,OAAC,CAAC,mBAAD,CAAD,CAAuBE,IAAvB,CAA4B,oBAA5B;AACAF,OAAC,CAAC,mBAAD,CAAD,CAAuB4e,MAAvB,CAA8B,IAA9B;AACD,KAHD,MAGO,IAAI,KAAK1N,UAAL,CAAgByU,gBAAhB,GAAmC9vB,MAAnC,KAA8C,CAAlD,EAAqD;AAC1DmK,OAAC,CAAC,mBAAD,CAAD,CAAuBE,IAAvB,CACE,iDADF;AAGAF,OAAC,CAAC,mBAAD,CAAD,CAAuB4e,MAAvB,CAA8B,IAA9B;AACD,KALM,MAKA;AACL5e,OAAC,CAAC,mBAAD,CAAD,CAAuB4e,MAAvB,CAA8B,KAA9B,EADK,CAEL;;AACA,UAAIgH,QAAQ,GAAG,KAAK1U,UAAL,CAAgByU,gBAAhB,EAAf;;AACA,WAAK,IAAI/vB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgwB,QAAQ,CAAC/vB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,YAAIiwB,WAAW,GACb,2DAA2DjwB,CAA3D,GAA+D,IADjE;AAEAiwB,mBAAW,IACT,gDAAgDjwB,CAAhD,GAAoD,KADtD;AAEAiwB,mBAAW,IAAID,QAAQ,CAAChwB,CAAD,CAAR,CAAY,CAAZ,CAAf;AACAiwB,mBAAW,IAAI,WAAf;AACA7lB,SAAC,CAAC,cAAD,CAAD,CAAkBylB,MAAlB,CAAyBI,WAAzB;AACD;AACF;AACF;;AACDC,eAAa,GAAG;AACd,QACE,OAAO,KAAKhK,SAAZ,KAA0B,WAA1B,IACA,KAAKA,SAAL,CAAeiK,cAAf,EAFF,EAGE;AACA,aAAO,IAAIC,WAAJ,CACL,EADK,EAEL,KAAKlK,SAAL,CAAe5D,YAAf,EAFK,EAGL,KAAK4D,SAAL,CAAemK,UAAf,EAHK,CAAP;AAKD,KATD,MASO;AACL,aAAO,IAAP;AACD;AACF;AACD;AACF;AACA;;;AACEzI,sBAAoB,GAAG;AACrBxd,KAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB,CAAwBghB,aAAa,GAAG,2BAAxC;AACD;;AACDwC,gBAAc,CAACyC,QAAD,EAAW;AACvBlmB,KAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB,CACEghB,aAAa,GAAG,2BAAhB,GAA8CiF,QADhD,EAEE,YAAW;AACTnJ,eAAS,CAACgB,sBAAV;AACD,KAJH;AAMD;;AACD2F,kBAAgB,CAACyC,cAAD,EAAiB;AAC/B,SAAK7E,gBAAL;AACAthB,KAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB,CACEghB,aAAa,GAAG,6BAAhB,GAAgDkF,cADlD,EAEE,YAAW;AACTpJ,eAAS,CAACgB,sBAAV;AACD,KAJH;AAMD;;AACDpG,mBAAiB,CAACyO,eAAD,EAAkBC,eAAlB,EAAmC;AAClD;AACA,SAAK/E,gBAAL;AACAthB,KAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB,CACEghB,aAAa,GACX,8BADF,GAEEmF,eAFF,GAGE,GAHF,GAIEC,eALJ,EAME,YAAW;AACTtJ,eAAS,CAACgB,sBAAV;AACD,KARH;AAUD;;AACDiG,oBAAkB,CAAC3D,cAAD,EAAiB;AACjC;AACA,SAAKiB,gBAAL;AACAthB,KAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB,CACEghB,aAAa,GAAG,+BAAhB,GAAkDZ,cADpD,EAEE,YAAW;AACTtD,eAAS,CAACgB,sBAAV;AACD,KAJH;AAMD;;AACD4F,cAAY,CAAC2C,cAAD,EAAiB;AAC3BtmB,KAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB,CACEghB,aAAa,GAAG,2BAAhB,GAA8CqF,cADhD,EAEE,YAAW;AACTvJ,eAAS,CAACgB,sBAAV;AACD,KAJH;AAMD;;AACD6F,qBAAmB,CAAC2C,iBAAD,EAAoB;AACrCvmB,KAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB,CACEghB,aAAa,GAAG,0BAAhB,GAA6CsF,iBAD/C;AAGD;;AACD1C,oBAAkB,CAAC2C,cAAD,EAAiB;AACjC;AACAxmB,KAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB,CACEghB,aAAa,GAAG,mBAAhB,GAAsCuF,cADxC;AAGD;;AACD1C,cAAY,CAACpM,MAAD,EAAS;AACnB,QAAI+O,aAAa,GAAG,kCAApB;AACAA,iBAAa,IAAIhP,kBAAkB,CAACC,MAAD,CAAlB,GAA6B,6BAA9C;AACA1X,KAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwB0mB,aAAxB;AACD;;AACDxC,eAAa,GAAG;AACd,QAAIwC,aAAa,GAAG,qCAApB;AACAA,iBAAa,IAAI,KAAKvV,UAAL,CAAgB6G,cAAhB,EAAjB;AACA0O,iBAAa,IAAI,QAAjB;AACAzmB,KAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwB0mB,aAAxB;AACD;;AACDC,qBAAmB,GAAG;AACpB,SAAKlL,YAAL,CAAkBmL,cAAlB;AACA,SAAKjL,eAAL,CAAqBkL,YAArB;AACD;AACD;;AACA;;AACA;;;AACAC,iBAAe,CAACC,MAAD,EAASC,aAAT,EAAwB;AACrC,QAAIC,UAAU,GAAG,KAAK9V,UAAL,CAAgByU,gBAAhB,GAAmCoB,aAAnC,CAAjB,CADqC,CAErC;AACA;AACA;;AACA,SAAKvL,YAAL,CAAkByL,mBAAlB;AACA,QAAIC,mBAAmB,GAAG,kBAAkBH,aAA5C;AACA/mB,KAAC,CAACknB,mBAAD,CAAD,CAAuB3I,WAAvB,CAAmC,QAAnC,EAA6C,IAA7C;AACA,SAAKzC,SAAL,CAAeqL,WAAf,CAA2BH,UAAU,CAAC,CAAD,CAArC;AACAna,UAAM,CAACqV,UAAP,CAAkB,YAAW;AAC3BliB,OAAC,CAAC,mCAAD,CAAD,CAAuCue,WAAvC,CAAmD,QAAnD,EAA6D,KAA7D;AACD,KAFD,EAEG,GAFH;AAGD;;AACD6I,sBAAoB,GAAG;AACrB,SAAK5L,YAAL,CAAkB6L,0BAAlB;AACD;AACD;AACF;AACA;;;AACEC,kBAAgB,GAAG;AACjB,SAAKC,aAAL,GADiB,CAEjB;;AACA,QAAI,OAAO,KAAKzL,SAAZ,KAA0B,WAA9B,EAA2C;AACzC,WAAKA,SAAL,CAAe0L,YAAf;AACD;;AACD,QAAIzK,SAAS,CAAC/B,WAAV,CAAsByM,eAAtB,KAA0C,IAA9C,EAAoD;AAClDznB,OAAC,CAAC,kBAAD,CAAD,CAAsBmf,QAAtB,CAA+B,yBAA/B;AACAnf,OAAC,CAAC,kBAAD,CAAD,CAAsB4e,MAAtB,CAA6B,IAA7B;AACA,WAAK5D,WAAL,CAAiB0M,2BAAjB;AACD,KAJD,MAIO;AACL1nB,OAAC,CAAC,yBAAD,CAAD,CAA6BC,IAA7B,CACEghB,aAAa,GAAG,iBADlB,EAEE,YAAW;AACTlE,iBAAS,CAAC/B,WAAV,CAAsByM,eAAtB,GAAwC,IAAxC;AACA1K,iBAAS,CAAC/B,WAAV,CAAsB2M,YAAtB;AACD,OALH;AAOD;;AACD3nB,KAAC,CAAC,kBAAD,CAAD,CAAsBE,IAAtB,CAA2B,SAA3B;AACAF,KAAC,CAAC,yBAAD,CAAD,CAA6BrI,IAA7B,CAAkC,MAAlC,EAA0C,SAA1C;AACAqI,KAAC,CAAC,yBAAD,CAAD,CAA6B4e,MAA7B,CAAoC,IAApC;AACD;;AACDgJ,gBAAc,GAAG;AACf,SAAKL,aAAL;;AACA,QAAI,OAAO,KAAKzL,SAAZ,KAA0B,WAA9B,EAA2C;AACzC,WAAKA,SAAL,CAAe0L,YAAf;AACD;;AACD,QAAIf,aAAa,GAAG,oCAApB;AACAzmB,KAAC,CAAC,yBAAD,CAAD,CAA6BD,IAA7B,CAAkC0mB,aAAlC;AACAzmB,KAAC,CAAC,kBAAD,CAAD,CAAsBE,IAAtB,CAA2B,OAA3B;AACAF,KAAC,CAAC,yBAAD,CAAD,CAA6BrI,IAA7B,CAAkC,MAAlC,EAA0C,OAA1C;AACAqI,KAAC,CAAC,yBAAD,CAAD,CAA6B4e,MAA7B,CAAoC,IAApC;AACD;;AACDiJ,qBAAmB,GAAG;AACpB,SAAKN,aAAL;;AACA,QAAI,OAAO,KAAKzL,SAAZ,KAA0B,WAA9B,EAA2C;AACzC,WAAKA,SAAL,CAAe0L,YAAf;AACD;;AACD,QAAIf,aAAa,GAAG,qCAApB;AACAzmB,KAAC,CAAC,yBAAD,CAAD,CAA6BD,IAA7B,CAAkC0mB,aAAlC;AACAzmB,KAAC,CAAC,kBAAD,CAAD,CAAsBE,IAAtB,CAA2B,oBAA3B;AACAF,KAAC,CAAC,yBAAD,CAAD,CAA6BrI,IAA7B,CAAkC,MAAlC,EAA0C,QAA1C;AACAqI,KAAC,CAAC,yBAAD,CAAD,CAA6B4e,MAA7B,CAAoC,IAApC;AACD;;AACDkJ,wBAAsB,GAAG;AACvB,SAAKP,aAAL;;AACA,QAAI,OAAO,KAAKzL,SAAZ,KAA0B,WAA9B,EAA2C;AACzC,WAAKA,SAAL,CAAe0L,YAAf;AACD;;AACD,QAAIf,aAAa,GAAG,wCAApB;AACAzmB,KAAC,CAAC,yBAAD,CAAD,CAA6BD,IAA7B,CAAkC0mB,aAAlC;AACAzmB,KAAC,CAAC,kBAAD,CAAD,CAAsBE,IAAtB,CAA2B,gBAA3B;AACAF,KAAC,CAAC,yBAAD,CAAD,CAA6BrI,IAA7B,CAAkC,MAAlC,EAA0C,WAA1C;AACAqI,KAAC,CAAC,yBAAD,CAAD,CAA6B4e,MAA7B,CAAoC,IAApC;AACD;;AACDmJ,sBAAoB,GAAG;AACrB/nB,KAAC,CAAC,yBAAD,CAAD,CAA6B4e,MAA7B,CAAoC,KAApC;;AACA,QAAI5e,CAAC,CAAC,yBAAD,CAAD,CAA6BrI,IAA7B,CAAkC,MAAlC,KAA6C,SAAjD,EAA4D;AAC1DqI,OAAC,CAAC,kBAAD,CAAD,CAAsB4e,MAAtB,CAA6B,KAA7B;AACA5e,OAAC,CAAC,kBAAD,CAAD,CAAsBmf,QAAtB,CAA+B,MAA/B;AACA,WAAKjE,gBAAL,CAAsB8M,WAAtB;AACD;;AACDhoB,KAAC,CAAC,yBAAD,CAAD,CAA6B2e,KAA7B;AACA3e,KAAC,CAAC,kBAAD,CAAD,CAAsBE,IAAtB,CAA2B,EAA3B;AACD;AACD;;AACA;;AACA;;;AACAykB,iBAAe,CAACzT,UAAD,EAAa;AAC1B,QACEA,UAAU,CAACtM,gBAAX,KAAgC,EAAhC,IACAsM,UAAU,CAACpM,kBAAX,KAAkC,EAFpC,EAGE;AACA,aAAO,OAAP;AACD,KALD,MAKO,IAAIoM,UAAU,CAACjM,kBAAX,KAAkC,EAAtC,EAA0C;AAC/C,aAAO,OAAP;AACD,KAFM,MAEA,IAAIiM,UAAU,CAAChM,qBAAX,KAAqC,EAAzC,EAA6C;AAClD,aAAO,WAAP;AACD,KAFM,MAEA,IAAIgM,UAAU,CAAC+W,cAAX,KAA8B,EAAlC,EAAsC;AAC3C,aAAO,KAAP;AACD,KAFM,MAEA,IAAI/W,UAAU,CAACU,UAAX,KAA0B,EAA9B,EAAkC;AACvC,aAAO,KAAP;AACD,KAFM,MAEA,IAAIV,UAAU,CAAC/L,kBAAX,KAAkC,EAAtC,EAA0C;AAC/C,aAAO,KAAP;AACD,KAFM,MAEA;AACL,aAAO,MAAP;AACD;AACF;AACD;AACF;AACA;;;AACE+iB,eAAa,GAAG;AACdC,gBAAY,CAAC,KAAK3L,sBAAN,CAAZ;AACAxc,KAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,gBAAnC;;AACA,QAAIve,CAAC,CAAC,mBAAD,CAAD,CAAuBooB,QAAvB,CAAgC,gBAAhC,CAAJ,EAAuD;AACrD;AACA;AACA;AACA,WAAK7L,iBAAL,GAAyB,KAAzB;AACAvc,OAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,gBAAnC,EAAqD,KAArD;AACD;AACF;;AACD8J,6BAA2B,GAAG;AAC5B,QAAIroB,CAAC,CAAC,mBAAD,CAAD,CAAuBooB,QAAvB,CAAgC,gBAAhC,CAAJ,EAAuD;AACrD;AACA;AACA;AACA,WAAK7L,iBAAL,GAAyB,IAAzB;AACAvc,OAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,gBAAnC,EAAqD,IAArD;AACD;;AACD,SAAK2J,aAAL;AACD;;AACDlH,aAAW,GAAG;AACZhhB,KAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,gBAAnC,EAAqD,KAArD;AACD;;AACDd,cAAY,GAAG;AACbzd,KAAC,CAAC,mBAAD,CAAD,CAAuBue,WAAvB,CAAmC,gBAAnC,EAAqD,IAArD;AACD;;AACDP,mBAAiB,GAAG;AAClB;AACAhe,KAAC,CAAC,cAAD,CAAD,CAAkBue,WAAlB,CAA8B,SAA9B,EAAyC,KAAK9O,UAAL,CAAgB4U,QAAhB,EAAzC;AACArkB,KAAC,CAAC,cAAD,CAAD,CAAkBue,WAAlB,CAA8B,SAA9B,EAAyC,KAAKrN,UAAL,CAAgBoX,aAAhB,EAAzC;AACAtoB,KAAC,CAAC,WAAD,CAAD,CAAeue,WAAf,CAA2B,SAA3B,EAAsC,KAAKrN,UAAL,CAAgBqX,UAAhB,EAAtC;AACAvoB,KAAC,CAAC,cAAD,CAAD,CAAkBue,WAAlB,CAA8B,SAA9B,EAAyC,KAAK9O,UAAL,CAAgB4U,QAAhB,EAAzC;AACArkB,KAAC,CAAC,YAAD,CAAD,CAAgBue,WAAhB,CAA4B,SAA5B,EAAuC,KAAKrN,UAAL,CAAgBsX,WAAhB,EAAvC;AACAxoB,KAAC,CAAC,sCAAD,CAAD,CAA0CyoB,OAA1C,CAAkD,OAAlD;AACD;;AACDC,yBAAuB,GAAG;AACxB1oB,KAAC,CAAC,oBAAD,CAAD,CAAwB4e,MAAxB;AACA5e,KAAC,CAAC,0BAAD,CAAD,CAA8Bue,WAA9B,CAA0C,QAA1C;AACD;;AACDoK,kBAAgB,GAAG;AACjB,QAAIC,qBAAqB,GAAG5oB,CAAC,CAAC,0CAAD,CAA7B;;AACA,QACE,OAAO4oB,qBAAP,KAAiC,WAAjC,IACAA,qBAAqB,CAAC/yB,MAAtB,GAA+B,CAFjC,EAGE;AACAmK,OAAC,CAAC,uBAAD,CAAD,CAA2B6kB,UAA3B,CACE,QADF,EAEE7kB,CAAC,CAAC4oB,qBAAqB,CAAC,CAAD,CAAtB,CAFH;AAID;AACF;;AACDC,qBAAmB,GAAG;AACpB,SAAK7H,WAAL;AACAhhB,KAAC,CAAC,mBAAD,CAAD,CAAuB6kB,UAAvB,CAAkC,WAAlC,EAA+C,eAA/C;AACD;;AACDiE,qBAAmB,GAAG;AACpB,SAAK9H,WAAL;AACAhhB,KAAC,CAAC,mBAAD,CAAD,CAAuB6kB,UAAvB,CAAkC,WAAlC,EAA+C,eAA/C;AACD;;AACDkE,kBAAgB,GAAG;AACjB,SAAK/H,WAAL;AACAhhB,KAAC,CAAC,mBAAD,CAAD,CAAuB6kB,UAAvB,CAAkC,WAAlC,EAA+C,YAA/C;AACD;;AACDmE,sBAAoB,CAACvV,UAAD,EAAa;AAC/B,SAAKsV,gBAAL;AACA,QAAIE,OAAO,GAAGjpB,CAAC,CAAC,uBAAD,CAAD,CAA2B6B,QAA3B,CAAoC,aAApC,EACZ4R,UADY,CAAd;AAGA,QAAIyV,KAAK,GAAGlpB,CAAC,CAACipB,OAAD,CAAD,CAAW1iB,IAAX,CAAgB,IAAhB,CAAZ;AACAvG,KAAC,CAAC,iBAAD,CAAD,CAAqB6kB,UAArB,CAAgC,WAAhC,EAA6CqE,KAA7C;AACD;;AACDC,sBAAoB,GAAG;AACrB,SAAKnI,WAAL;AACAhhB,KAAC,CAAC,mBAAD,CAAD,CAAuB6kB,UAAvB,CAAkC,WAAlC,EAA+C,gBAA/C;AACD;;AACDuE,qBAAmB,GAAG;AACpB,SAAKpI,WAAL;AACAhhB,KAAC,CAAC,mBAAD,CAAD,CAAuB6kB,UAAvB,CAAkC,WAAlC,EAA+C,eAA/C;AACD;;AACDwE,oBAAkB,GAAG;AACnB,QAAI,CAACC,UAAU,CAACC,UAAX,CAAsBC,OAAtB,CAA8B,OAA9B,CAAL,EAA6C;AAC3C,WAAKtB,aAAL;AACD;AACF;;AACD/J,WAAS,GAAG;AACV,QAAIzG,MAAM,GAAG,SAAb;AACA,QAAIiF,QAAQ,GAAG,EAAf;AACA,QAAI8M,QAAQ,GAAG,EAAf;AACA,QAAIC,YAAY,GAAGC,OAAO,CAAC71B,KAA3B;AACA,QAAI81B,aAAa,GAAG,IAApB,CALU,CAMV;AACA;;AACAt0B,WAAO,CAACC,GAAR,CAAY,eAAemL,IAAI,CAAC0O,SAAL,CAAesa,YAAf,CAA3B;;AACA,QAAIA,YAAY,KAAK,IAArB,EAA2B;AACzB,UACEA,YAAY,CAAClwB,IAAb,IAAqB,SAArB,IACAkwB,YAAY,CAAC9M,QAAb,IAAyB,KAAKnN,UAAL,CAAgB0N,UAAhB,EADzB,IAEAuM,YAAY,CAAC7M,QAAb,IAAyB,KAAK3L,UAAL,CAAgBiM,UAAhB,EAH3B,EAIE;AACA;AACAyM,qBAAa,GAAG,KAAhB;AACD,OAPD,MAOO,IACLF,YAAY,CAAClwB,IAAb,IAAqB,SAArB,IACA,KAAK0X,UAAL,CAAgB2Y,cAAhB,MAAoC,OADpC,IAEAH,YAAY,CAAC7M,QAAb,IAAyB,KAAK3L,UAAL,CAAgBiG,cAAhB,EAHpB,EAIL;AACA;AACAyS,qBAAa,GAAG,KAAhB;AACD,OAPM,MAOA,IACLF,YAAY,CAAClwB,IAAb,IAAqB,UAArB,IACA,KAAK0X,UAAL,CAAgB2Y,cAAhB,MAAoC,OADpC,IAEAH,YAAY,CAAC7M,QAAb,IAAyB,KAAK3L,UAAL,CAAgB0G,eAAhB,EAFzB,IAGA8R,YAAY,CAAC5M,QAAb,IAAyB,KAAK5L,UAAL,CAAgB2G,oBAAhB,EAJpB,EAKL;AACA;AACA+R,qBAAa,GAAG,KAAhB;AACD;AACF;;AACD,QAAIA,aAAJ,EAAmB;AACjB,UAAI,KAAKna,UAAL,CAAgB4U,QAAhB,EAAJ,EAAgC;AAC9B1H,gBAAQ,CAACnjB,IAAT,GAAgB,SAAhB;AACAmjB,gBAAQ,CAACC,QAAT,GAAoB,KAAKnN,UAAL,CAAgB0N,UAAhB,EAApB;AACAsM,gBAAQ,IAAI,KAAKha,UAAL,CAAgBsV,QAAhB,EAAZ;AACArN,cAAM,IAAI,KAAKjI,UAAL,CAAgB0N,UAAhB,EAAV;;AACA,YAAI,KAAKjM,UAAL,CAAgBmT,QAAhB,EAAJ,EAAgC;AAC9B1H,kBAAQ,CAACE,QAAT,GAAoB,KAAK3L,UAAL,CAAgBiM,UAAhB,EAApB;AACAzF,gBAAM,IAAI,MAAM,KAAKxG,UAAL,CAAgBiM,UAAhB,EAAhB;AACAsM,kBAAQ,IAAI,MAAM,KAAKvY,UAAL,CAAgB6T,QAAhB,EAAlB;AACD,SAJD,MAIO;AACLpI,kBAAQ,CAACE,QAAT,GAAoB,EAApB;AACD;;AACDF,gBAAQ,CAACG,QAAT,GAAoB,EAApB;AACD,OAbD,MAaO,IACL,KAAK5L,UAAL,CAAgBmT,QAAhB,MACA,KAAKnT,UAAL,CAAgB2Y,cAAhB,MAAoC,OAF/B,EAGL;AACA,YAAI,KAAK3Y,UAAL,CAAgB8F,mBAAhB,MAAyC,SAA7C,EAAwD;AACtD2F,kBAAQ,CAACnjB,IAAT,GAAgB,SAAhB;AACAmjB,kBAAQ,CAACC,QAAT,GAAoB,SAApB;AACAD,kBAAQ,CAACE,QAAT,GAAoB,KAAK3L,UAAL,CAAgBiG,cAAhB,EAApB;AACAwF,kBAAQ,CAACG,QAAT,GAAoB,EAApB;AACApF,gBAAM,IAAI,aAAa,KAAKxG,UAAL,CAAgBiG,cAAhB,EAAvB;AACAsS,kBAAQ,GAAG,cAAc,KAAKvY,UAAL,CAAgB4Y,cAAhB,EAAzB;AACD,SAPD,MAOO,IAAI,KAAK5Y,UAAL,CAAgB8F,mBAAhB,MAAyC,UAA7C,EAAyD;AAC9D2F,kBAAQ,CAACnjB,IAAT,GAAgB,UAAhB;AACAmjB,kBAAQ,CAACC,QAAT,GAAoB,UAApB;AACAD,kBAAQ,CAACE,QAAT,GAAoB,KAAK3L,UAAL,CAAgB0G,eAAhB,EAApB;AACA+E,kBAAQ,CAACG,QAAT,GAAoB,KAAK5L,UAAL,CAAgB2G,oBAAhB,EAApB;AACA4R,kBAAQ,GAAG,gBAAX;AACA/R,gBAAM,IACJiF,QAAQ,CAACC,QAAT,GACA,GADA,GAEAD,QAAQ,CAACE,QAFT,GAGA,GAHA,GAIAF,QAAQ,CAACG,QALX;AAMD;AACF,OAxBM,MAwBA;AACLH,gBAAQ,CAACC,QAAT,GAAoB,EAApB;AACAD,gBAAQ,CAACE,QAAT,GAAoB,EAApB;AACAF,gBAAQ,CAACG,QAAT,GAAoB,EAApB;AACAH,gBAAQ,CAACnjB,IAAT,GAAgB,OAAhB;AACAiwB,gBAAQ,GAAG,iBAAX;AACD,OA5CgB,CA6CjB;AACA;;;AACAE,aAAO,CAACI,SAAR,CAAkBpN,QAAlB,EAA4B8M,QAA5B,EAAsC/R,MAAtC;AACD;AACF;;AAEDsS,gBAAc,GAAG;AACf,QAAIvH,KAAK,EAAT,EAAa;AACX,UAAIwH,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CAAnB;;AACA,UAAIF,YAAJ,EAAkB;AAChBA,oBAAY,CAACljB,OAAb,GACE,0DADF;AAEAmjB,gBAAQ,CAACE,IAAT,CAAc3N,gBAAd,CACE,cADF,EAEE,YAAW;AACTwN,sBAAY,CAACljB,OAAb,GACE,yDADF;AAED,SALH,EAME,KANF;AAQD;AACF;;AACD,QAAIsjB,QAAQ,EAAZ,EAAgB;AACdrqB,OAAC,CAAC,iBAAD,CAAD,CAAqB4e,MAArB,CAA4B,KAA5B;AACD;AACF;;AACD6D,OAAK,GAAG;AACN,WACE,KAAK6H,eAAL,CAAqBC,EAArB,CAAwB,QAAxB,KACA,KAAKD,eAAL,CAAqBC,EAArB,CAAwB,MAAxB,CADA,IAEA,KAAKD,eAAL,CAAqBC,EAArB,CAAwB,MAAxB,CAHF;AAKD;;AACDF,UAAQ,GAAG;AACT,WAAO,KAAKC,eAAL,CAAqBC,EAArB,CAAwB,QAAxB,KAAqC,KAAKD,eAAL,CAAqBC,EAArB,CAAwB,MAAxB,CAA5C;AACD;;AACDC,MAAI,GAAG;AACLC,gBAAY,GAAG5d,MAAM,CAAC6d,SAAP,CAAiBC,SAAhC;AACA,WACEF,YAAY,CAACG,MAAb,CAAoB,SAApB,IAAiC,CAAC,CAAlC,IAAuCH,YAAY,CAACG,MAAb,CAAoB,MAApB,IAA8B,CAAC,CADxE;AAGD;;AACDlI,UAAQ,GAAG;AACT+H,gBAAY,GAAG5d,MAAM,CAAC6d,SAAP,CAAiBC,SAAhC;AACA,WACEF,YAAY,CAACG,MAAb,CAAoB,QAApB,IAAgC,CAAC,CAAjC,IAAsCH,YAAY,CAACG,MAAb,CAAoB,QAApB,KAAiC,CAAC,CAD1E;AAGD;;AACDjI,UAAQ,GAAG;AACT8H,gBAAY,GAAG5d,MAAM,CAAC6d,SAAP,CAAiBC,SAAhC;AACA,WAAOF,YAAY,CAACG,MAAb,CAAoB,QAApB,IAAgC,CAAC,CAAxC;AACD;;AACDC,aAAW,GAAG;AACZJ,gBAAY,GAAG5d,MAAM,CAAC6d,SAAP,CAAiBC,SAAhC;AACA,WAAOF,YAAY,CAACG,MAAb,CAAoB,eAApB,IAAuC,CAAC,CAA/C;AACD;;AACDE,sBAAoB,CAACC,mBAAD,EAAsB;AACxC,QAAIC,OAAO,GAAG,MAAd;;AACA,YAAQD,mBAAR;AACE,WAAK,qBAAL;AACEC,eAAO,GAAG,QAAV;AACA;;AACF,WAAK,oBAAL;AACEA,eAAO,GAAG,QAAV;AACA;;AACF,WAAK,cAAL;AACA,WAAK,cAAL;AACA,WAAK,eAAL;AACEA,eAAO,GAAG,OAAV;AACA;;AACF,WAAK,gBAAL;AACEA,eAAO,GAAG,OAAV;AACA;AAdJ;;AAgBA,WAAOA,OAAP;AACD;;AACDC,kBAAgB,GAAG;AACjB,QAAI,OAAO,KAAKnP,SAAZ,KAA0B,WAA9B,EAA2C;AACzC,WAAKA,SAAL,CAAeoP,WAAf,CAA2BC,eAA3B;AACD,KAFD,MAEO,IAAI,KAAKja,UAAL,CAAgB8F,mBAAhB,OAA0C,YAA9C,EAA4D;AACjEhX,OAAC,CAAC,gBAAD,CAAD,CAAoB,CAApB,EAAuBorB,iBAAvB;AACD;AACF;;AACD/R,SAAO,CAACgS,SAAD,EAAY;AACjB;AACA,QAAIC,UAAU,GACZ,qEADF;AAEAtrB,KAAC,CAACqrB,SAAD,CAAD,CAAatrB,IAAb,CAAkBurB,UAAlB;AACD;;AACDC,uBAAqB,GAAG;AACtB,SAAKxD,oBAAL;AACA,SAAK7M,gBAAL,CAAsB8M,WAAtB;AACD;;AACD/E,oBAAkB,GAAG;AACnB,QACE,KAAKxT,UAAL,CAAgB4U,QAAhB,MACA,KAAKnT,UAAL,CAAgBmT,QAAhB,EADA,IAEA,KAAKnT,UAAL,CAAgB2Y,cAAhB,OAAqC,OAHvC,EAIE;AACAv0B,aAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,WAAK6lB,cAAL,CAAoBoQ,cAApB,CACE,KAAK/b,UAAL,CAAgB0N,UAAhB,EADF,EAEE,KAAKjM,UAAL,CAAgBiM,UAAhB,EAFF,EAGE,KAAK1N,UAAL,CAAgBsV,QAAhB,EAHF,EAIE,KAAKtV,UAAL,CAAgBgc,cAAhB,EAJF,EAKE,KAAKva,UAAL,CAAgBkU,kBAAhB,EALF,EAME,OANF;AAQD;AACF;;AACDsG,gBAAc,GAAG;AACf,QAAI,KAAKxa,UAAL,CAAgBmT,QAAhB,MAA8B,KAAK5U,UAAL,CAAgB4U,QAAhB,EAAlC,EAA8D;AAC5DrkB,OAAC,CAAC,WAAD,CAAD,CAAe2rB,WAAf;AACD;AACF;;AACDC,cAAY,GAAG;AACb,QAAI,KAAK1a,UAAL,CAAgBmT,QAAhB,MAA8B,KAAK5U,UAAL,CAAgB4U,QAAhB,EAAlC,EAA8D;AAC5DrkB,OAAC,CAAC,WAAD,CAAD,CAAe4e,MAAf,CAAsB,IAAtB;AACD;AACF;;AACD2I,eAAa,GAAG;AACdvnB,KAAC,CAAC,WAAD,CAAD,CAAe4e,MAAf,CAAsB,KAAtB;AACD;;AACD0C,kBAAgB,GAAG;AACjB,SAAKpC,oBAAL;AACAlf,KAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwB,KAAKmc,UAA7B;AACD;;AACD2P,iBAAe,GAAG;AAChB,QAAIC,SAAS,GAAG,KAAKtQ,YAAL,CAAkBuQ,gBAAlB,EAAhB;;AACA,QAAID,SAAS,GAAG,CAAC,CAAb,IAAkB,KAAKE,aAAL,EAAtB,EAA4C;AAC1C,WAAKhD,oBAAL,CAA0B8C,SAA1B;AACD;AACF;;AACDG,qBAAmB,GAAG;AACpB,QAAIH,SAAS,GAAG,KAAKtQ,YAAL,CAAkB0Q,oBAAlB,EAAhB;;AACA,QAAIJ,SAAS,GAAG,CAAC,CAAb,IAAkB,KAAKE,aAAL,EAAtB,EAA4C;AAC1C,WAAKhD,oBAAL,CAA0B8C,SAA1B;AACD;AACF;;AACDE,eAAa,GAAG;AACd,WAAO,CAAChsB,CAAC,CAAC,mBAAD,CAAD,CAAuBooB,QAAvB,CAAgC,gBAAhC,CAAR;AACD;;AACDrK,wBAAsB,GAAG;AACvB;AACAoO,aAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,eAAS,CAACmL,aAAV;AACD,KAFD;;AAGA,QAAI,KAAKzY,UAAL,CAAgB4U,QAAhB,EAAJ,EAAgC;AAC9B8H,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAAC8L,mBAAV;AACD,OAFD;AAGAsD,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAACqM,mBAAV;AACD,OAFD;AAGD;;AACD,QAAI,KAAKlY,UAAL,CAAgBoX,aAAhB,EAAJ,EAAqC;AACnC6D,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAAC+L,mBAAV;AACD,OAFD;AAGD;;AACD,QAAI,KAAK5X,UAAL,CAAgBqX,UAAhB,EAAJ,EAAkC;AAChC4D,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAACgM,gBAAV;AACD,OAFD;AAGAoD,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAAC8O,eAAV;AACD,OAFD;AAGAM,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAACkP,mBAAV;AACD,OAFD;AAGD;;AACDE,aAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,eAAS,CAACoM,oBAAV;AACD,KAFD;AAGAgD,aAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,eAAS,CAAC2L,uBAAV;AACD,KAFD;;AAGA,QAAI,OAAO,KAAK5M,SAAZ,KAA0B,WAA9B,EAA2C;AACzCqQ,eAAS,CAACC,IAAV,CAAe,OAAf,EAAwB,YAAW;AACjCrP,iBAAS,CAACjB,SAAV,CAAoBuQ,sBAApB;AACD,OAFD;AAGAF,eAAS,CAACC,IAAV,CAAe,OAAf,EAAwB,YAAW;AACjCrP,iBAAS,CAACjB,SAAV,CAAoBwQ,wBAApB;AACD,OAFD;AAGAH,eAAS,CAACC,IAAV,CAAe,MAAf,EAAuB,YAAW;AAChCrP,iBAAS,CAACjB,SAAV,CAAoByQ,uBAApB;AACD,OAFD;AAGAJ,eAAS,CAACC,IAAV,CAAe,WAAf,EAA4B,YAAW;AACrCrP,iBAAS,CAACjB,SAAV,CAAoB0Q,wBAApB;AACD,OAFD;AAGAL,eAAS,CAACC,IAAV,CAAe,UAAf,EAA2B,YAAW;AACpCrP,iBAAS,CAACjB,SAAV,CAAoB2Q,uBAApB;AACD,OAFD;AAGAN,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAACjB,SAAV,CAAoB4Q,mBAApB;AACD,OAFD;AAGAP,eAAS,CAACC,IAAV,CAAe,aAAf,EAA8B,YAAW;AACvCrP,iBAAS,CAACjB,SAAV,CAAoB6Q,6BAApB;AACD,OAFD;AAGAR,eAAS,CAACC,IAAV,CAAe,YAAf,EAA6B,YAAW;AACtCrP,iBAAS,CAACjB,SAAV,CAAoB8Q,4BAApB;AACD,OAFD;AAGAT,eAAS,CAACC,IAAV,CAAe,UAAf,EAA2B,YAAW;AACpCrP,iBAAS,CAACjB,SAAV,CAAoB+Q,uBAApB;AACD,OAFD;AAGAV,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAACjB,SAAV,CAAoBgR,oBAApB;AACD,OAFD;AAGAX,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAACjB,SAAV,CAAoBiR,kBAApB;AACD,OAFD;AAGAZ,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAACjB,SAAV,CAAoBkR,qBAApB;AACD,OAFD;AAGAb,eAAS,CAACC,IAAV,CAAe,MAAf,EAAuB,YAAW;AAChCrP,iBAAS,CAACjB,SAAV,CAAoBmR,oBAApB;AACD,OAFD;AAGAd,eAAS,CAACC,IAAV,CAAe,QAAf,EAAyB,YAAW;AAClCrP,iBAAS,CAACjB,SAAV,CAAoBoR,oBAApB;AACD,OAFD;AAGAf,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAACjB,SAAV,CAAoBqR,iBAApB;AACD,OAFD;AAGAhB,eAAS,CAACC,IAAV,CAAe,GAAf,EAAoB,YAAW;AAC7BrP,iBAAS,CAACjB,SAAV,CAAoBsR,mBAApB;AACD,OAFD;AAGAptB,OAAC,CAAC,gBAAD,CAAD,CAAoBqtB,OAApB,CAA4B,UAAS3Q,KAAT,EAAgB;AAC1CA,aAAK,CAAC4Q,cAAN;AACD,OAFD;AAGD;;AACDttB,KAAC,CAAC,MAAD,CAAD,CAAUqtB,OAAV,CAAkB,UAAS3Q,KAAT,EAAgB;AAChC;AACA;AACA,UACEA,KAAK,CAAC6Q,KAAN,KAAgB,EAAhB,KACC7Q,KAAK,CAAC8Q,MAAN,CAAaC,QAAb,KAA0B,MAA1B,IAAoC/Q,KAAK,CAAC8Q,MAAN,CAAaC,QAAb,KAA0B,GAD/D,CADF,EAGE;AACA/Q,aAAK,CAAC4Q,cAAN;AACD;AACF,KATD;AAUD;;AACDI,mBAAiB,GAAG;AAClB;AACA,QAAIC,eAAe,GAAGC,OAAO,CAACr0B,GAAR,CAAY,YAAZ,CAAtB;;AACA,QAAI,OAAOo0B,eAAP,IAA0B,WAA9B,EAA2C;AACzCE,kBAAY,CAACC,OAAb,CAAqB,qBAArB,EAA4CH,eAA5C;AACAC,aAAO,CAAC/hB,MAAR,CAAe,YAAf;AACD;;AACD,QAAIkiB,WAAW,GAAGH,OAAO,CAACr0B,GAAR,CAAY,QAAZ,CAAlB;;AACA,QAAI,OAAOw0B,WAAP,IAAsB,WAA1B,EAAuC;AACrCF,kBAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCC,WAAxC;AACAH,aAAO,CAAC/hB,MAAR,CAAe,QAAf;AACD;;AACD,QAAImiB,SAAS,GAAGJ,OAAO,CAACr0B,GAAR,CAAY,eAAZ,CAAhB;;AACA,QAAI,OAAOy0B,SAAP,IAAoB,WAAxB,EAAqC;AACnCH,kBAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCE,SAAzC;AACAJ,aAAO,CAAC/hB,MAAR,CAAe,eAAf;AACD;;AACD,QAAIoiB,YAAY,GAAGL,OAAO,CAACM,OAAR,CAAgB,kBAAhB,CAAnB;;AACA,QAAI,OAAOD,YAAP,IAAuB,WAA3B,EAAwC;AACtCJ,kBAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCptB,IAAI,CAAC0O,SAAL,CAAe6e,YAAf,CAAzC;AACAL,aAAO,CAAC/hB,MAAR,CAAe,kBAAf;AACD;;AACD+hB,WAAO,CAAC/hB,MAAR,CAAe,oBAAf;AACA+hB,WAAO,CAAC/hB,MAAR,CAAe,kBAAf;AACA+hB,WAAO,CAAC/hB,MAAR,CAAe,gBAAf;AACA+hB,WAAO,CAAC/hB,MAAR,CAAe,wBAAf;AACD;;AACDsiB,iBAAe,GAAG,CAChB;AACD;AACD;AACF;AACA;;;AACE3K,0BAAwB,GAAG;AACzBxjB,KAAC,CAAC,2BAAD,CAAD,CAA+BC,IAA/B,CACEghB,aAAa,GAAG,mCADlB,EAEE,YAAW;AACTlE,eAAS,CAACqR,cAAV;AACD,KAJH;AAMD;;AACDA,gBAAc,GAAG;AACfpuB,KAAC,CAAC,+CAAD,CAAD,CAAmDkG,GAAnD,CACE,cAAc,KAAKgL,UAAL,CAAgBiG,cAAhB,EADhB;AAGAnX,KAAC,CAAC,+DAAD,CAAD,CAAmEkG,GAAnE,CACE,KAAKgL,UAAL,CAAgBkU,kBAAhB,EADF;AAGAplB,KAAC,CAAC,0DAAD,CAAD,CAA8DkG,GAA9D,CACE,KAAKgL,UAAL,CAAgBiG,cAAhB,EADF;AAGAnX,KAAC,CAAC,oEAAD,CAAD,CAAwEkG,GAAxE,CACE,KAAKgL,UAAL,CAAgB+T,cAAhB,EADF;AAGD;;AACDoJ,uBAAqB,GAAG;AACtB,QAAIC,OAAO,GAAGtuB,CAAC,CAAC,+CAAD,CAAD,CAAmDkG,GAAnD,EAAd;AACA,QAAIqoB,cAAc,GAAGvuB,CAAC,CACpB,+DADoB,CAAD,CAEnBkG,GAFmB,EAArB;AAGA,QAAIsoB,SAAS,GAAGxuB,CAAC,CACf,0DADe,CAAD,CAEdkG,GAFc,EAAhB;;AAGA,QAAIooB,OAAO,KAAK,EAAZ,IAAkBC,cAAc,KAAK,EAArC,IAA2CC,SAAS,KAAK,EAA7D,EAAiE;AAC/D,UAAIC,OAAO,GAAGzuB,CAAC,CAAC,6BAAD,CAAf;AACA0uB,cAAQ,GAAG1uB,CAAC,CAACyuB,OAAD,CAAD,CAAWE,SAAX,EAAX,CAF+D,CAG/D;;AACA3uB,OAAC,CAAC4uB,IAAF,CAAO;AACLp1B,YAAI,EAAE,MADD;AAEL+D,WAAG,EAAEyC,CAAC,CAACyuB,OAAD,CAAD,CAAWloB,IAAX,CAAgB,QAAhB,CAFA;AAGL5O,YAAI,EAAE+2B;AAHD,OAAP,EAIGG,IAJH,CAIQ,UAASl1B,QAAT,EAAmB;AACzB;AACAqG,SAAC,CAAC,2BAAD,CAAD,CAA+B2e,KAA/B;AACA5B,iBAAS,CAAC+R,aAAV;AACD,OARD;AASD;AACF;;AACDA,eAAa,GAAG;AACd,SAAK7R,wBAAL,CAA8B,KAAK/L,UAAL,CAAgBiG,cAAhB,EAA9B,EAAgE,KAAhE;AACD;;AACD4X,uBAAqB,GAAG;AACtB,QAAIxxB,GAAG,GAAGyxB,MAAM,CAAC,8BAAD,CAAhB;;AACA,QAAI,OAAOzxB,GAAP,KAAe,WAAf,IAA8BA,GAAG,KAAK,EAA1C,EAA8C;AAC5C,UAAI0xB,MAAM,GAAG,sEAAb;AACA,UAAI7uB,KAAK,GAAG7C,GAAG,CAAC6C,KAAJ,CAAU6uB,MAAV,CAAZ;;AACA,UAAI7uB,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAL,CAASvK,MAAT,KAAoB,EAAjC,EAAqC;AACnC,aAAKonB,wBAAL,CAA8B7c,KAAK,CAAC,CAAD,CAAnC,EAAwC,IAAxC;AACD,OAFD,MAEO;AACLkf,aAAK,CAAC,0CAAD,CAAL;AACD;AACF;AACF;;AACD4P,wBAAsB,GAAG;AACvB,QAAI3xB,GAAG,GAAGyxB,MAAM,CAAC,+BAAD,CAAhB;;AACA,QAAI,OAAOzxB,GAAP,KAAe,WAAf,IAA8BA,GAAG,KAAK,EAA1C,EAA8C;AAC5C,UAAI0xB,MAAM,GAAG,wGAAb;AACA,UAAI7uB,KAAK,GAAG7C,GAAG,CAAC6C,KAAJ,CAAU6uB,MAAV,CAAZ,CAF4C,CAG5C;;AACA,UAAI7uB,KAAJ,EAAW;AACT,aAAK4c,mBAAL,CAAyB5c,KAAK,CAAC,CAAD,CAA9B,EAAmCA,KAAK,CAAC,CAAD,CAAxC;AACD,OAFD,MAEO;AACLkf,aAAK,CAAC,iDAAD,CAAL;AACD;AACF;AACF;;AACD6P,yBAAuB,GAAG;AACxB,QAAI5xB,GAAG,GAAGyxB,MAAM,CAAC,gCAAD,CAAhB;;AACA,QAAI,OAAOzxB,GAAP,KAAe,WAAf,IAA8BA,GAAG,KAAK,EAA1C,EAA8C;AAC5C,UAAI0xB,MAAM,GAAG,4DAAb;AACA,UAAI7uB,KAAK,GAAG7C,GAAG,CAAC6C,KAAJ,CAAU6uB,MAAV,CAAZ,CAF4C,CAG5C;;AACA,UAAI7uB,KAAJ,EAAW;AACT,aAAKggB,0BAAL,CAAgChgB,KAAK,CAAC,CAAD,CAArC;AACD,OAFD,MAEO;AACLkf,aAAK,CAAC,kDAAD,CAAL;AACD;AACF;AACF;;AACD8P,sBAAoB,CAACvP,SAAD,EAAY;AAC9B7f,KAAC,CAACzG,GAAF,CAAM0nB,aAAa,GAAG,sBAAhB,GAAyCpB,SAA/C,EAA0D,UAASloB,IAAT,EAAe;AACvE,UAAI03B,OAAO,GAAGlO,MAAM,CAACC,SAAP,CAAiBzpB,IAAjB,CAAd,CADuE,CAEvE;AACD,KAHD;AAID;;AACD23B,yBAAuB,GAAG;AACxB,QAAI,CAAC,KAAK/S,iBAAV,EAA6B;AAC3B,WAAKC,sBAAL,GAA8B0F,UAAU,CAAC,YAAW;AAClDnF,iBAAS,CAACmL,aAAV;AACD,OAFuC,EAErC,GAFqC,CAAxC;AAGD;AACF;;AACDqH,0BAAwB,GAAG;AACzBpH,gBAAY,CAAC,KAAK3L,sBAAN,CAAZ;AACAA,0BAAsB,GAAG,CAAC,CAA1B;AACD;;AACDgT,uBAAqB,CAACC,UAAD,EAAa;AAChCzvB,KAAC,CAAC,qBAAD,CAAD,CAAyBue,WAAzB,CAAqC,QAArC,EAA+C,CAACkR,UAAhD;AACAzvB,KAAC,CAAC,qBAAD,CAAD,CAAyBue,WAAzB,CAAqC,SAArC,EAAgDkR,UAAhD;AACD;;AAzhDoB;AA4hDhB,MAAMC,MAAN,CAAa;AAClB5zB,aAAW,GAAG;AACZ;AACJ;AACA;AACI,SAAKovB,WAAL,GAAmB,EAAnB;AACA,SAAKhU,KAAL,GAAa,EAAb;AAEA,SAAKyY,kBAAL,GAA0B,EAA1B;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,gBAAL,GAAwB,EAAxB;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,eAAL,GAAuB,KAAvB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,cAAL,GAAsB,GAAtB;AACA,SAAKC,eAAL,GAAuB,CAAvB;AACA,SAAKC,eAAL,GAAuB,CAAvB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,gBAAL,GAAwB,KAAxB;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA,SAAKC,8BAAL,GAAsC,KAAtC;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,gBAAL,GAAwB,CAAxB;AACA,SAAKC,eAAL,GAAuB,KAAvB;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA,SAAKC,iBAAL,GAAyB,KAAzB;AACA,SAAKC,eAAL,GAAuB,KAAvB;AACA,SAAKC,sBAAL,GAA8B,KAA9B;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA,SAAKC,gBAAL,GAAwB,KAAxB;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,gBAAL,GAAwB,EAAxB;AACA,SAAKF,WAAL,GAAmB,CAAnB;AACA,SAAKG,WAAL,GAAmB,CAAnB;AACA,SAAKC,eAAL,GAAuB,KAAvB;AACA,SAAKC,sBAAL,GAA8B,KAA9B;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKA,UAAL,CAAgBC,wBAAhB,GAA2C,IAA3C;AACA,SAAKC,YAAL,GAAoB,CAApB;AACA,SAAKC,aAAL,GAAqB,KAArB;AACA,SAAKX,WAAL,GAAmB,CAAnB;AACA,SAAKY,eAAL,GAAuB,qBAAvB;AACA,SAAKC,mBAAL,GAA2B,EAA3B;AACA,SAAKV,WAAL,GAAmB,CAAnB;AACA,SAAKW,wBAAL,GAAgC,KAAhC;AACA,SAAKC,qBAAL,GAA6B,KAA7B;AACA,SAAKC,qBAAL,GAA6B,KAA7B;;AACA,SAAK3M,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAKiL,eAAZ;AACD,KAFD;;AAGA,SAAK9Y,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAKoY,eAAZ;AACD,KAFD;;AAGA,SAAKrK,UAAL,GAAkB,YAAW;AAC3B,aAAO,KAAKyK,aAAZ;AACD,KAFD;;AAIA,SAAKiC,yBAAL,GAAiC,UAC/B5b,SAD+B,EAE/B6b,SAF+B,EAG/BrgB,cAH+B,EAI/BsgB,WAJ+B,EAK/BC,YAL+B,EAM/B3gB,aAN+B,EAO/B;AACA;AACA,WAAK8d,aAAL,GAAqBlZ,SAArB;AACA,WAAKgc,gBAAL,GAAwBz4B,IAAI,CAAC04B,GAAL,CAASzgB,cAAT,EAAyB,CAAzB,CAAxB;AACA,WAAKge,eAAL,GAAuBsC,WAAvB;AACA,WAAK7C,aAAL,GAAqB4C,SAArB,CALA,CAMA;;AAEA,WAAKjB,cAAL,GAAsBmB,YAAtB;;AAEA,UAAI,KAAKG,OAAL,EAAJ,EAAoB;AAClB,aAAKC,gBAAL;AACD;;AAED,WAAKC,wBAAL;AACA,WAAKC,sBAAL;AACA,WAAKC,qBAAL;AACA,WAAKC,oBAAL,GAjBA,CAkBA;AACA;;AACA,WAAKC,4BAAL,GApBA,CAqBA;;AACA,WAAKC,2BAAL,GAtBA,CAuBA;AACA;;AACA,WAAKC,gBAAL;AAEA,WAAKC,uBAAL,CAA6B,KAAKlC,QAAlC;AACA,WAAKmC,eAAL,CAAqB,KAAKnC,QAA1B;;AAEA,UAAI,KAAKrB,aAAL,GAAqB,CAAzB,EAA4B;AAC1B,aAAKyD,YAAL,CAAkB,KAAKzD,aAAvB;AACD;AACF,KAxCD;;AA0CA,SAAKsD,gBAAL,GAAwB,YAAW;AACjC,UAAI,KAAKxD,aAAL,IAAsB,OAAtB,IAAiC,KAAKA,aAAL,IAAsB,OAA3D,EAAoE;AAClE;AACA4D,eAAO,GAAG,IAAIC,kBAAJ,CAAuB,aAAvB,EAAsC;AAC9C/uB,iBAAO,EAAE,MADqC;AAE9CgvB,kBAAQ,EAAE,KAFoC;AAG9C5wB,gBAAM,EAAE,KAAKotB,eAHiC;AAI9CyD,kBAAQ,EAAE,CAAC,YAAD,CAJoC;AAM9CC,iBAAO,EAAE,UAASC,YAAT,EAAuBC,YAAvB,EAAqCC,QAArC,EAA+C;AACtDrX,qBAAS,CAACjB,SAAV,CAAoBoP,WAApB,GAAkCkJ,QAAlC;AACArX,qBAAS,CAACjB,SAAV,CAAoB5E,KAApB,GAA4Bgd,YAA5B;;AACA,gBAAI,CAACnX,SAAS,CAACjB,SAAV,CAAoBqV,eAAzB,EAA0C;AACxCpU,uBAAS,CAACjB,SAAV,CAAoBuY,aAApB;AACD;AACF;AAZ6C,SAAtC,CAAV;;AAeA,YAAI,CAACtX,SAAS,CAAC0F,KAAV,EAAD,IAAsB,CAAC1F,SAAS,CAAC2F,QAAV,EAA3B,EAAiD;AAC/C,eAAKqN,YAAL,GAAoB,IAAIA,YAAJ,EAApB;AACD;AACF,OApBD,MAoBO,IAAI,KAAKE,aAAL,IAAsB,SAA1B,EAAqC;AAC1C4D,eAAO,GAAG,IAAIC,kBAAJ,CAAuB,aAAvB,EAAsC;AAC9C/uB,iBAAO,EAAE,MADqC;AAE9CgvB,kBAAQ,EAAE,CAFoC;AAG9C5wB,gBAAM,EAAE,KAAKotB,eAHiC;AAI9CyD,kBAAQ,EAAE,CAAC,YAAD,CAJoC;AAK9CC,iBAAO,EAAE,UAASC,YAAT,EAAuBC,YAAvB,EAAqCC,QAArC,EAA+C;AACtDrX,qBAAS,CAACjB,SAAV,CAAoBoP,WAApB,GAAkCkJ,QAAlC;AACArX,qBAAS,CAACjB,SAAV,CAAoB5E,KAApB,GAA4Bgd,YAA5B;;AACA,gBAAI,CAACnX,SAAS,CAACjB,SAAV,CAAoBqV,eAAzB,EAA0C;AACxCpU,uBAAS,CAACjB,SAAV,CAAoBuY,aAApB;AACD;AACF;AAX6C,SAAtC,CAAV;AAaD,OAdM,MAcA,IAAI,KAAKpE,aAAL,IAAsB,UAA1B,EAAsC;AAC3C4D,eAAO,GAAG,IAAIC,kBAAJ,CAAuB,aAAvB,EAAsC;AAC9C/uB,iBAAO,EAAE,MADqC;AAE9CgvB,kBAAQ,EAAE,KAFoC;AAG9C5wB,gBAAM,EAAE,KAAKotB,eAHiC;AAI9C+D,mBAAS,EAAE,CAAC,UAAD,CAJmC;AAK9CC,oBAAU,EAAE,MALkC;AAM9CC,qBAAW,EAAE,MANiC;AAO9CR,kBAAQ,EAAE,CAAC,YAAD,CAPoC;AAQ9CC,iBAAO,EAAE,UAASC,YAAT,EAAuBC,YAAvB,EAAqCC,QAArC,EAA+C;AACtDrX,qBAAS,CAACjB,SAAV,CAAoBoP,WAApB,GAAkCkJ,QAAlC;AACArX,qBAAS,CAACjB,SAAV,CAAoB5E,KAApB,GAA4Bgd,YAA5B;;AACA,gBAAI,CAACnX,SAAS,CAACjB,SAAV,CAAoBqV,eAAzB,EAA0C;AACxCpU,uBAAS,CAACjB,SAAV,CAAoBuY,aAApB;AACD;AACF;AAd6C,SAAtC,CAAV;AAgBD;AACF,KArDD;;AAuDA,SAAKniB,gBAAL,GAAwB,UAASuiB,gBAAT,EAA2B;AACjD,UAAI,OAAOA,gBAAP,KAA4B,WAAhC,EAA6C;AAC3C,aAAKjE,UAAL,GAAkBiE,gBAAlB;AAEA,YAAIC,aAAa,GAAG,EAApB;;AACA,aAAK,IAAI9+B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK46B,UAAL,CAAgB36B,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C8+B,uBAAa,IACX,6CAA6C9+B,CAA7C,GAAiD,UADnD;AAED;;AACDoK,SAAC,CAAC,mBAAD,CAAD,CAAuBD,IAAvB,CAA4B20B,aAA5B;AACD;AACF,KAXD;;AAYA,SAAK7V,qBAAL,GAA6B,YAAW;AACtC,WAAK8V,gBAAL;;AAEA,UAAI,CAAC,KAAKzJ,WAAL,CAAiB0J,MAAtB,EAA8B;AAC5B,aAAK1J,WAAL,CAAiB2J,KAAjB;AACD;;AACD70B,OAAC,CAAC,cAAD,CAAD,CAAkB80B,GAAlB,CAAsB,MAAtB;AACA90B,OAAC,CAAC,cAAD,CAAD,CAAkB80B,GAAlB,CAAsB,OAAtB;AACA90B,OAAC,CAAC,cAAD,CAAD,CAAkB80B,GAAlB,CAAsB,gBAAtB;AACA90B,OAAC,CAAC,cAAD,CAAD,CAAkB80B,GAAlB,CAAsB,YAAtB;AACA90B,OAAC,CAAC,cAAD,CAAD,CAAkB80B,GAAlB,CAAsB,OAAtB;AACA90B,OAAC,CAAC,cAAD,CAAD,CAAkB80B,GAAlB,CAAsB,OAAtB;AACA90B,OAAC,CAAC,cAAD,CAAD,CAAkB80B,GAAlB,CAAsB,SAAtB;AAEA,WAAK5J,WAAL,CAAiBrf,MAAjB;AACA7L,OAAC,CAAC,qBAAD,CAAD,CAAyB6L,MAAzB;;AAEA,UAAI,KAAKkkB,YAAL,KAAsB,IAA1B,EAAgC;AAC9B,aAAKA,YAAL,CAAkBlR,qBAAlB;AACA,eAAO,KAAKkR,YAAZ;AACD;AACF,KArBD;;AAsBA,SAAKsE,aAAL,GAAqB,YAAW;AAC9B;AACA;AACA;AACA;AACAr0B,OAAC,CAAC,cAAD,CAAD,CAAkB+0B,EAAlB,CAAqB,MAArB,EAA6B,YAAW;AACtChY,iBAAS,CAACjB,SAAV,CAAoBkZ,uBAApB,CAA4CtY,KAA5C;AACD,OAFD;AAGA1c,OAAC,CAAC,cAAD,CAAD,CAAkB+0B,EAAlB,CAAqB,OAArB,EAA8B,YAAW;AACvChY,iBAAS,CAACjB,SAAV,CAAoBmZ,wBAApB;AACD,OAFD,EAR8B,CAY9B;;AACAj1B,OAAC,CAAC,cAAD,CAAD,CAAkB+0B,EAAlB,CAAqB,gBAArB,EAAuC,YAAW;AAChDhY,iBAAS,CAACjB,SAAV,CAAoBoZ,6BAApB;AACD,OAFD,EAb8B,CAgB9B;;AACAl1B,OAAC,CAAC,cAAD,CAAD,CAAkB+0B,EAAlB,CAAqB,YAArB,EAAmC,YAAW;AAC5ChY,iBAAS,CAACjB,SAAV,CAAoBqZ,wBAApB;AACD,OAFD;AAGAn1B,OAAC,CAAC,cAAD,CAAD,CAAkB+0B,EAAlB,CAAqB,OAArB,EAA8B,YAAW;AACvChY,iBAAS,CAACjB,SAAV,CAAoBsZ,iBAApB;AACD,OAFD;AAGAp1B,OAAC,CAAC,cAAD,CAAD,CAAkB+0B,EAAlB,CAAqB,OAArB,EAA8B,UAASrY,KAAT,EAAgB;AAC5CK,iBAAS,CAACjB,SAAV,CAAoBuZ,mBAApB,CAAwC3Y,KAAxC;AACD,OAFD;AAGA1c,OAAC,CAAC,cAAD,CAAD,CAAkB+0B,EAAlB,CAAqB,SAArB,EAAgC,YAAW;AACzChY,iBAAS,CAACjB,SAAV,CAAoBwZ,uBAApB;AACD,OAFD,EA1B8B,CA8B9B;;AACA,WAAKjF,eAAL,GAAuB,KAAKnF,WAAL,CAAiBjd,QAAxC;;AAEA,UAAI,KAAKgiB,aAAL,IAAsB,SAA1B,EAAqC;AACnC;AACA;AACA,aAAKsF,6BAAL;;AACA,YAAI,KAAKrF,eAAT,EAA0B;AACxB,eAAKsF,gBAAL,CAAsB,IAAtB;AACD;;AACDx1B,SAAC,CAAC,QAAD,CAAD,CAAYosB,IAAZ,CAAiB,aAAjB,EAAgC,YAAW;AACzC,iBAAO,KAAP;AACD,SAFD;AAGApsB,SAAC,CAAC,qBAAD,CAAD,CAAyBosB,IAAzB,CAA8B,aAA9B,EAA6C,YAAW;AACtD,iBAAO,KAAP;AACD,SAFD;AAGD,OAbD,MAaO,IAAI,KAAK6D,aAAL,IAAsB,UAA1B,EAAsC;AAC3C;AACA;AACA,aAAK/E,WAAL,CAAiBjrB,IAAjB;AAEA,aAAKs1B,6BAAL;;AACA,YAAI,KAAKrF,eAAT,EAA0B;AACxB,eAAKsF,gBAAL,CAAsB,IAAtB;AACD;;AACDx1B,SAAC,CAAC,QAAD,CAAD,CAAYosB,IAAZ,CAAiB,aAAjB,EAAgC,YAAW;AACzC,iBAAO,KAAP;AACD,SAFD;AAGApsB,SAAC,CAAC,qBAAD,CAAD,CAAyBosB,IAAzB,CAA8B,aAA9B,EAA6C,YAAW;AACtD,iBAAO,KAAP;AACD,SAFD;AAGD,OAfM,MAeA,IAAI,KAAK6D,aAAL,IAAsB,OAA1B,EAAmC;AACxC,aAAKwF,mBAAL;;AAEA,YAAI,KAAKvF,eAAT,EAA0B;AACxB,eAAKsF,gBAAL,CAAsB,IAAtB;AACD;;AACDx1B,SAAC,CAAC,OAAD,CAAD,CAAWosB,IAAX,CAAgB,aAAhB,EAA+B,YAAW;AACxC,iBAAO,KAAP;AACD,SAFD;AAGApsB,SAAC,CAAC,qBAAD,CAAD,CAAyBosB,IAAzB,CAA8B,aAA9B,EAA6C,YAAW;AACtD,iBAAO,KAAP;AACD,SAFD;AAGD;;AAED,WAAKuH,eAAL,CAAqB,KAAKnC,QAA1B;AAEA,WAAKkE,sBAAL;AACA,WAAKvE,eAAL,GAAuB,IAAvB;AACD,KA/ED;;AAiFA,SAAKgC,wBAAL,GAAgC,YAAW;AACzC;;AACA;AACA,WAAKxD,kBAAL,GAA0BzF,QAAQ,CAACyL,cAAT,CAAwB,gBAAxB,CAA1B;AACAC,gBAAU,CAAC3c,MAAX,CAAkB,KAAK0W,kBAAvB,EAA2C;AACzCkG,eAAO,EAAE,KADgC;AAEzCxpB,aAAK,EAAE,CAAC,CAAD,CAFkC;AAGzCypB,aAAK,EAAE;AACLC,aAAG,EAAE,CADA;AAEL/C,aAAG,EAAE;AAFA;AAHkC,OAA3C;AAQA,WAAKrD,kBAAL,CAAwBiG,UAAxB,CAAmCb,EAAnC,CAAsC,OAAtC,EAA+C,YAAW;AACxDhY,iBAAS,CAACjB,SAAV,CAAoBka,qBAApB;AACD,OAFD;AAGA,WAAKrG,kBAAL,CAAwBiG,UAAxB,CAAmCb,EAAnC,CAAsC,QAAtC,EAAgD,YAAW;AACzDhY,iBAAS,CAACjB,SAAV,CAAoBma,qBAApB;AACD,OAFD;AAGD,KAlBD;;AAoBA,SAAK7C,sBAAL,GAA8B,YAAW;AACvC;;AACA;AACA,WAAKvD,gBAAL,GAAwB3F,QAAQ,CAACyL,cAAT,CAAwB,cAAxB,CAAxB;AACAC,gBAAU,CAAC3c,MAAX,CAAkB,KAAK4W,gBAAvB,EAAyC;AACvCgG,eAAO,EAAE,KAD8B;AAEvCxpB,aAAK,EAAE,CAFgC;AAGvC6pB,YAAI,EAAE,KAHiC;AAIvCC,eAAO,EAAE,CAAC,IAAD,EAAO,KAAP,CAJ8B;AAKvCC,mBAAW,EAAE,YAL0B;AAMvCC,iBAAS,EAAE,KAN4B;AAOvCP,aAAK,EAAE;AACLC,aAAG,EAAE,CADA;AAEL/C,aAAG,EAAE;AAFA;AAPgC,OAAzC;AAYA,WAAKnD,gBAAL,CAAsB+F,UAAtB,CAAiCb,EAAjC,CAAoC,OAApC,EAA6C,YAAW;AACtDhY,iBAAS,CAACjB,SAAV,CAAoBwa,mBAApB;AACD,OAFD;AAGD,KAnBD;;AAqBA,SAAKhD,oBAAL,GAA4B,YAAW;AACrC,UAAI,KAAKrD,aAAL,KAAuB,OAA3B,EAAoC;AAClC;AACA,aAAKH,cAAL,GAAsB5F,QAAQ,CAACyL,cAAT,CAAwB,YAAxB,CAAtB;AACAC,kBAAU,CAAC3c,MAAX,CAAkB,KAAK6W,cAAvB,EAAuC;AACrC+F,iBAAO,EAAE,KAD4B;AAErCxpB,eAAK,EAAE,CAF8B;AAGrC6pB,cAAI,EAAE,KAH+B;AAIrCC,iBAAO,EAAE,CAAC,IAAD,EAAO,KAAP,CAJ4B;AAKrCC,qBAAW,EAAE,YALwB;AAMrCC,mBAAS,EAAE,KAN0B;AAOrCP,eAAK,EAAE;AACLC,eAAG,EAAE,CADA;AAEL/C,eAAG,EAAE;AAFA;AAP8B,SAAvC;AAaA,aAAKlD,cAAL,CAAoB8F,UAApB,CAA+Bb,EAA/B,CAAkC,OAAlC,EAA2C,YAAW;AACpDhY,mBAAS,CAACjB,SAAV,CAAoBya,iBAApB;AACD,SAFD,EAhBkC,CAoBlC;;AACAv2B,SAAC,CAAC,KAAK8vB,cAAN,CAAD,CAAuBvpB,IAAvB,CAA4B,UAA5B,EAAwC,IAAxC;AACD;AACF,KAxBD;;AA0BA,SAAKiwB,iBAAL,GAAyB,YAAW;AAClC;AACA,UAAI,KAAKvG,aAAL,IAAsB,OAA1B,EAAmC;AACjC;AACA,aAAKgC,WAAL,GAAmBjyB,CAAC,CAAC,sBAAD,CAApB;AACA,aAAKiyB,WAAL,CAAiBwE,OAAjB,CAAyB;AACvBC,iBAAO,EAAE,QADc;AAEvBC,kBAAQ,EAAE,CAFa;AAGvBC,kBAAQ,EAAE,CAHa;AAIvBC,mBAAS,EAAE,KAJY;AAKvBC,wBAAc,EAAE;AALO,SAAzB;AAQA,aAAKzE,aAAL,GAAqB,KAArB,CAXiC,CAYjC;;AACA,aAAKJ,WAAL,CAAiBwE,OAAjB,CAAyB,QAAzB;AACA,aAAKxE,WAAL,CAAiBwE,OAAjB,CAAyB,cAAzB,EAAyC,qBAAzC;AAEA,aAAKxE,WAAL,CAAiBwE,OAAjB,CAAyB,SAAzB;AACAz2B,SAAC,CAAC,KAAK8vB,cAAN,CAAD,CAAuBvpB,IAAvB,CAA4B,UAA5B,EAAwC,IAAxC,EAjBiC,CAmBjC;;AACAvG,SAAC,CAAC,KAAKiyB,WAAN,CAAD,CACGjsB,MADH,GAEG+uB,EAFH,CAEM,kBAFN,EAE0B,UAASrY,KAAT,EAAgB;AACtC,cAAIK,SAAS,CAACjB,SAAV,CAAoBuW,aAAxB,EAAuC;AACrC3V,iBAAK,CAAC4Q,cAAN;AACA,gBAAIyJ,KAAK,GAAGra,KAAK,CAACqa,KAAN,IAAera,KAAK,CAACsa,aAAN,CAAoBC,UAA/C;AAEA,gBAAIC,OAAO,GAAGH,KAAK,GAAGA,KAAK,GAAG,CAAX,GAAera,KAAK,CAACsa,aAAN,CAAoBG,MAApB,GAA6B,CAA/D,CAJqC,CAMrC;;AACApa,qBAAS,CAACjB,SAAV,CAAoBmW,WAApB,CAAgCwE,OAAhC,CAAwC,MAAxC,EAAgDS,OAAhD,EAAyD;AACvDL,uBAAS,EAAE,CAAC,GAD2C;AAEvDhB,qBAAO,EAAE,IAF8C;AAGvDuB,mBAAK,EAAE1a,KAHgD;AAIvD2a,wBAAU,EAAE,IAJ2C;AAKvDC,uBAAS,EAAE,IAL4C;AAMvDrpB,sBAAQ,EAAE;AAN6C,aAAzD;AAQD;AACF,SAnBH;AAqBAjO,SAAC,CAAC,KAAKiyB,WAAN,CAAD,CAAoB8C,EAApB,CAAuB,aAAvB,EAAsC,UAASjvB,CAAT,EAAY2wB,OAAZ,EAAqB;AACzD1Z,mBAAS,CAACjB,SAAV,CAAoByb,sBAApB;AACD,SAFD;AAGD,OA5CD,MA4CO;AACLv3B,SAAC,CAAC,KAAK8vB,cAAN,CAAD,CAAuBvpB,IAAvB,CAA4B,UAA5B,EAAwC,IAAxC;AACAvG,SAAC,CAAC,aAAD,CAAD,CAAiBuG,IAAjB,CAAsB,UAAtB,EAAkC,IAAlC;AACD;AACF,KAlDD;AAoDA;AACJ;AACA;;;AACI,SAAKixB,YAAL,GAAoB,UAASC,QAAT,EAAmB;AACrC;AACA,WAAK3G,WAAL,GAAmB2G,QAAnB;AACA1a,eAAS,CAACyS,qBAAV,CAAgCiI,QAAhC;AACD,KAJD;;AAMA,SAAKC,SAAL,GAAiB,YAAW;AAC1B,aAAO,KAAK5G,WAAZ;AACD,KAFD;;AAIA,SAAKmC,OAAL,GAAe,YAAW;AACxB,aAAO,KAAKhD,aAAL,IAAsB,OAA7B;AACD,KAFD;;AAIA,SAAK0H,OAAL,GAAe,YAAW;AACxB,aAAO,KAAK1H,aAAL,IAAsB,OAA7B;AACD,KAFD;;AAIA,SAAK2H,SAAL,GAAiB,YAAW;AAC1B,aAAO,KAAK3H,aAAL,IAAsB,SAA7B;AACD,KAFD;;AAIA,SAAK4H,yBAAL,GAAiC,YAAW;AAC1C,UACE,KAAK9H,YAAL,KAAsB,IAAtB,IACA,CAAChT,SAAS,CAAC0F,KAAV,EADD,IAEA,CAAC1F,SAAS,CAAC2F,QAAV,EAHH,EAIE;AACA,YAAI,KAAKgQ,qBAAT,EAAgC;AAC9Bp9B,iBAAO,CAACC,GAAR,CAAY,6BAAZ;AACA,eAAKw6B,YAAL,CAAkB+H,eAAlB;AACA,eAAKpF,qBAAL,GAA6B,KAA7B;AACD,SAJD,MAIO;AACLp9B,iBAAO,CAACC,GAAR,CAAY,0BAAZ;AACA,eAAKw6B,YAAL,CAAkBgI,kBAAlB;AACA,eAAKrF,qBAAL,GAA6B,IAA7B;AACD;AACF;AACF,KAhBD;;AAkBA,SAAKvF,iBAAL,GAAyB,YAAW;AAClC;AACA,UAAI,KAAKkF,aAAT,EAAwB;AACtB,aAAKC,eAAL,GAAuB,KAAKL,WAAL,CAAiBwE,OAAjB,CAAyB,cAAzB,CAAvB;AACA,aAAKxE,WAAL,CAAiBwE,OAAjB,CAAyB,cAAzB,EAAyC,qBAAzC;AACA,aAAKxE,WAAL,CAAiBwE,OAAjB,CAAyB,SAAzB;AACAz2B,SAAC,CAAC,KAAK8vB,cAAN,CAAD,CAAuBvpB,IAAvB,CAA4B,UAA5B,EAAwC,IAAxC;AACAvG,SAAC,CAAC,cAAD,CAAD,CAAkBue,WAAlB,CAA8B,eAA9B,EAA+C,KAA/C;AACAve,SAAC,CAAC,qBAAD,CAAD,CAAyBue,WAAzB,CAAqC,QAArC,EAA+C,KAA/C;AACAve,SAAC,CAAC,aAAD,CAAD,CAAiBg4B,IAAjB,CAAsB,SAAtB,EAAiC,KAAjC;AACA,aAAK3F,aAAL,GAAqB,KAArB;AACD,OATD,MASO;AACL;AACA,aAAKJ,WAAL,CAAiBwE,OAAjB,CAAyB,QAAzB;AACA,aAAKpE,aAAL,GAAqB,IAArB;AACAryB,SAAC,CAAC,aAAD,CAAD,CAAiBg4B,IAAjB,CAAsB,SAAtB,EAAiC,IAAjC;AACAh4B,SAAC,CAAC,cAAD,CAAD,CAAkBue,WAAlB,CAA8B,eAA9B,EAA+C,IAA/C;AACAve,SAAC,CAAC,KAAK8vB,cAAN,CAAD,CAAuBmI,UAAvB,CAAkC,UAAlC;AACAj4B,SAAC,CAAC,qBAAD,CAAD,CAAyBue,WAAzB,CAAqC,QAArC,EAA+C,IAA/C;AACA,aAAK0T,WAAL,CAAiBwE,OAAjB,CAAyB,cAAzB,EAAyC,KAAKnE,eAA9C;AACA,aAAKiF,sBAAL;AACD;AACF,KAtBD;;AAwBA,SAAKrE,gBAAL,GAAwB,YAAW;AACjC;AACA;AACA,UAAIgF,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAItiC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+7B,cAAL,CAAoB97B,MAAxC,EAAgD,EAAED,CAAlD,EAAqD;AACnD,YAAImnB,SAAS,CAAC0F,KAAV,EAAJ,EAAuB;AACrB,cAAI,KAAKkP,cAAL,CAAoB/7B,CAApB,EAAuB,YAAvB,KAAwC,MAA5C,EAAoD,CAClD;AACA;AACD,WAHD,MAGO;AACLuiC,qBAAS,GAAG,KAAKxG,cAAL,CAAoB/7B,CAApB,CAAZ;;AAEA,gBACEuiC,SAAS,CAAC,YAAD,CAAT,IAA2B,KAA3B,IACAA,SAAS,CAAC,YAAD,CAAT,IAA2B,QAD3B,IAEAA,SAAS,CAAC,YAAD,CAAT,IAA2B,MAF3B,IAGAA,SAAS,CAAC,YAAD,CAAT,IAA2B,SAJ7B,EAKE;AACAA,uBAAS,CAAC,IAAD,CAAT,GAAkB,IAAlB;AACD,aAPD,MAOO;AACLA,uBAAS,CAAC,IAAD,CAAT,GAAkB,EAAlB;AACD;;AACDD,oBAAQ,CAAC/hC,IAAT,CAAcgiC,SAAd;AACD;AACF,SAnBD,MAmBO;AACL,cAAI,KAAKxG,cAAL,CAAoB/7B,CAApB,EAAuB,YAAvB,KAAwC,MAA5C,EAAoD;AAClDuiC,qBAAS,GAAG,KAAKxG,cAAL,CAAoB/7B,CAApB,CAAZ;;AAEA,gBACEuiC,SAAS,CAAC,YAAD,CAAT,IAA2B,KAA3B,IACAA,SAAS,CAAC,YAAD,CAAT,IAA2B,QAD3B,IAEAA,SAAS,CAAC,YAAD,CAAT,IAA2B,MAF3B,IAGAA,SAAS,CAAC,YAAD,CAAT,IAA2B,SAJ7B,EAKE;AACAA,uBAAS,CAAC,IAAD,CAAT,GAAkB,IAAlB;AACD,aAPD,MAOO;AACLA,uBAAS,CAAC,IAAD,CAAT,GAAkB,EAAlB;AACD;;AACDD,oBAAQ,CAAC/hC,IAAT,CAAcgiC,SAAd;AACD;AACF;AACF,OAzCgC,CA2CjC;AACA;;;AACA,WAAKxG,cAAL,GAAsBuG,QAAtB,CA7CiC,CA+CjC;AACA;;AACA,WAAKvG,cAAL,CAAoB7vB,IAApB,CAAyB,UAASC,CAAT,EAAYC,CAAZ,EAAe;AACtC,eAAOA,CAAC,CAAC,MAAD,CAAD,GAAYD,CAAC,CAAC,MAAD,CAApB;AACD,OAFD;;AAIA,WAAK,IAAInM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+7B,cAAL,CAAoB97B,MAAxC,EAAgD,EAAED,CAAlD,EAAqD;AACnD,YAAIwiC,IAAI,GAAG,KAAKzG,cAAL,CAAoB/7B,CAApB,CAAX;AACA,YAAIyiC,IAAI,GAAG,KAAK1G,cAAL,CAAoB/7B,CAAC,GAAG,CAAxB,CAAX;;AACA,YAAIwiC,IAAI,CAAC,YAAD,CAAJ,IAAsBC,IAAI,CAAC,YAAD,CAA9B,EAA8C;AAC5C,cAAID,IAAI,CAAC,MAAD,CAAJ,GAAeC,IAAI,CAAC,MAAD,CAAvB,EAAiC;AAC/BD,gBAAI,CAAC,YAAD,CAAJ,IAAsB,KAAtB;AACD,WAFD,MAEO;AACLC,gBAAI,CAAC,YAAD,CAAJ,IAAsB,KAAtB;AACD;AACF;AACF;AACF,KAhED;;AAkEA,SAAK5C,mBAAL,GAA2B,YAAW;AACpC,UAAI6C,MAAM,GAAG,EAAb;AACA,UAAIC,mBAAmB,GAAG,CAA1B;;AAEA,UAAI,KAAKhG,mBAAL,IAA4B,EAAhC,EAAoC;AAClC,aAAK,IAAI38B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+7B,cAAL,CAAoB97B,MAAxC,EAAgD,EAAED,CAAlD,EAAqD;AACnD,cACE,KAAK28B,mBAAL,IAA4B,KAAKZ,cAAL,CAAoB/7B,CAApB,EAAuB,YAAvB,CAD9B,EAEE;AACA0iC,kBAAM,GAAG,KAAK3G,cAAL,CAAoB/7B,CAApB,EAAuB,KAAvB,CAAT;AACA2iC,+BAAmB,GAAG3iC,CAAtB;AACA;AACD;AACF,SATiC,CAWlC;;;AACA,YAAI0iC,MAAM,IAAI,EAAd,EAAkB;AAChB,eAAK,IAAI1iC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+7B,cAAL,CAAoB97B,MAAxC,EAAgD,EAAED,CAAlD,EAAqD;AACnD;AACA4iC,6BAAiB,GAAG,KAAKjG,mBAAL,CACjBkG,QADiB,GAEjBC,SAFiB,CAEP,CAFO,EAEJ,CAFI,CAApB;AAGAC,+BAAmB,GAAG,KAAKhH,cAAL,CAAoB/7B,CAApB,EAAuB,YAAvB,CAAtB;;AACA,gBAAI+iC,mBAAmB,CAAC/N,MAApB,CAA2B4N,iBAA3B,IAAgD,CAAC,CAArD,EAAwD;AACtDF,oBAAM,GAAG,KAAK3G,cAAL,CAAoB/7B,CAApB,EAAuB,KAAvB,CAAT;AACA2iC,iCAAmB,GAAG3iC,CAAtB;AACA;AACD;AACF;AACF,SAzBiC,CA2BlC;;;AACA,YAAI0iC,MAAM,IAAI,EAAd,EAAkB;AAChBA,gBAAM,GAAG,KAAK3G,cAAL,CAAoB,KAAKA,cAAL,CAAoB97B,MAApB,GAA6B,CAAjD,EAAoD,KAApD,CAAT;AACA0iC,6BAAmB,GAAG,KAAK5G,cAAL,CAAoB97B,MAApB,GAA6B,CAAnD;AACD;AACF,OAhCD,MAgCO;AACLyiC,cAAM,GAAG,KAAK3G,cAAL,CAAoB,KAAKA,cAAL,CAAoB97B,MAApB,GAA6B,CAAjD,EAAoD,KAApD,CAAT;AACA0iC,2BAAmB,GAAG,KAAK5G,cAAL,CAAoB97B,MAApB,GAA6B,CAAnD;AACD;;AAED,WAAK+iC,qBAAL,CAA2BL,mBAA3B;AACD,KA1CD;;AA4CA,SAAKM,kBAAL,GAA0B,YAAW;AACnC;AACA;AACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACK,KA9BD;;AAgCA,SAAKxF,qBAAL,GAA6B,YAAW;AACtC,UAAI,KAAKpD,aAAL,IAAsB,OAAtB,IAAiC,KAAKA,aAAL,IAAsB,OAA3D,EAAoE;AAClE;;AACA;AACA,aAAKL,eAAL,GAAuB1F,QAAQ,CAACyL,cAAT,CAAwB,aAAxB,CAAvB;AACAC,kBAAU,CAAC3c,MAAX,CAAkB,KAAK2W,eAAvB,EAAwC;AACtCiG,iBAAO,EAAE,KAD6B;AAEtCxpB,eAAK,EAAE,CAF+B;AAGtC6pB,cAAI,EAAE,GAHgC;AAItCC,iBAAO,EAAE,CAAC,IAAD,EAAO,KAAP,CAJ6B;AAKtCC,qBAAW,EAAE,YALyB;AAMtCC,mBAAS,EAAE,KAN2B;AAOtCP,eAAK,EAAE;AACLC,eAAG,EAAE,GADA;AAEL/C,eAAG,EAAE;AAFA;AAP+B,SAAxC;AAYA,aAAKpD,eAAL,CAAqBgG,UAArB,CAAgCb,EAAhC,CAAmC,OAAnC,EAA4C,YAAW;AACrDhY,mBAAS,CAACjB,SAAV,CAAoBgd,kBAApB;AACD,SAFD;AAGD,OAnBD,MAmBO,IAAI,KAAK7I,aAAL,IAAsB,SAA1B,EAAqC;AAC1C,aAAKL,eAAL,GAAuB1F,QAAQ,CAACyL,cAAT,CAAwB,aAAxB,CAAvB;AACAC,kBAAU,CAAC3c,MAAX,CAAkB,KAAK2W,eAAvB,EAAwC;AACtCiG,iBAAO,EAAE,KAD6B;AAEtCxpB,eAAK,EAAE,CAF+B;AAGtC6pB,cAAI,EAAE,IAHgC;AAItCC,iBAAO,EAAE,CAAC,IAAD,EAAO,KAAP,CAJ6B;AAKtCC,qBAAW,EAAE,YALyB;AAMtCC,mBAAS,EAAE,KAN2B;AAOtCP,eAAK,EAAE;AACLC,eAAG,EAAE,IADA;AAEL/C,eAAG,EAAE;AAFA;AAP+B,SAAxC;AAYA,aAAKpD,eAAL,CAAqBgG,UAArB,CAAgCb,EAAhC,CAAmC,OAAnC,EAA4C,YAAW;AACrDhY,mBAAS,CAACjB,SAAV,CAAoBgd,kBAApB;AACD,SAFD;AAGD,OAjBM,MAiBA,IAAI,KAAK7I,aAAL,IAAsB,SAA1B,EAAqC,CAC1C;AACD;AACF,KAxCD;AA0CA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACI;AACJ;AACA;;;AACI,SAAKgF,wBAAL,GAAgC,YAAW;AACzC;AACA;AACA,UAAI,CAAC,KAAKpE,8BAAV,EAA0C;AACxC,aAAK2G,YAAL,CAAkB,KAAlB;AACD,OAFD,MAEO;AACL,aAAK3G,8BAAL,GAAsC,KAAtC;AACD;;AAED,WAAK6E,sBAAL;AACD,KAVD;;AAYA,SAAKV,uBAAL,GAA+B,UAAStY,KAAT,EAAgB;AAC7C,UAAI,CAAC,KAAK+U,YAAV,EAAwB;AACtB,aAAK8D,6BAAL;AACA,aAAKwD,mBAAL;AACA,aAAKC,wBAAL;AACA,aAAKvH,YAAL,GAAoB,IAApB;AACD;;AAED,UAAI,CAAC,KAAKZ,8BAAV,EAA0C;AACxC,aAAK2G,YAAL,CAAkB,IAAlB;AACD,OAFD,MAEO;AACL,aAAK3G,8BAAL,GAAsC,KAAtC;AACD;;AAED,WAAK6E,sBAAL,GAd6C,CAgB7C;;AACA,UAAI,KAAKgC,SAAL,MAAoB,KAAKvH,aAAL,GAAqB,KAAKuB,WAAlD,EAA+D;AAC7D,aAAKkC,YAAL,CAAkB,KAAKlC,WAAvB;AACD;AACF,KApBD;;AAsBA,SAAKwD,6BAAL,GAAqC,YAAW;AAC9C;AACA,WAAK7E,eAAL,GAAuB,KAAKnF,WAAL,CAAiBjd,QAAxC;AACA,WAAKsnB,6BAAL;AACD,KAJD;;AAMA,SAAK0D,2BAAL,GAAmC,YAAW;AAC5C;AACN;AACA;AACA;AACA;AACA;AACA;AACM;AACD,KATD;;AAWA,SAAK9D,wBAAL,GAAgC,YAAW;AACzC;AACA,UAAI,CAAC,KAAK+D,sBAAN,IAAgC,CAAC,KAAK9H,sBAA1C,EAAkE;AAChE,YAAI,CAAC,KAAKG,gBAAV,EAA4B;AAC1B,eAAKpB,aAAL,GAAqB,KAAKjF,WAAL,CAAiBiO,WAAtC;AACA,eAAK9I,eAAL,GAAuB,KAAKnF,WAAL,CAAiBjd,QAAxC;AAEA,eAAK8iB,gBAAL,GAAwB,KAAKZ,aAAL,GAAqB,KAAKE,eAAlD;AAEA,eAAKV,kBAAL,CAAwBiG,UAAxB,CAAmCphC,GAAnC,CAAuC,KAAKu8B,gBAAL,GAAwB,IAA/D;AACA/wB,WAAC,CAAC,eAAD,CAAD,CAAmBD,IAAnB,CAAwB,KAAKq5B,gBAAL,CAAsB,KAAKjJ,aAA3B,CAAxB;;AAEA,cAAI,KAAKE,eAAL,GAAuB,CAA3B,EAA8B;AAC5BrwB,aAAC,CAAC,YAAD,CAAD,CAAgBD,IAAhB,CACE,KAAKq5B,gBAAL,CAAsB,KAAK/I,eAAL,GAAuB,KAAKF,aAAlD,CADF;AAGD;;AAED,cAAI,KAAKa,eAAT,EAA0B;AACxB,gBAAI,KAAKE,iBAAT,EAA4B;AAC1B,mBAAKmI,sBAAL,GACG,KAAK/I,eAAL,GAAuB,KAAKD,eAA7B,GAAgD,GADlD;AAEA,mBAAKiJ,oBAAL,GACG,KAAK5I,aAAL,GAAqB,KAAKL,eAA3B,GAA8C,GADhD;AAEAkJ,uBAAS,GAAGj/B,IAAI,CAAC04B,GAAL,CACV,GADU,EAEV,KAAKsG,oBAAL,GAA4B,KAAKD,sBAFvB,CAAZ;AAIAr5B,eAAC,CAAC,cAAD,CAAD,CAAkBw5B,GAAlB,CACE,MADF,EAEE,KAAKH,sBAAL,CAA4BZ,QAA5B,KAAyC,GAF3C;AAIAz4B,eAAC,CAAC,cAAD,CAAD,CAAkBw5B,GAAlB,CAAsB,OAAtB,EAA+BD,SAAS,CAACd,QAAV,KAAuB,GAAtD;AACA,mBAAKvH,iBAAL,GAAyB,KAAzB;AACD;;AACD,gBACE,KAAKN,kBAAL,IACA,KAAKT,aAAL,IAAsB,KAAKO,aAF7B,EAGE;AACA,mBAAKa,gBAAL,GAAwB,IAAxB;AACAkI,yBAAW,GAAG,KAAKviB,KAAL,CAAWwiB,eAAX,EAAd;AACA,mBAAK9F,YAAL,CAAkB,KAAKtD,eAAvB;AACA,mBAAKpZ,KAAL,CAAWyiB,eAAX,CAA2BF,WAA3B;AACA,mBAAKlI,gBAAL,GAAwB,KAAxB;AACD;AACF;AACF,SA3CD,MA2CO,CACL;AACD;AACF,OA/CD,MA+CO,CACL;AACD;AACF,KApDD;;AAsDA,SAAK6D,iBAAL,GAAyB,YAAW;AAClC;AACA,UAAIwE,sBAAsB,GAAGl5B,IAAI,CAACC,KAAL,CAC3BktB,YAAY,CAACniB,OAAb,CAAqB,4BAArB,CAD2B,CAA7B;;AAGA,UAAIkuB,sBAAsB,KAAK,IAA/B,EAAqC;AACnC,YAAIC,WAAW,GAAG,CAAC,CAAnB;;AACA,aAAK,IAAIjkC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgkC,sBAAsB,CAAC/jC,MAA3C,EAAmDD,CAAC,EAApD,EAAwD;AACtD,cAAIgkC,sBAAsB,CAAChkC,CAAD,CAAtB,CAA0Bg9B,SAA1B,IAAuC,KAAK5C,aAAhD,EAA+D;AAC7D6J,uBAAW,GAAGjkC,CAAd;AACA;AACD;AACF;;AACD,YAAIikC,WAAW,GAAG,CAAC,CAAnB,EAAsB;AACpBD,gCAAsB,CAAC3/B,MAAvB,CAA8B4/B,WAA9B,EAA2C,CAA3C;AACD;;AAEDhM,oBAAY,CAACC,OAAb,CACE,4BADF,EAEEptB,IAAI,CAAC0O,SAAL,CAAewqB,sBAAf,CAFF;AAID;;AACD,WAAKzJ,aAAL,GAAqB,CAArB;AACA,WAAKyD,YAAL,CAAkB,KAAKzD,aAAvB;AACA,WAAKuF,sBAAL;AACD,KAzBD;;AA2BA,SAAKL,mBAAL,GAA2B,UAAS3Y,KAAT,EAAgB,CACzC;AACA;AACA;;AACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACK,KAZD;;AAcA,SAAKod,iBAAL,GAAyB,YAAW;AAClCxa,WAAK,CACH,4MADG,CAAL;AAGD,KAJD;AAMA;AACJ;AACA;;;AACI,SAAK0W,qBAAL,GAA6B,YAAW;AACtC;AACA,WAAK5E,sBAAL,GAA8B,IAA9B;AACD,KAHD;;AAKA,SAAK6E,qBAAL,GAA6B,YAAW;AACtC;AACA,WAAK7E,sBAAL,GAA8B,KAA9B;AACA2I,iBAAW,GAAG,KAAKpK,kBAAL,CAAwBiG,UAAxB,CAAmCr8B,GAAnC,EAAd;AACA,WAAKw3B,gBAAL,GAAwBgJ,WAAW,GAAG,IAAtC;AACA,WAAK5J,aAAL,GAAqB,KAAKE,eAAL,GAAuB,KAAKU,gBAAjD;AACA,WAAK6C,YAAL,CAAkB,KAAKzD,aAAvB;AACD,KAPD;AASA;AACJ;AACA;;;AACI,SAAKtD,uBAAL,GAA+B,YAAW;AACxC;AACA,UAAI,KAAK6K,SAAL,MAAoB,CAAC,KAAK9G,kBAA9B,EAAkD;AAChD,aAAKgD,YAAL,CAAkB,KAAKlC,WAAvB;AACA,aAAKd,kBAAL,GAA0B,KAA1B;AACD;AACF,KAND;;AAQA,SAAKhE,4BAAL,GAAoC,YAAW;AAC7C,UAAI,KAAK8K,SAAL,EAAJ,EAAsB;AACpB,YAAIsC,OAAO,GAAG,KAAK7J,aAAL,GAAqB,GAAnC;;AACA,YAAI,KAAKS,kBAAT,EAA6B;AAC3BoJ,iBAAO,GAAG1/B,IAAI,CAAC04B,GAAL,CAASgH,OAAT,EAAkB,KAAK1J,eAAvB,CAAV;AACD;;AAED0J,eAAO,GAAG1/B,IAAI,CAAC04B,GAAL,CAASgH,OAAT,EAAkB,CAAlB,CAAV;AAEA,aAAKpG,YAAL,CAAkBoG,OAAlB;AACD;AACF,KAXD;;AAaA,SAAKrN,6BAAL,GAAqC,YAAW;AAC9C,UAAI,KAAK+K,SAAL,EAAJ,EAAsB;AACpB,YAAIsC,OAAO,GAAG,KAAK7J,aAAL,GAAqB,GAAnC;;AACA,YAAI,KAAKS,kBAAT,EAA6B;AAC3BoJ,iBAAO,GAAG1/B,IAAI,CAACy7B,GAAL,CAASiE,OAAT,EAAkB,KAAKtJ,aAAvB,CAAV;AACD;;AAEDsJ,eAAO,GAAG1/B,IAAI,CAACy7B,GAAL,CAASiE,OAAT,EAAkB,KAAK3J,eAAvB,CAAV;AAEA,aAAKuD,YAAL,CAAkBoG,OAAlB;AACD;AACF,KAXD;;AAaA,SAAKzN,uBAAL,GAA+B,YAAW;AACxC,UAAI,KAAKmL,SAAL,EAAJ,EAAsB;AACpB,YAAIsC,OAAO,GAAG,KAAK7J,aAAL,GAAqB,CAAnC;;AACA,YAAI,KAAKS,kBAAT,EAA6B;AAC3BoJ,iBAAO,GAAG1/B,IAAI,CAAC04B,GAAL,CAASgH,OAAT,EAAkB,KAAK1J,eAAvB,CAAV;AACD;;AAED0J,eAAO,GAAG1/B,IAAI,CAAC04B,GAAL,CAASgH,OAAT,EAAkB,CAAlB,CAAV;AAEA,aAAKpG,YAAL,CAAkBoG,OAAlB;AACD;AACF,KAXD;;AAaA,SAAK1N,wBAAL,GAAgC,YAAW;AACzC;AACA,UAAI,KAAKoL,SAAL,EAAJ,EAAsB;AACpB,YAAIsC,OAAO,GAAG,KAAK7J,aAAL,GAAqB,CAAnC;;AACA,YAAI,KAAKS,kBAAT,EAA6B;AAC3BoJ,iBAAO,GAAG1/B,IAAI,CAACy7B,GAAL,CAASiE,OAAT,EAAkB,KAAKtJ,aAAvB,CAAV;AACD;;AAEDsJ,eAAO,GAAG1/B,IAAI,CAACy7B,GAAL,CAASiE,OAAT,EAAkB,KAAK3J,eAAvB,CAAV;AAEA,aAAKuD,YAAL,CAAkBoG,OAAlB;AACD;AACF,KAZD;;AAcA,SAAKvN,uBAAL,GAA+B,YAAW;AACxC,UAAI,KAAKiL,SAAL,EAAJ,EAAsB;AACpB,YAAIsC,OAAO,GAAG,KAAK7J,aAAL,GAAqB,CAAnC;;AACA,YAAI,KAAKS,kBAAT,EAA6B;AAC3BoJ,iBAAO,GAAG1/B,IAAI,CAAC04B,GAAL,CAASgH,OAAT,EAAkB,KAAK1J,eAAvB,CAAV;AACD;;AAED0J,eAAO,GAAG1/B,IAAI,CAAC04B,GAAL,CAASgH,OAAT,EAAkB,CAAlB,CAAV;AAEA,aAAKpG,YAAL,CAAkBoG,OAAlB;AACD;AACF,KAXD;;AAaA,SAAKxN,wBAAL,GAAgC,YAAW;AACzC;AACA,UAAI,KAAKkL,SAAL,EAAJ,EAAsB;AACpB,YAAIsC,OAAO,GAAG,KAAK7J,aAAL,GAAqB,CAAnC;;AACA,YAAI,KAAKS,kBAAT,EAA6B;AAC3BoJ,iBAAO,GAAG1/B,IAAI,CAACy7B,GAAL,CAASiE,OAAT,EAAkB,KAAKtJ,aAAvB,CAAV;AACD;;AAEDsJ,eAAO,GAAG1/B,IAAI,CAACy7B,GAAL,CAASiE,OAAT,EAAkB,KAAK3J,eAAvB,CAAV;AAEA,aAAKuD,YAAL,CAAkBoG,OAAlB;AACD;AACF,KAZD;;AAcA,SAAK3N,sBAAL,GAA8B,YAAW;AACvC;AACA,WAAKwE,8BAAL,GAAsC,IAAtC;;AACA,UAAI,CAAC,KAAK6G,SAAL,EAAL,EAAuB;AACrB,aAAKF,YAAL,CAAkB,IAAlB;AACA,aAAKyC,UAAL;AACD,OAHD,MAGO;AACL,aAAKzC,YAAL,CAAkB,KAAlB;AACA,aAAK0C,WAAL;AACD;;AACD,WAAKxE,sBAAL;AACD,KAXD;;AAaA,SAAKlO,YAAL,GAAoB,YAAW;AAC7B,UAAI,KAAKkQ,SAAL,EAAJ,EAAsB;AACpB,aAAKrL,sBAAL;AACD;AACF,KAJD;;AAMA,SAAK8N,aAAL,GAAqB,YAAW;AAC9B,UAAI,CAAC,KAAKzC,SAAL,EAAL,EAAuB;AACrB,aAAKrL,sBAAL;AACD;AACF,KAJD;;AAMA,SAAKK,mBAAL,GAA2B,YAAW;AACpC,UAAI,KAAKsE,eAAL,IAAwB,KAAKJ,kBAAjC,EAAqD;AACnD,aAAKgD,YAAL,CAAkB,KAAKtD,eAAvB;AACD;AACF,KAJD;;AAKA,SAAKxD,oBAAL,GAA4B,YAAW;AACrC;AACA,UAAI,CAAC,KAAK8D,kBAAV,EAA8B;AAC5B,aAAKN,eAAL,GAAuB,KAAKH,aAAL,CAAmBiK,OAAnB,CAA2B,CAA3B,CAAvB;;AAEA,YAAI,KAAKjK,aAAL,GAAqB,KAAKO,aAA9B,EAA6C;AAC3C,eAAKM,eAAL,GAAuB,KAAvB;AACA,eAAKL,gBAAL,GAAwB,KAAxB;AACD,SAHD,MAGO;AACL,eAAKK,eAAL,GAAuB,KAAKL,gBAA5B;AACD;;AACD,aAAKF,kBAAL,GAA0B,IAA1B;AACA,aAAKC,aAAL,GACE,KAAKA,aAAL,GAAqB,KAAKJ,eAA1B,GACI,KAAKI,aADT,GAEIp2B,IAAI,CAACy7B,GAAL,CAAS,KAAKzF,eAAL,GAAuB,CAAhC,EAAmC,KAAKD,eAAxC,CAHN;AAKA,aAAKa,iBAAL,GAAyB,IAAzB;AACA,aAAKwE,sBAAL;AAEA3Y,iBAAS,CAACqK,oBAAV;AACD;AACF,KAtBD;;AAwBA,SAAK2F,kBAAL,GAA0B,YAAW;AACnC;AACA,UAAI,CAAC,KAAK6D,kBAAV,EAA8B;AAC5B,aAAKF,aAAL,GAAqB,KAAKP,aAAL,CAAmBiK,OAAnB,CAA2B,CAA3B,CAArB;;AACA,YAAI,KAAKjK,aAAL,IAAsB,KAAKG,eAA/B,EAAgD;AAC9C,eAAKU,eAAL,GAAuB,KAAvB;AACA,eAAKP,kBAAL,GAA0B,KAA1B;AACD,SAHD,MAGO;AACL,eAAKO,eAAL,GAAuB,KAAKP,kBAA5B;AACD;;AAED,aAAKE,gBAAL,GAAwB,IAAxB;AACA,aAAKL,eAAL,GACE,KAAKA,eAAL,GAAuB,KAAKI,aAA5B,GACI,KAAKJ,eADT,GAEIh2B,IAAI,CAAC04B,GAAL,CAAS,CAAT,EAAY,KAAKtC,aAAL,GAAqB,CAAjC,CAHN;AAIA,aAAKQ,iBAAL,GAAyB,IAAzB;AACA,aAAKwE,sBAAL;AAEA3Y,iBAAS,CAACqK,oBAAV;AACD;AACF,KArBD;;AAuBA,SAAK4F,qBAAL,GAA6B,YAAW;AACtC,UAAI,KAAKgE,eAAT,EAA0B;AACxB,YAAI,KAAKJ,kBAAT,EAA6B;AAC3B,eAAKA,kBAAL,GAA0B,KAA1B;AACD,SAFD,MAEO;AACL,cAAI,CAAC,KAAK8G,SAAL,EAAL,EAAuB;AACrB,iBAAKrL,sBAAL;AACD;;AACD,cACE,KAAKiE,eAAL,GAAuB,KAAKI,aAA5B,IACA,KAAKM,eAFP,EAGE;AACA,iBAAKJ,kBAAL,GAA0B,IAA1B;AACA,iBAAKgD,YAAL,CAAkB,KAAKtD,eAAvB;AACD;AACF;;AAED,aAAKoF,sBAAL;AACD;AACF,KAnBD;;AAqBA,SAAK2E,WAAL,GAAmB,YAAW;AAC5B,WAAKrJ,eAAL,GAAuB,CAAvB;AACA,WAAKJ,kBAAL,GAA0B,KAA1B;AACA,WAAK8E,sBAAL;AACD,KAJD;AAMA;AACJ;AACA;;;AACI,SAAKxI,oBAAL,GAA4B,YAAW;AACrC,UAAIuM,WAAW,GAAG,KAAKviB,KAAL,CAAWwiB,eAAX,EAAlB;;AACA,UAAID,WAAW,GAAG,IAAlB,EAAwB;AACtB,YAAIA,WAAW,IAAI,IAAnB,EAAyB;AACvB,cAAI,KAAKxJ,aAAL,IAAsB,SAA1B,EAAqC;AACnCwJ,uBAAW,GAAG,GAAd;AACD,WAFD,MAEO;AACLA,uBAAW,GAAG,GAAd;AACD;AACF,SAND,MAMO,IAAIA,WAAW,IAAI,GAAnB,EAAwB;AAC7BA,qBAAW,GAAG,IAAd;AACD,SAFM,MAEA,IAAIA,WAAW,IAAI,IAAnB,EAAyB;AAC9BA,qBAAW,GAAG,IAAd;AACD,SAFM,MAEA,IAAIA,WAAW,IAAI,IAAnB,EAAyB;AAC9BA,qBAAW,GAAG,GAAd;AACD,SAFM,MAEA,IAAIA,WAAW,IAAI,GAAnB,EAAwB;AAC7BA,qBAAW,GAAG,GAAd;AACD,SAFM,MAEA,IAAIA,WAAW,IAAI,GAAnB,EAAwB;AAC7BA,qBAAW,GAAG,IAAd;AACD;;AACD,aAAKviB,KAAL,CAAWyiB,eAAX,CAA2BF,WAA3B;AACA,aAAKV,mBAAL;AACD;AACF,KAvBD;;AAyBA,SAAK9L,oBAAL,GAA4B,YAAW;AACrC,UAAIwM,WAAW,GAAG,KAAKviB,KAAL,CAAWwiB,eAAX,EAAlB;;AACA,UAAID,WAAW,GAAG,IAAlB,EAAwB;AACtB,YAAIA,WAAW,IAAI,GAAnB,EAAwB;AACtBA,qBAAW,GAAG,IAAd;AACD,SAFD,MAEO,IAAIA,WAAW,IAAI,IAAnB,EAAyB;AAC9BA,qBAAW,GAAG,GAAd;AACD,SAFM,MAEA,IAAIA,WAAW,IAAI,IAAnB,EAAyB;AAC9BA,qBAAW,GAAG,IAAd;AACD,SAFM,MAEA,IAAIA,WAAW,IAAI,GAAnB,EAAwB;AAC7BA,qBAAW,GAAG,IAAd;AACD,SAFM,MAEA,IAAIA,WAAW,IAAI,GAAnB,EAAwB;AAC7B,cAAI,KAAKxJ,aAAL,IAAsB,SAA1B,EAAqC;AACnCwJ,uBAAW,GAAG,CAAd;AACD,WAFD,MAEO;AACLA,uBAAW,GAAG,GAAd;AACD;AACF,SANM,MAMA,IAAIA,WAAW,IAAI,IAAnB,EAAyB;AAC9BA,qBAAW,GAAG,GAAd;AACD;;AACD,aAAKviB,KAAL,CAAWyiB,eAAX,CAA2BF,WAA3B;AACA,aAAKV,mBAAL;AACD;AACF,KAvBD;AAyBA;AACJ;AACA;;;AACI,SAAK5R,WAAL,GAAmB,UAASmT,SAAT,EAAoB;AACrC;AACA,UAAI,CAAC,KAAK5C,SAAL,EAAL,EAAuB;AACrB,aAAKrL,sBAAL;AACD;;AACD,UAAI,KAAKuE,kBAAT,EAA6B;AAC3B,aAAK5D,qBAAL;AACD;;AACD,WAAK4G,YAAL,CAAkB0G,SAAlB;AACA,WAAK5E,sBAAL;AACD,KAVD;;AAYA,SAAK6E,QAAL,GAAgB,UAASD,SAAT,EAAoBE,QAApB,EAA8B;AAC5C;AACA,UAAI,CAAC,KAAK9C,SAAL,EAAL,EAAuB;AACrB,aAAKrL,sBAAL;AACD;;AACD,WAAK2E,eAAL,GAAuB,IAAvB;AACA,WAAKE,iBAAL,GAAyB,IAAzB;AACA,WAAKN,kBAAL,GAA0B,IAA1B;AACA,WAAKN,eAAL,GAAuBgK,SAAvB;AACA,WAAK5J,aAAL,GAAqBp2B,IAAI,CAAC04B,GAAL,CAASwH,QAAT,EAAmB,KAAKlK,eAAL,GAAuB,GAA1C,CAArB;AACA,WAAKoF,sBAAL;;AAEA,UAAI,KAAKpF,eAAL,GAAuB,KAAKH,aAAhC,EAA+C;AAC7C,aAAKyD,YAAL,CAAkB,KAAKtD,eAAvB;AACD,OAFD,MAEO,IAAI,KAAKI,aAAL,GAAqB,KAAKP,aAA9B,EAA6C;AAClD,aAAKyD,YAAL,CAAkB,KAAKtD,eAAvB;AACD;AACF,KAjBD;AAmBA;AACJ;AACA;;;AACI,SAAKsD,YAAL,GAAoB,UAAS7rB,KAAT,EAAgB;AAClC;AACA;AACA,WAAKmjB,WAAL,CAAiBuP,cAAjB,CAAgC1yB,KAAhC;AACD,KAJD;;AAMA,SAAKkyB,UAAL,GAAkB,YAAW;AAC3B;AACA,WAAKzC,YAAL,CAAkB,IAAlB;AACA,WAAKtM,WAAL,CAAiBwP,IAAjB;AACD,KAJD;;AAMA,SAAKR,WAAL,GAAmB,YAAW;AAC5B;AACA,WAAK1C,YAAL,CAAkB,KAAlB;AACA,WAAKtM,WAAL,CAAiB2J,KAAjB;AACD,KAJD;;AAKA,SAAKlB,eAAL,GAAuB,UAAS5rB,KAAT,EAAgB;AACrC;AACA,WAAKmjB,WAAL,CAAiB/c,MAAjB,GAA0BpG,KAA1B;AACD,KAHD;;AAKA,SAAK6wB,qBAAL,GAA6B,UAAS+B,WAAT,EAAsB;AACjD,UAAI,CAAC,KAAK/C,SAAL,EAAL,EAAuB;AACrB,YAAIgD,SAAS,GAAG,KAAKjJ,cAAL,CAAoBgJ,WAApB,CAAhB;AACA,YAAIxC,SAAS,GAAG;AACd3+B,cAAI,EAAE,OADQ;AAEdmL,iBAAO,EAAE,CACP;AACE/L,eAAG,EAAEgiC,SAAS,CAACr9B,GADjB;AAEE/D,gBAAI,EAAE;AAFR,WADO,CAFK;AAQd2J,gBAAM,EAAE,KAAKotB;AARC,SAAhB;AAUA,aAAKrZ,KAAL,CAAW2jB,MAAX,CAAkBD,SAAS,CAACr9B,GAA5B;AACA,aAAK2Z,KAAL,CAAWjX,IAAX;AACD;AACF,KAhBD;AAkBA;AACJ;AACA;;;AACI,SAAK66B,aAAL,GAAqB,YAAW;AAC9B,UAAI,KAAKpD,SAAL,EAAJ,EAAsB;AACpB,aAAKrL,sBAAL;AACD;AACF,KAJD;;AAKA,SAAKqJ,sBAAL,GAA8B,YAAW;AACvC;AACA11B,OAAC,CAAC,gBAAD,CAAD,CAAoBg4B,IAApB,CAAyB,UAAzB,EAAqC,KAArC;;AACA,UAAI,KAAKN,SAAL,EAAJ,EAAsB;AACpB13B,SAAC,CAAC,gBAAD,CAAD,CAAoBD,IAApB,CAAyB,6BAAzB;AACD,OAFD,MAEO;AACLC,SAAC,CAAC,gBAAD,CAAD,CAAoBD,IAApB,CAAyB,4BAAzB;AACD;;AAEDC,OAAC,CAAC,qBAAD,CAAD,CAAyBg4B,IAAzB,CACE,UADF,EAEE,CAAC,KAAKN,SAAL,EAAD,IAAqB,KAAK9G,kBAF5B;AAIA5wB,OAAC,CAAC,kBAAD,CAAD,CAAsBg4B,IAAtB,CAA2B,UAA3B,EAAuC,CAAC,KAAKN,SAAL,EAAxC;AACA13B,OAAC,CAAC,mBAAD,CAAD,CAAuBg4B,IAAvB,CAA4B,UAA5B,EAAwC,CAAC,KAAKN,SAAL,EAAzC;AAEA13B,OAAC,CAAC,gBAAD,CAAD,CAAoBg4B,IAApB,CAAyB,UAAzB,EAAqC,KAAKpH,kBAA1C;AACA5wB,OAAC,CAAC,gBAAD,CAAD,CAAoBue,WAApB,CAAgC,KAAhC,EAAuC,KAAKkS,kBAA5C;AACAzwB,OAAC,CAAC,eAAD,CAAD,CAAmBg4B,IAAnB,CAAwB,UAAxB,EAAoC,KAAKpH,kBAAzC;AACA5wB,OAAC,CAAC,eAAD,CAAD,CAAmBue,WAAnB,CAA+B,KAA/B,EAAsC,KAAKoS,gBAA3C;AACA3wB,OAAC,CAAC,iBAAD,CAAD,CAAqBg4B,IAArB,CACE,UADF,EAEE,EAAE,KAAKN,SAAL,MAAoB,KAAK1G,eAA3B,CAFF;AAIAhxB,OAAC,CAAC,cAAD,CAAD,CAAkB4e,MAAlB,CAAyB,KAAKoS,eAA9B;AACAhxB,OAAC,CAAC,iBAAD,CAAD,CAAqBue,WAArB,CAAiC,SAAjC,EAA4C,KAAKqS,kBAAjD;;AAEA,UAAI,KAAKI,eAAT,EAA0B;AACxB,YAAI,KAAKE,iBAAT,EAA4B;AAC1B,eAAKmI,sBAAL,GACG,KAAK/I,eAAL,GAAuB,KAAKD,eAA7B,GAAgD,GADlD;AAEA,eAAKiJ,oBAAL,GACG,KAAK5I,aAAL,GAAqB,KAAKL,eAA3B,GAA8C,GADhD;AAEAkJ,mBAAS,GAAGj/B,IAAI,CAAC04B,GAAL,CACV,GADU,EAEV,KAAKsG,oBAAL,GAA4B,KAAKD,sBAFvB,CAAZ;AAIAr5B,WAAC,CAAC,cAAD,CAAD,CAAkBw5B,GAAlB,CACE,MADF,EAEE,KAAKH,sBAAL,CAA4BZ,QAA5B,KAAyC,GAF3C;AAIAz4B,WAAC,CAAC,cAAD,CAAD,CAAkBw5B,GAAlB,CAAsB,OAAtB,EAA+BD,SAAS,CAACd,QAAV,KAAuB,GAAtD;AACA,eAAKvH,iBAAL,GAAyB,KAAzB;AACD;AACF;;AAEDlxB,OAAC,CAAC,iBAAD,CAAD,CAAqBue,WAArB,CAAiC,SAAjC,EAA4C,KAAKqS,kBAAjD;;AACA,UAAI,KAAKA,kBAAL,IAA2B,KAAK8G,SAAL,EAA/B,EAAiD;AAC/C13B,SAAC,CAAC,iBAAD,CAAD,CAAqBD,IAArB,CAA0B,uCAA1B;AACD,OAFD,MAEO;AACLC,SAAC,CAAC,iBAAD,CAAD,CAAqBD,IAArB,CAA0B,+BAA1B;AACD;AACF,KApDD;;AAsDA,SAAKw1B,6BAAL,GAAqC,YAAW;AAC9C;AACA,UAAI,KAAKlF,eAAL,GAAuB,CAA3B,EAA8B;AAC5B,YAAI0K,WAAW,GAAG/6B,CAAC,CAAC,iBAAD,CAAnB;;AACA,aAAK,IAAIpK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmlC,WAAW,CAACllC,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,cAAIolC,WAAW,GACZ,KAAKxK,UAAL,CAAgB56B,CAAhB,EAAmB,CAAnB,IAAwB,KAAKy6B,eAA9B,GAAiD,GADnD;AAEArwB,WAAC,CAAC+6B,WAAW,CAACnlC,CAAD,CAAZ,CAAD,CAAkB4jC,GAAlB,CAAsB,MAAtB,EAA8BwB,WAAW,CAACvC,QAAZ,KAAyB,GAAvD;AACD;AACF,OAPD,MAOO,CACN;AACF,KAXD;;AAaA,SAAKwC,cAAL,GAAsB,UAAS/sB,KAAT,EAAgB;AACpC,UAAIgtB,YAAY,GAAGC,UAAU,CAACjtB,KAAD,CAA7B;AACA,UAAIktB,QAAQ,GAAG9gC,IAAI,CAAC04B,GAAL,CAAS,IAAT,EAAekI,YAAf,CAAf;AACAE,cAAQ,GAAG9gC,IAAI,CAACy7B,GAAL,CAAS,GAAT,EAAcqF,QAAd,CAAX;AACA,WAAKhL,cAAL,GAAsBgL,QAAtB;AACA,WAAKlkB,KAAL,CAAWyiB,eAAX,CAA2B,KAAKvJ,cAAhC;AACD,KAND;;AAQA,SAAKiL,mBAAL,GAA2B,YAAW;AACpC;AACA;AACA/lC,aAAO,CAACC,GAAR,CAAY,gCAAgC,KAAK66B,cAAjD;AACA,WAAK6K,cAAL,CAAoB,KAAK7K,cAAzB;AACD,KALD;;AAMA,SAAKkG,mBAAL,GAA2B,YAAW;AACpC,UAAIyD,WAAW,GAAG,KAAKlK,gBAAL,CAAsB+F,UAAtB,CAAiCr8B,GAAjC,EAAlB,CADoC,CAEpC;;AACA,UAAI+hC,SAAS,GAAGhhC,IAAI,CAAC04B,GAAL,CAAS,CAAT,EAAY+G,WAAZ,CAAhB;AACAuB,eAAS,GAAGhhC,IAAI,CAACy7B,GAAL,CAAS,CAAT,EAAYuF,SAAZ,CAAZ;AACA,WAAK9J,QAAL,GAAgB8J,SAAhB;AACA,WAAK3H,eAAL,CAAqB,KAAKnC,QAA1B;AACA3D,kBAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwC,KAAK0D,QAA7C;AACD,KARD;;AAUA,SAAKsH,kBAAL,GAA0B,YAAW;AACnC,UAAIiB,WAAW,GAAG,KAAKnK,eAAL,CAAqBgG,UAArB,CAAgCr8B,GAAhC,EAAlB,CADmC,CAEnC;;AACA,UAAIgiC,QAAQ,GAAGjhC,IAAI,CAAC04B,GAAL,CAAS,IAAT,EAAe+G,WAAf,CAAf;AACAwB,cAAQ,GAAGjhC,IAAI,CAACy7B,GAAL,CAAS,GAAT,EAAcwF,QAAd,CAAX,CAJmC,CAMnC;;AACA,WAAKN,cAAL,CAAoBM,QAApB;AACAv7B,OAAC,CAAC,iBAAD,CAAD,CAAqBE,IAArB,CAA0Bq7B,QAAQ,GAAG,GAArC;AACA,WAAKnL,cAAL,GAAsBmL,QAAtB;AACD,KAVD;;AAYA,SAAKhF,iBAAL,GAAyB,YAAW;AAClC,WAAK9D,qBAAL,GAA6B,IAA7B;AACA,UAAIsH,WAAW,GAAG,KAAKjK,cAAL,CAAoB8F,UAApB,CAA+Br8B,GAA/B,EAAlB;AACA,WAAKiiC,aAAL,CAAmBzB,WAAnB;AACA,WAAKtH,qBAAL,GAA6B,KAA7B;AACD,KALD;;AAOA,SAAK8E,sBAAL,GAA8B,YAAW;AACvC,UAAI,CAAC,KAAK9E,qBAAV,EAAiC;AAC/B;AACAgJ,mBAAW,GAAG,KAAKxJ,WAAL,CAAiBwE,OAAjB,CAAyB,cAAzB,CAAd;AACAiF,kBAAU,GAAGD,WAAW,CAAC,CAAD,CAAxB;;AACA,YAAIC,UAAU,GAAG,IAAjB,EAAuB;AACrB,eAAKC,qBAAL,CAA2B,CAA3B;AACA,eAAK1J,WAAL,CAAiBwE,OAAjB,CAAyB,cAAzB,EAAyC,qBAAzC;AACD,SAHD,MAGO;AACL,eAAKkF,qBAAL,CAA2BD,UAA3B;AACD;AACF;AACF,KAZD;;AAcA,SAAKhI,uBAAL,GAA+B,UAAS3rB,KAAT,EAAgB;AAC7C;AACA,WAAK8nB,gBAAL,CAAsB+F,UAAtB,CAAiCphC,GAAjC,CAAqC,KAAKg9B,QAA1C;AACD,KAHD;;AAKA,SAAKmK,qBAAL,GAA6B,UAAS5zB,KAAT,EAAgB;AAC3C,WAAK+nB,cAAL,CAAoB8F,UAApB,CAA+BphC,GAA/B,CAAmCuT,KAAnC;AACD,KAFD;;AAIA,SAAKyzB,aAAL,GAAqB,UAASE,UAAT,EAAqB;AACxC,UAAIA,UAAU,GAAG,IAAjB,EAAuB;AACrB,aAAKzJ,WAAL,CAAiBwE,OAAjB,CAAyB,cAAzB,EAAyC,0BAAzC;AACD,OAFD,MAEO;AACL;AACA,aAAKxE,WAAL,CAAiBwE,OAAjB,CAAyB,MAAzB,EAAiC0E,UAAU,CAACO,UAAD,CAA3C;AACA17B,SAAC,CAAC,cAAD,CAAD,CAAkBue,WAAlB,CAA8B,QAA9B,EAAwC,IAAxC;AACA,YAAIqd,QAAQ,GAAG,KAAK3J,WAAL,CAAiBwE,OAAjB,CAAyB,cAAzB,CAAf,CAJK,CAKL;AACD;AACF,KAVD;;AAYA,SAAKlD,4BAAL,GAAoC,YAAW;AAC7C;AACA,UAAIsI,aAAa,GAAG,EAApB;;AACA,UAAI,KAAK5L,aAAL,IAAsB,OAA1B,EAAmC;AACjC,aAAK,IAAIr6B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+7B,cAAL,CAAoB97B,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACnDimC,uBAAa,IACX,yFACA,KAAKlK,cAAL,CAAoB/7B,CAApB,EAAuB,YAAvB,CADA,GAEA,WAFA,GAGA,KAAK+7B,cAAL,CAAoB/7B,CAApB,EAAuB,YAAvB,CAHA,GAIA,MALF;AAMAimC,uBAAa,IACX,iBACA,KAAKlK,cAAL,CAAoB/7B,CAApB,EAAuB,YAAvB,CADA,GAEA,WAFA,GAGA,KAAK+7B,cAAL,CAAoB/7B,CAApB,EAAuB,IAAvB,CAHA,GAIA,IAJA,GAKA,KAAK+7B,cAAL,CAAoB/7B,CAApB,EAAuB,YAAvB,CALA,GAMA,gBAPF;AAQD;;AAEDoK,SAAC,CAAC,mBAAD,CAAD,CAAuBD,IAAvB,CAA4B87B,aAA5B;AACA77B,SAAC,CAAC,sCAAD,CAAD,CAA0C87B,MAA1C,CAAiD,YAAW;AAC1D/e,mBAAS,CAACjB,SAAV,CAAoBigB,4BAApB;AACD,SAFD;AAGD,OAtBD,MAsBO;AACLF,qBAAa,IACX,iGADF;AAEA77B,SAAC,CAAC,mBAAD,CAAD,CAAuBD,IAAvB,CAA4B87B,aAA5B;AACD;AACF,KA9BD;AAgCA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACI,SAAKvG,uBAAL,GAA+B,YAAW;AACxC;AACA,UAAI,KAAKxD,eAAT,EAA0B;AACxB,aAAKmI,UAAL;AACA,aAAKnI,eAAL,GAAuB,KAAvB;AACA,aAAK8B,YAAL,CAAkB,KAAK/B,WAAvB;AACD;;AACD,UAAI,KAAKzB,cAAL,IAAuB,CAA3B,EAA8B;AAC5B,aAAK6K,cAAL,CAAoB,KAAK7K,cAAzB;AACD;;AACD,WAAK8I,sBAAL,GAA8B,KAA9B;AACD,KAXD;;AAYA,SAAK6C,4BAAL,GAAoC,YAAW;AAC7C,UAAIC,YAAY,GAAGh8B,CAAC,CAAC,sCAAD,CAApB;AACA,UAAIi8B,cAAc,GAAGD,YAAY,CAAC/1B,KAAb,CAAmB+1B,YAAY,CAAChmC,MAAb,CAAoB,UAApB,CAAnB,CAArB;AACA,UAAIkmC,YAAY,GAAG,KAAKvK,cAAL,CAAoBsK,cAApB,CAAnB;AACA,UAAI9C,WAAW,GAAG,KAAKhJ,aAAvB;AACA,UAAIgM,YAAY,GAAG,KAAK/L,cAAxB;AACA,WAAKmC,mBAAL,GAA2B2J,YAAY,CAAC,YAAD,CAAvC;AAEA,UAAIE,UAAU,GAAG,KAAK/J,aAAtB;;AACA,UAAI+J,UAAJ,EAAgB;AACd,aAAKjP,iBAAL;AACD;;AACD,UAAI,KAAK8C,aAAL,IAAsB,OAA1B,EAAmC;AACjC,aAAK4B,WAAL,GAAmB,KAAK1B,aAAxB;AACA,aAAK+I,sBAAL,GAA8B,IAA9B;AACA,YAAIZ,MAAM,GAAG,KAAK3G,cAAL,CAAoBsK,cAApB,EAAoC,KAApC,CAAb;;AAEA,YAAI,KAAKvE,SAAL,EAAJ,EAAsB;AACpB,eAAK5F,eAAL,GAAuB,IAAvB;AACA,eAAKjB,8BAAL,GAAsC,IAAtC;AACD;;AAED,aAAK+H,qBAAL,CAA2BqD,cAA3B;AACD,OAXD,MAWO,IAAI,KAAKhM,aAAL,IAAsB,SAA1B,EAAqC;AAC1C,YAAIoM,gBAAgB,GAAG,KAAKC,kBAAL,CACrBJ,YAAY,CAAC,YAAD,CADS,CAAvB;AAGA,aAAKrK,WAAL,GAAmB,KAAK1B,aAAxB,CAJ0C,CAM1C;;AACA,aAAK+J,WAAL,GAP0C,CAS1C;;AACA,aAAKD,UAAL;AACA,aAAKrG,YAAL,CAAkB,KAAKzD,aAAL,GAAqB,CAAvC;AACD;AACF,KApCD;AAsCA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACI,SAAK6I,wBAAL,GAAgC,YAAW;AACzC,UAAIT,mBAAmB,GAAG,CAA1B;;AAEA,UAAI,KAAKtI,aAAL,IAAsB,OAA1B,EAAmC;AACjC,YAAIsM,aAAa,GAAG,KAAKrR,WAAL,CAAiBtyB,GAArC;;AACA,aAAK,IAAIhD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+7B,cAAL,CAAoB97B,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACnD,cAAI,KAAK+7B,cAAL,CAAoB/7B,CAApB,EAAuB,KAAvB,KAAiC2mC,aAArC,EAAoD;AAClDhE,+BAAmB,GAAG3iC,CAAtB;AACA;AACD;AACF;AACF,OARD,MAQO,IAAI,KAAKq6B,aAAL,IAAsB,SAA1B,EAAqC;AAC1C;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO;;AACD,UAAI+L,YAAY,GAAGh8B,CAAC,CAAC,sCAAD,CAApB;AACAA,OAAC,CAACg8B,YAAY,CAACzD,mBAAD,CAAb,CAAD,CAAqCP,IAArC,CAA0C,SAA1C,EAAqD,IAArD;AACD,KA3BD;;AA6BA,SAAKe,mBAAL,GAA2B,YAAW;AACpC,WAAK3I,cAAL,GAAsB,KAAKlZ,KAAL,CAAWwiB,eAAX,EAAtB;AACA,UAAI8C,kBAAkB,GAAG,CAAzB;;AACA,WAAK,IAAI5mC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKg8B,gBAAL,CAAsB/7B,MAA1C,EAAkDD,CAAC,EAAnD,EAAuD;AACrD,YAAI,KAAKg8B,gBAAL,CAAsBh8B,CAAtB,EAAyB,QAAzB,KAAsC,KAAKw6B,cAA/C,EAA+D;AAC7DoM,4BAAkB,GAAG5mC,CAArB;AACA;AACD;AACF;;AAED,UAAIomC,YAAY,GAAGh8B,CAAC,CAAC,iCAAD,CAApB;AACAA,OAAC,CAACg8B,YAAY,CAACQ,kBAAD,CAAb,CAAD,CAAoCxE,IAApC,CAAyC,SAAzC,EAAoD,IAApD;AACD,KAZD;AAcA;AACJ;AACA;;;AACI,SAAKxE,2BAAL,GAAmC,YAAW;AAC5C;AACA,UAAI7F,eAAe,GAAGE,YAAY,CAACniB,OAAb,CAAqB,qBAArB,CAAtB;;AAEA,UAAIiiB,eAAe,KAAK,IAAxB,EAA8B;AAC5BA,uBAAe,GAAG,GAAlB;AACD;;AACD,WAAK4E,mBAAL,GAA2B5E,eAA3B;;AACA,UAAI,KAAK4E,mBAAL,GAA2B,CAA3B,IAAgC,KAAKA,mBAAL,GAA2B,IAA/D,EAAqE;AACnE,aAAKA,mBAAL,GAA2B,GAA3B;AACD,OAV2C,CAY5C;;;AACA,UAAIxE,WAAW,GAAGF,YAAY,CAACniB,OAAb,CAAqB,iBAArB,CAAlB,CAb4C,CAc5C;;AACA,UAAIqiB,WAAW,KAAK,IAApB,EAA0B;AACxB,YAAIA,WAAW,GAAG,CAAd,IAAmBA,WAAW,GAAG,CAArC,EAAwC;AACtCA,qBAAW,GAAG,GAAd;AACD;AACF,OAJD,MAIO;AACLA,mBAAW,GAAG,GAAd;AACD;;AAED,WAAKyD,QAAL,GAAgBzD,WAAhB,CAvB4C,CAyB5C;;AACA,UAAIC,SAAS,GAAGH,YAAY,CAACniB,OAAb,CAAqB,kBAArB,CAAhB;;AACA,UAAIsiB,SAAS,KAAK,IAAlB,EAAwB;AACtB,YAAIA,SAAS,IAAI,MAAjB,EAAyB;AACvB,eAAKkC,eAAL,GAAuB,IAAvB;AACD,SAFD,MAEO;AACL,eAAKA,eAAL,GAAuB,KAAvB;AACD;AACF;;AAED,UAAI0J,sBAAsB,GAAGl5B,IAAI,CAACC,KAAL,CAC3BktB,YAAY,CAACniB,OAAb,CAAqB,4BAArB,CAD2B,CAA7B;AAGA,UAAI+wB,WAAW,GAAG,KAAlB;;AAEA,UAAI7C,sBAAsB,KAAK,IAA/B,EAAqC;AACnC;AACA;AACA,aAAK,IAAIhkC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgkC,sBAAsB,CAAC/jC,MAA3C,EAAmDD,CAAC,EAApD,EAAwD;AACtD,cAAIgkC,sBAAsB,CAAChkC,CAAD,CAAtB,CAA0B,WAA1B,KAA0C,KAAKo6B,aAAnD,EAAkE;AAChE,iBAAK6B,WAAL,GAAmB+H,sBAAsB,CAAChkC,CAAD,CAAtB,CAA0B,MAA1B,CAAnB;AACA6mC,uBAAW,GAAG,IAAd;AACD;AACF;;AACD,YAAI,KAAK5K,WAAL,GAAmB,CAAvB,EAA0B;AACxB,eAAKA,WAAL,GAAmB,CAAnB;AACD,SAFD,MAEO;AACL;AACA,eAAK1B,aAAL,GAAqB,KAAK0B,WAA1B,CAFK,CAGL;AACD;AACF;AACF,KAzDD;;AA2DA,SAAK8C,gBAAL,GAAwB,YAAW;AACjC;AACA9G,kBAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwC,KAAK0D,QAA7C;AACA3D,kBAAY,CAACC,OAAb,CAAqB,qBAArB,EAA4C,KAAKyE,mBAAjD;AACA1E,kBAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyC,KAAKoC,eAA9C;;AAEA,UACE,KAAKC,aAAL,GAAqB,KAAKE,eAAL,GAAuB,EAA5C,IACA,KAAKF,aAAL,GAAqB,EAFvB,EAGE;AACA;AACA,YAAIyJ,sBAAsB,GAAGl5B,IAAI,CAACC,KAAL,CAC3BktB,YAAY,CAACniB,OAAb,CAAqB,4BAArB,CAD2B,CAA7B;;AAGA,YAAIkuB,sBAAsB,IAAI,IAA9B,EAAoC;AAClCA,gCAAsB,GAAG,EAAzB;AACD;;AAED,YAAI6C,WAAW,GAAG,KAAlB;AACA,YAAIC,WAAW,GAAG,CAAlB;;AACA,aAAK,IAAI9mC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgkC,sBAAsB,CAAC/jC,MAA3C,EAAmDD,CAAC,EAApD,EAAwD;AACtD,cAAIgkC,sBAAsB,CAAChkC,CAAD,CAAtB,CAA0Bg9B,SAA1B,IAAuC,KAAK5C,aAAhD,EAA+D;AAC7DyM,uBAAW,GAAG,IAAd;AACAC,uBAAW,GAAG9mC,CAAd;AACA;AACD;AACF;;AAED,YAAI6mC,WAAJ,EAAiB;AACf7C,gCAAsB,CAAC8C,WAAD,CAAtB,CAAoC75B,IAApC,GAA2C,KAAKstB,aAAhD;AACD,SAFD,MAEO;AACL;AACA,cAAIwM,mBAAmB,GAAG,EAA1B;AACAA,6BAAmB,CAAC5lB,SAApB,GAAgC,KAAKkZ,aAArC;AACA0M,6BAAmB,CAAC/J,SAApB,GAAgC,KAAK5C,aAArC;AACA2M,6BAAmB,CAAC95B,IAApB,GAA2B,KAAKstB,aAAhC;AACAyJ,gCAAsB,CAACvkC,OAAvB,CAA+BsnC,mBAA/B;AACD,SA5BD,CA6BA;;;AACA9O,oBAAY,CAACC,OAAb,CACE,4BADF,EAEEptB,IAAI,CAAC0O,SAAL,CAAewqB,sBAAf,CAFF;AAID;AACF,KA5CD;AA8CA;AACJ;AACA;;;AACI,SAAKgD,mBAAL,GAA2B,YAAW;AACpC,WAAK1M,eAAL,GAAuB,CAAC,KAAKA,eAA7B;AACA,WAAKsF,gBAAL,CAAsB,KAAKtF,eAA3B;AACD,KAHD;;AAKA,SAAKsF,gBAAL,GAAwB,UAASqH,SAAT,EAAoB;AAC1C,UAAIA,SAAJ,EAAe;AACb,YAAI,KAAK5M,aAAL,IAAsB,OAA1B,EAAmC;AACjCjwB,WAAC,CAAC,2BAAD,CAAD,CAA+Bue,WAA/B,CAA2C,SAA3C,EAAsD,IAAtD;AACD,SAFD,MAEO,IACL,KAAK0R,aAAL,IAAsB,SAAtB,IACA,KAAKA,aAAL,IAAsB,UAFjB,EAGL;AACAjwB,WAAC,CAAC,4BAAD,CAAD,CAAgCue,WAAhC,CAA4C,SAA5C,EAAuD,IAAvD;AACD;;AACDve,SAAC,CAAC,eAAD,CAAD,CAAmBue,WAAnB,CAA+B,SAA/B,EAA0C,IAA1C;AACAve,SAAC,CAAC,kBAAD,CAAD,CAAsBuG,IAAtB,CAA2B,SAA3B,EAAsC,SAAtC;AACD,OAXD,MAWO;AACL,YAAI,KAAK0pB,aAAL,IAAsB,OAA1B,EAAmC;AACjCjwB,WAAC,CAAC,2BAAD,CAAD,CAA+Bue,WAA/B,CAA2C,SAA3C,EAAsD,KAAtD;AACD,SAFD,MAEO,IACL,KAAK0R,aAAL,IAAsB,SAAtB,IACA,KAAKA,aAAL,IAAsB,UAFjB,EAGL;AACAjwB,WAAC,CAAC,4BAAD,CAAD,CAAgCue,WAAhC,CAA4C,SAA5C,EAAuD,KAAvD;AACD;;AACDve,SAAC,CAAC,eAAD,CAAD,CAAmBue,WAAnB,CAA+B,SAA/B,EAA0C,KAA1C;AACAve,SAAC,CAAC,kBAAD,CAAD,CAAsBi4B,UAAtB,CAAiC,SAAjC;AACD;AACF,KAxBD;;AA0BA,SAAK6E,eAAL,GAAuB,UAASC,QAAT,EAAmB;AACxC,UAAIV,gBAAgB,GAAG,EAAvB;;AACA,cAAQU,QAAR;AACE,aAAK,QAAL;AACEV,0BAAgB,GAAG,MAAnB;AACA;;AACF,aAAK,OAAL;AACEA,0BAAgB,GAAG,KAAnB;AACA;;AACF,aAAK,OAAL;AACEA,0BAAgB,GAAG,KAAnB;AACA;;AACF,aAAK,QAAL;AACEA,0BAAgB,GAAG,KAAnB;AACA;;AACF,aAAK,OAAL;AACEA,0BAAgB,GAAG,KAAnB;AACA;;AACF,aAAK,MAAL;AACEA,0BAAgB,GAAG,KAAnB;AACA;;AACF,aAAK,MAAL;AACEA,0BAAgB,GAAG,MAAnB;AACA;AArBJ;;AAuBA,aAAOA,gBAAP;AACD,KA1BD;;AA4BA,SAAKC,kBAAL,GAA0B,UAASU,aAAT,EAAwB;AAChD,UAAIX,gBAAgB,GAAG,EAAvB;;AACA,cAAQW,aAAR;AACE,aAAK,MAAL;AACEX,0BAAgB,GAAG,QAAnB;AACA;;AACF,aAAK,KAAL;AACEA,0BAAgB,GAAG,OAAnB;AACA;;AACF,aAAK,KAAL;AACEA,0BAAgB,GAAG,OAAnB;AACA;;AACF,aAAK,KAAL;AACEA,0BAAgB,GAAG,QAAnB;AACA;;AACF,aAAK,KAAL;AACEA,0BAAgB,GAAG,OAAnB;AACA;;AACF,aAAK,KAAL;AACEA,0BAAgB,GAAG,MAAnB;AACA;;AACF,aAAK,MAAL;AACEA,0BAAgB,GAAG,MAAnB;AACA;AArBJ;;AAuBA,aAAOA,gBAAP;AACD,KA1BD;;AA4BA,SAAKjP,mBAAL,GAA2B,YAAW;AACpC;AACAptB,OAAC,CAAC,oBAAD,CAAD,CAAwB4e,MAAxB;AACA5e,OAAC,CAAC,kBAAD,CAAD,CAAsBue,WAAtB,CAAkC,KAAlC;AACD,KAJD;;AAKA,SAAK6a,gBAAL,GAAwB,UAASv2B,IAAT,EAAe;AACrC,UAAIo6B,OAAO,GAAG3iC,IAAI,CAACC,KAAL,CAAWsI,IAAI,GAAG,EAAlB,CAAd;AACA,UAAIq6B,OAAO,GAAG,CAACr6B,IAAI,GAAGo6B,OAAO,GAAG,EAAlB,EAAsB7C,OAAtB,CAA8B,CAA9B,EAAiC3B,QAAjC,EAAd;;AACA,UAAIyE,OAAO,CAACrnC,MAAR,IAAkB,CAAtB,EAAyB;AACvBqnC,eAAO,GAAG,MAAMA,OAAhB;AACD;;AACD,aAAOD,OAAO,CAACxE,QAAR,KAAqB,GAArB,GAA2ByE,OAAlC;AACD,KAPD;AAQD;;AAjsDiB;AAosDb,MAAMjiB,OAAN,CAAc;AACnBnf,aAAW,CAACqhC,aAAD,EAAgB;AACzB,SAAK1V,eAAL,GAAuB,KAAvB;AACA,SAAK2V,mBAAL,GAA2B,MAAMD,aAAjC;AACA,SAAKE,gBAAL,GAAwB,EAAxB;AACA,SAAKC,qBAAL,GAA6B,CAA7B;AACA,SAAKC,aAAL,GAAqB,CAAC,CAAtB;AACA,SAAKC,iBAAL,GAAyB,IAAIC,wBAAJ,CAA6B,IAA7B,CAAzB;AACA,SAAKC,cAAL,GAAsB,KAAtB;;AACA,SAAKC,iBAAL,GAAyB,YAAW,CAAE,CAAtC;AAEA;AACJ;AACA;;;AACI,SAAKC,WAAL,GAAmB,YAAW,CAAE,CAAhC;;AAEA,SAAKC,YAAL,GAAoB,YAAW;AAC7B;AACA79B,OAAC,CAAC,KAAKo9B,mBAAN,CAAD,CAA4Bze,KAA5B;AACA3e,OAAC,CAAC,KAAKo9B,mBAAN,CAAD,CAA4Bxe,MAA5B,CAAmC,KAAnC;AACD,KAJD;;AAMA,SAAK+I,YAAL,GAAoB,YAAW;AAC7B3nB,OAAC,CAAC,2BAAD,CAAD,CAA+Bue,WAA/B,CAA2C,QAA3C,EAAqD,KAArD;AACA,WAAK8e,gBAAL,GAAwB,EAAxB;AACA,WAAKS,mBAAL;AACA,WAAKC,YAAL;AACA,WAAKT,qBAAL,GAA6B,CAA7B;AACA,WAAKE,iBAAL,CAAuB/e,KAAvB;AACA,WAAKpF,OAAL,CAAa,SAAb;AACArZ,OAAC,CAAC,UAAD,CAAD,CAAcC,IAAd,CACEghB,aAAa,GAAG,kCADlB,EAEE,YAAW;AACTlE,iBAAS,CAAC/B,WAAV,CAAsBgjB,yBAAtB;AACD,OAJH;AAMAh+B,OAAC,CAAC,uBAAD,CAAD,CAA2Bue,WAA3B,CAAuC,QAAvC,EAAiD,KAAjD;AACD,KAfD;;AAiBA,SAAKwf,YAAL,GAAoB,YAAW;AAC7B/9B,OAAC,CAAC,eAAD,CAAD,CAAmB6L,MAAnB;AACA7L,OAAC,CAAC,UAAD,CAAD,CAAc2e,KAAd;AACD,KAHD;AAKA;AACJ;AACA;;;AACI,SAAKsf,sBAAL,GAA8B,UAASC,UAAT,EAAqBpX,MAArB,EAA6B;AACzD,UAAI,KAAKqX,YAAL,EAAJ,EAAyB;AACvB;AACA;AACD;;AACD,WAAKC,oBAAL;AAEA,WAAKf,gBAAL,GAAwBa,UAAxB;AACA,WAAKH,YAAL,GARyD,CASzD;;AACA/9B,OAAC,CAAC,wCAAD,CAAD,CAA4Cue,WAA5C,CAAwD,QAAxD,EAAkE,KAAlE;;AAEA,UAAIuI,MAAJ,EAAY;AACV9mB,SAAC,CAAC8mB,MAAD,CAAD,CAAUvI,WAAV,CAAsB,QAAtB,EAAgC,IAAhC;AACD;;AAED,WAAK8f,kBAAL,CAAwBH,UAAxB;AACD,KAjBD;;AAmBA,SAAKI,kBAAL,GAA0B,UAASC,WAAT,EAAsBC,YAAtB,EAAoC;AAC5D,UAAI,KAAKL,YAAL,EAAJ,EAAyB;AACvB;AACA;AACD;;AACD,WAAKC,oBAAL;AAEA,UAAIK,WAAW,GAAG,WAAWF,WAA7B;AAEA,UAAIG,UAAU,GAAG1+B,CAAC,CAAC,2BAA2Bw+B,YAA5B,CAAlB,CAT4D,CAU5D;;AACA,UAAIG,eAAe,GAAG3+B,CAAC,CAAC0+B,UAAD,CAAD,CAAc/mC,IAAd,CAAmB,mBAAnB,KAA2C,KAAjE;AAEA,UAAIinC,WAAW,GAAG5+B,CAAC,CAAC0+B,UAAD,CAAD,CAAc/mC,IAAd,CAAmB,cAAnB,CAAlB;AAEA,UAAIknC,WAAW,GAAG7+B,CAAC,CAACy+B,WAAD,CAAD,CAAezG,IAAf,CAAoB,SAApB,CAAlB;;AACA,UAAI6G,WAAW,IAAIC,SAAnB,EAA8B;AAC5BD,mBAAW,GAAG,KAAd;AACD;;AAED,UAAIA,WAAW,IAAI,CAACF,eAApB,EAAqC;AACnC;AACA;AACA,YAAII,aAAa,GAAG/+B,CAAC,CAAC0+B,UAAD,CAAD,CAAcl8B,IAAd,CAAmB,gBAAnB,CAApB;;AACA,aAAK,IAAI5M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmpC,aAAa,CAAClpC,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,cAAIoK,CAAC,CAAC++B,aAAa,CAACnpC,CAAD,CAAd,CAAD,CAAoB2Q,IAApB,CAAyB,IAAzB,MAAmCg4B,WAAvC,EAAoD;AAClD;AACAv+B,aAAC,CAAC++B,aAAa,CAACnpC,CAAD,CAAd,CAAD,CAAoBoiC,IAApB,CAAyB,SAAzB,EAAoC,KAApC;AACD;AACF;AACF;;AAED,UAAIgH,eAAe,GAAG,oBAAoBR,YAA1C;AACA,UAAIO,aAAa,GAAG/+B,CAAC,CAAC0+B,UAAD,CAAD,CAAcl8B,IAAd,CAAmB,wBAAnB,CAApB;;AACA,UAAIu8B,aAAa,CAAClpC,MAAd,GAAuB,CAA3B,EAA8B;AAC5B;AACAmK,SAAC,CAACg/B,eAAD,CAAD,CAAmBzgB,WAAnB,CAA+B,aAA/B,EAA8C,IAA9C;AACD,OAHD,MAGO;AACLve,SAAC,CAACg/B,eAAD,CAAD,CAAmBzgB,WAAnB,CAA+B,aAA/B,EAA8C,KAA9C;AACD;;AAED,WAAKwf,YAAL;AACA,WAAKkB,kBAAL;AACA,WAAKC,iBAAL,CAAuBV,YAAvB;AACA,WAAKW,iCAAL;AACD,KA7CD;AA+CA;AACJ;AACA;;;AACI,SAAKrB,mBAAL,GAA2B,YAAW;AACpC99B,OAAC,CAAC,6BAAD,CAAD,CAAiC6L,MAAjC;AACD,KAFD;;AAIA,SAAKwyB,kBAAL,GAA0B,UAASH,UAAT,EAAqB;AAC7C,WAAKJ,mBAAL;AACA,WAAKzkB,OAAL,CAAa,uBAAb;AACA,UAAI3B,MAAM,GAAGuJ,aAAa,GAAG,0BAAhB,GAA6Cid,UAA1D;AACAl+B,OAAC,CAAC,wBAAD,CAAD,CAA4BC,IAA5B,CAAiCyX,MAAjC,EAAyC,YAAW;AAClD,YAAIwmB,UAAU,IAAI,SAAlB,EAA6B;AAC3BnhB,mBAAS,CAAC/B,WAAV,CAAsBokB,YAAtB;AACAp/B,WAAC,CAAC,kBAAD,CAAD,CAAsB6kB,UAAtB;AACA9H,mBAAS,CAAC/B,WAAV,CAAsBqkB,oBAAtB;AACAtiB,mBAAS,CAAC/B,WAAV,CAAsBskB,sBAAtB;AACD,SALD,MAKO;AACLviB,mBAAS,CAAC/B,WAAV,CAAsBukB,kBAAtB;AACAxiB,mBAAS,CAAC/B,WAAV,CAAsBwkB,YAAtB;AACD;AACF,OAVD;AAWD,KAfD;;AAiBA,SAAKC,mBAAL,GAA2B,YAAW;AACpCz/B,OAAC,CAAC,6BAAD,CAAD,CAAiC4e,MAAjC,CAAwC,KAAxC;AACA5e,OAAC,CAAC,6BAAD,CAAD,CAAiCkG,GAAjC,CAAqC,EAArC;AACA,WAAKw5B,kBAAL;AACD,KAJD;;AAMA,SAAKC,kBAAL,GAA0B,UAASpB,WAAT,EAAsBC,YAAtB,EAAoC;AAC5D;AACA;AACAx+B,OAAC,CAAC,MAAMu+B,WAAP,CAAD,CAAqBvG,IAArB,CAA0B,SAA1B,EAAqC,KAArC;AACA,WAAKsG,kBAAL,CAAwBC,WAAxB,EAAqCC,YAArC;AACD,KALD;;AAOA,SAAKe,kBAAL,GAA0B,YAAW;AACnCv/B,OAAC,CAAC,uBAAD,CAAD,CAA2BD,IAA3B,CAAgC,EAAhC;AACAC,OAAC,CAAC,uBAAD,CAAD,CAA2Bue,WAA3B,CAAuC,QAAvC,EAAiD,IAAjD;AACD,KAHD;;AAIA,SAAK8gB,oBAAL,GAA4B,YAAW;AACrC;AACA,UAAIO,aAAa,GAAG,EAApB;AACA,UAAItgC,QAAQ,GAAGU,CAAC,CAAC,sCAAD,CAAhB;;AAEA,WAAK,IAAIpK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0J,QAAQ,CAACzJ,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,YAAIoO,YAAY,GAAGhE,CAAC,CAACV,QAAQ,CAAC1J,CAAD,CAAT,CAAD,CAChBiM,QADgB,CACP,mBADO,EAEhBg+B,KAFgB,GAGhB3/B,IAHgB,EAAnB;AAIA,YAAI+D,SAAS,GAAGjE,CAAC,CAACV,QAAQ,CAAC1J,CAAD,CAAT,CAAD,CAAe+B,IAAf,CAAoB,YAApB,CAAhB;AACA,YAAImoC,cAAc,GAAG9/B,CAAC,CAACV,QAAQ,CAAC1J,CAAD,CAAT,CAAD,CAAe4M,IAAf,CAAoB,wBAApB,CAArB;;AACA,YAAIs9B,cAAc,CAACjqC,MAAf,GAAwB,CAA5B,EAA+B;AAC7B+pC,uBAAa,IACX,4EADF;AAEAA,uBAAa,IAAI57B,YAAY,GAAG,WAAhC;;AACA,eAAK,IAAI0gB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGob,cAAc,CAACjqC,MAAnC,EAA2C6uB,CAAC,EAA5C,EAAgD;AAC9Ckb,yBAAa,IACX,oFADF;AAEAA,yBAAa,IAAI5/B,CAAC,CAAC8/B,cAAc,CAACpb,CAAD,CAAf,CAAD,CAAqBne,IAArB,CAA0B,IAA1B,CAAjB;AACAq5B,yBAAa,IAAI,KAAjB;AACAA,yBAAa,IAAI,MAAM37B,SAAN,GAAkB,sBAAnC;AACA27B,yBAAa,IAAI5/B,CAAC,CAAC8/B,cAAc,CAACpb,CAAD,CAAf,CAAD,CACdqb,QADc,CACL,OADK,EAEdF,KAFc,GAGd3/B,IAHc,EAAjB;AAIA0/B,yBAAa,IAAI,yCAAjB;AACD;;AACDA,uBAAa,IAAI,SAAjB;AACD;AACF;;AAED,UAAII,WAAW,GAAGhgC,CAAC,CAAC,6BAAD,CAAD,CAAiCkG,GAAjC,EAAlB;;AAEA,UAAI85B,WAAW,IAAI,EAAnB,EAAuB;AACrBJ,qBAAa,IACX,4EADF;AAEAA,qBAAa,IAAI,mBAAjB;AACAA,qBAAa,IACX,qGADF;AAEAA,qBAAa,IAAII,WAAjB;AACAJ,qBAAa,IAAI,yCAAjB;AACAA,qBAAa,IAAI,SAAjB;AACD;;AAED,UAAIA,aAAa,IAAI,EAArB,EAAyB;AACvBA,qBAAa,IACX,4EADF;AAEAA,qBAAa,IAAI,qBAAjB;AACAA,qBAAa,IAAI,SAAjB;AACD;;AACD5/B,OAAC,CAAC,uBAAD,CAAD,CAA2BigC,WAA3B,CAAuC,QAAvC;AACAjgC,OAAC,CAAC,uBAAD,CAAD,CAA2BD,IAA3B,CAAgC6/B,aAAhC;AACD,KArDD;AAuDA;AACJ;AACA;;;AACI,SAAKM,WAAL,GAAmB,YAAW;AAC5BlgC,OAAC,CAAC,gBAAD,CAAD,CAAoBg4B,IAApB,CAAyB,SAAzB,EAAoC,KAApC;AACAh4B,OAAC,CAAC,cAAD,CAAD,CAAkBigC,WAAlB,CAA8B,aAA9B;AACA,WAAKZ,oBAAL;AACA,WAAKD,YAAL;AACD,KALD;;AAOA,SAAKA,YAAL,GAAoB,YAAW;AAC7B,UAAI3Q,OAAO,GAAGzuB,CAAC,CAAC,iBAAD,CAAf;AACA0uB,cAAQ,GAAG1uB,CAAC,CAACyuB,OAAD,CAAD,CAAWE,SAAX,EAAX,CAF6B,CAG7B;;AACA3uB,OAAC,CAAC4uB,IAAF,CAAO;AACLp1B,YAAI,EAAE,MADD;AAEL+D,WAAG,EAAEyC,CAAC,CAACyuB,OAAD,CAAD,CAAWloB,IAAX,CAAgB,QAAhB,CAFA;AAGL5O,YAAI,EAAE+2B;AAHD,OAAP,EAIGG,IAJH,CAIQ,UAASl1B,QAAT,EAAmB;AACzBqG,SAAC,CAAC,UAAD,CAAD,CAAcD,IAAd,CAAmBpG,QAAnB;AACAojB,iBAAS,CAAC/B,WAAV,CAAsBwkB,YAAtB;AACAziB,iBAAS,CAAC/B,WAAV,CAAsBgjB,yBAAtB;AACD,OARD;AASD,KAbD;;AAeA,SAAK0B,kBAAL,GAA0B,YAAW;AACnC,UAAIS,WAAW,GAAGngC,CAAC,CAAC,6BAAD,CAAD,CAAiCkG,GAAjC,EAAlB;;AACA,UAAIi6B,WAAW,IAAI,EAAnB,EAAuB;AACrBngC,SAAC,CAAC,6BAAD,CAAD,CAAiC4e,MAAjC,CAAwC,IAAxC;AACD;;AACD,WAAKygB,oBAAL;AACA,WAAKJ,kBAAL;AACA,WAAKG,YAAL;AACD,KARD;;AAUA,SAAKgB,eAAL,GAAuB,YAAW;AAChC,UAAI,KAAKjC,YAAL,EAAJ,EAAyB;AACvB;AACA;AACD;;AACD,WAAKC,oBAAL;AAEA,UAAIiC,UAAU,GAAGpf,aAAa,GAAG,iCAAjC;AACA,UAAIqf,cAAc,GAAGtgC,CAAC,CAAC,6BAAD,CAAD,CAAiCkG,GAAjC,EAArB;;AACA,UAAIo6B,cAAc,IAAI,EAAtB,EAA0B;AACxB,YAAIC,SAAS,GAAGC,SAAS,CAACH,UAAU,GAAGC,cAAd,CAAzB;AACA,aAAKvC,YAAL;AACA,aAAKkB,kBAAL;AACAj/B,SAAC,CAAC,UAAD,CAAD,CAAcC,IAAd,CAAmBsgC,SAAnB,EAA8B,YAAW;AACvCxjB,mBAAS,CAAC/B,WAAV,CAAsBwkB,YAAtB;AACD,SAFD;AAGD;AACF,KAjBD;;AAmBA,SAAKiB,eAAL,GAAuB,UAASC,UAAT,EAAqB;AAC1C,UAAI,KAAKvC,YAAL,EAAJ,EAAyB;AACvB;AACA;AACD;;AACD,WAAKC,oBAAL;AAEA,WAAKL,YAAL;AACA,WAAK1kB,OAAL,CAAa,SAAb;AACArZ,OAAC,CAAC,UAAD,CAAD,CAAcC,IAAd,CAAmBygC,UAAnB,EAA+B,YAAW;AACxC3jB,iBAAS,CAAC/B,WAAV,CAAsBwkB,YAAtB;AACAziB,iBAAS,CAAC/B,WAAV,CAAsBgjB,yBAAtB;AACD,OAHD;AAID,KAbD;;AAeA,SAAK2C,sBAAL,GAA8B,UAASC,aAAT,EAAwBC,YAAxB,EAAsC;AAClE,UAAI,KAAK1C,YAAL,EAAJ,EAAyB;AACvB;AACA;AACD;;AACD,WAAKC,oBAAL;AAEA,WAAKL,YAAL;AACA,WAAKkB,kBAAL;AACA,UAAI6B,UAAU,GAAG7f,aAAa,GAAG,GAAjC;AACA6f,gBAAU,IAAI,gCAAd;AACAA,gBAAU,IAAIF,aAAa,GAAG,GAA9B;AACAE,gBAAU,IAAID,YAAd;AAEA,UAAIC,UAAU,GAAGN,SAAS,CAACM,UAAD,CAA1B;AACA9gC,OAAC,CAAC,UAAD,CAAD,CAAcC,IAAd,CAAmB6gC,UAAnB,EAA+B,YAAW;AACxC/jB,iBAAS,CAAC/B,WAAV,CAAsBwkB,YAAtB;AACD,OAFD;AAGD,KAlBD;AAoBA;AACJ;AACA;;;AACI,SAAKF,sBAAL,GAA8B,YAAW;AACvC,WAAK9B,iBAAL,CAAuB/e,KAAvB;AAEA,UAAIsiB,WAAW,GAAG/gC,CAAC,CAAC,gBAAD,CAAnB;;AACA,WAAK,IAAIpK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmrC,WAAW,CAAClrC,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,YAAIorC,gBAAgB,GAAG,IAAIC,oBAAJ,EAAvB;AACAD,wBAAgB,CAACE,YAAjB,CAA8BlhC,CAAC,CAAC+gC,WAAW,CAACnrC,CAAD,CAAZ,CAAD,CAAkB+B,IAAlB,CAAuB,YAAvB,CAA9B;AACAqpC,wBAAgB,CAACG,cAAjB,CAAgCnhC,CAAC,CAAC+gC,WAAW,CAACnrC,CAAD,CAAZ,CAAD,CAAkB+B,IAAlB,CAAuB,cAAvB,CAAhC;AACAqpC,wBAAgB,CAACI,eAAjB,CACE,2BAA2BphC,CAAC,CAAC+gC,WAAW,CAACnrC,CAAD,CAAZ,CAAD,CAAkB+B,IAAlB,CAAuB,YAAvB,CAD7B;AAGAqpC,wBAAgB,CAACK,YAAjB,CACErhC,CAAC,CAAC+gC,WAAW,CAACnrC,CAAD,CAAZ,CAAD,CAAkB+B,IAAlB,CAAuB,oBAAvB,CADF;AAGAqpC,wBAAgB,CAACM,UAAjB,CAA4BthC,CAAC,CAAC+gC,WAAW,CAACnrC,CAAD,CAAZ,CAAD,CAAkB+B,IAAlB,CAAuB,kBAAvB,CAA5B;AAEA,YAAI4pC,oBAAoB,GAAG,IAA3B;AACA,YAAIC,qBAAqB,GAAGxhC,CAAC,CAAC+gC,WAAW,CAACnrC,CAAD,CAAZ,CAAD,CAAkB+B,IAAlB,CAC1B,sBAD0B,CAA5B;;AAGA,YAAI6pC,qBAAqB,IAAI,EAA7B,EAAiC;AAC/BD,8BAAoB,GAAGC,qBAAqB,CAACxnC,KAAtB,CAA4B,GAA5B,CAAvB;AACD,SAFD,MAEO;AACLunC,8BAAoB,GAAG,EAAvB;AACD;;AAEDP,wBAAgB,CAACS,YAAjB,CAA8BF,oBAA9B;AACA,aAAK/D,iBAAL,CAAuBkE,UAAvB,CAAkCV,gBAAlC;AACD;;AAED,WAAKxD,iBAAL,CAAuBmE,sBAAvB;AACD,KA/BD;;AAiCA,SAAKzC,iBAAL,GAAyB,UAAS;AAAE0C,wBAAF;AAAsB5gC,UAAtB;AAA4BuG;AAA5B,KAAT,EAA+C;AACtE;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACM,UAAIm3B,UAAU,GAAG19B,IAAI,CAAC6gC,cAAL,CAAoBD,kBAApB,CAAjB;AACA,UAAIE,WAAW,GAAGpD,UAAU,CAACqD,WAAX,EAAlB,CAXsE,CAYtE;;AACA,UAAID,WAAW,CAACjsC,MAAZ,IAAsB,CAA1B,EAA6B;AAC3B;AACD;;AAED,WAAKynC,qBAAL,GAA6BwE,WAAW,CAACjsC,MAAzC;AACAmL,UAAI,CAACghC,wBAAL,CAA8Bz6B,MAA9B;;AAEA,WAAK,IAAI3R,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGksC,WAAW,CAACjsC,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,YAAIqsC,YAAY,GAAGH,WAAW,CAAClsC,CAAD,CAAX,CAAessC,UAAf,EAAnB,CAD2C,CAE3C;;AACA,YAAIC,UAAU,GAAG,EAAjB;AACA,YAAIC,eAAe,GAAG,EAAtB,CAJ2C,CAM3C;;AACA,aAAK,IAAI1d,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGud,YAAY,CAACpsC,MAAjC,EAAyC6uB,CAAC,EAA1C,EAA8C;AAC5C,cAAI2d,eAAe,GAAGJ,YAAY,CAACvd,CAAD,CAAZ,CAAgB4d,YAAhB,EAAtB;AACA,cAAIC,UAAU,GAAGN,YAAY,CAACvd,CAAD,CAAZ,CAAgB8d,cAAhB,EAAjB;;AACA,cAAID,UAAU,IAAI,KAAlB,EAAyB;AACvBJ,sBAAU,IAAIE,eAAd;AACD,WAFD,MAEO;AACLD,2BAAe,IAAIC,eAAnB;AACD;AACF,SAf0C,CAiB3C;AACA;;;AACA,YAAIF,UAAU,IAAI,EAAlB,EAAsB;AACpBA,oBAAU,GAAG,IAAb;AACD;;AACD,YAAIC,eAAe,IAAI,EAAvB,EAA2B;AACzBA,yBAAe,GAAG,IAAlB;AACD;AAED;AACR;AACA;AACA;;;AACQ,YAAID,UAAU,KAAK,IAAf,IAAuBC,eAAe,KAAK,IAA/C,EAAqD;AACnD,cAAI1qB,MAAM,GAAG,iCAAb;AACAA,gBAAM,IAAIoqB,WAAW,CAAClsC,CAAD,CAAX,CAAe6sC,YAAf,KAAgC,GAA1C,CAFmD,CAEJ;;AAC/C/qB,gBAAM,IAAIoqB,WAAW,CAAClsC,CAAD,CAAX,CAAe4sC,cAAf,KAAkC,GAA5C,CAHmD,CAGF;;AACjD9qB,gBAAM,IAAIoqB,WAAW,CAAClsC,CAAD,CAAX,CAAe8sC,YAAf,KAAgC,GAA1C,CAJmD,CAIJ;;AAC/ChrB,gBAAM,IAAIoqB,WAAW,CAAClsC,CAAD,CAAX,CAAe+sC,UAAf,KAA8B,GAAxC,CALmD,CAKN;;AAC7CjrB,gBAAM,IAAI0qB,eAAe,GAAG,GAA5B,CANmD,CAMlB;;AACjC1qB,gBAAM,IAAIyqB,UAAU,GAAG,GAAvB,CAPmD,CAOvB;AAE5B;AACA;AACA;AACA;AACA;;AACA,iBAAOzqB,MAAP;AACD,SAfD,MAeO,CACL;AACD;AACF;AACF,KArED;;AAuEA,SAAKkrB,6BAAL,GAAqC,UAASC,eAAT,EAA0B;AAC7D,UAAIC,MAAM,GAAGD,eAAe,CAACE,GAA7B;AACA,UAAIC,YAAY,GAAGH,eAAe,CAAC5+B,SAAnC;AACA,UAAIg/B,SAAS,GAAGjjC,CAAC,CAAC,2BAA2BgjC,YAA5B,CAAD,CAA2CxgC,IAA3C,CACd,gBADc,CAAhB;;AAGA,WAAK,IAAI5M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqtC,SAAS,CAACptC,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC,YAAIstC,UAAU,GAAGljC,CAAC,CAACijC,SAAS,CAACrtC,CAAD,CAAV,CAAD,CAAgBsQ,GAAhB,EAAjB;AACA,YAAIi9B,QAAQ,GAAGL,MAAM,CAAClkC,OAAP,CAAe4G,QAAQ,CAAC09B,UAAD,CAAvB,CAAf;;AACA,YAAIC,QAAQ,IAAI,CAAC,CAAjB,EAAoB;AAClBnjC,WAAC,CAACijC,SAAS,CAACrtC,CAAD,CAAV,CAAD,CAAgBoiC,IAAhB,CAAqB,SAArB,EAAgC,KAAhC;AACAh4B,WAAC,CAACijC,SAAS,CAACrtC,CAAD,CAAV,CAAD,CACGwM,OADH,CACW,IADX,EAEGmc,WAFH,CAEe,QAFf,EAEyB,IAFzB;AAGAve,WAAC,CAACijC,SAAS,CAACrtC,CAAD,CAAV,CAAD,CACGwM,OADH,CACW,IADX,EAEGmc,WAFH,CAEe,SAFf,EAE0B,KAF1B;AAGD,SARD,MAQO;AACL;AACAve,WAAC,CAACijC,SAAS,CAACrtC,CAAD,CAAV,CAAD,CACGwM,OADH,CACW,IADX,EAEGmc,WAFH,CAEe,QAFf,EAEyB,KAFzB;AAGAve,WAAC,CAACijC,SAAS,CAACrtC,CAAD,CAAV,CAAD,CACGwM,OADH,CACW,IADX,EAEGmc,WAFH,CAEe,SAFf,EAE0B,IAF1B;AAGD;AACF;;AACD,UAAI6kB,UAAU,GAAGpjC,CAAC,CAAC,2BAA2BgjC,YAA5B,CAAD,CAA2CxgC,IAA3C,CACf,mBADe,CAAjB;;AAIA,UAAI4gC,UAAU,CAACvtC,MAAX,IAAqB,CAAzB,EAA4B;AAC1BmK,SAAC,CAAC,2BAA2BgjC,YAA5B,CAAD,CACG5gC,OADH,CACW,iBADX,EAEGmc,WAFH,CAEe,aAFf,EAE8B,KAF9B;AAGAve,SAAC,CAAC,2BAA2BgjC,YAA5B,CAAD,CACG5gC,OADH,CACW,iBADX,EAEG6X,IAFH;AAGD,OAPD,MAOO;AACLja,SAAC,CAAC,2BAA2BgjC,YAA5B,CAAD,CACG5gC,OADH,CACW,iBADX,EAEGihC,IAFH;AAGD;;AACD,WAAKC,yBAAL,CAA+BN,YAA/B;AACD,KA5CD;;AA8CA,SAAKM,yBAAL,GAAiC,UAAS9E,YAAT,EAAuB;AACtD,WAAKlB,qBAAL;AACD,KAFD;;AAIA,SAAK6B,iCAAL,GAAyC,YAAW;AAClD,UAAI,KAAK7B,qBAAL,GAA6B,CAAjC,EAAoC;AAClC,aAAKC,aAAL,GAAqBrb,UAAU,CAAC,YAAW;AACzCnF,mBAAS,CAAC/B,WAAV,CAAsBmkB,iCAAtB;AACD,SAF8B,EAE5B,GAF4B,CAA/B;AAGA;AACD;;AACDhX,kBAAY,CAAC,KAAKoV,aAAN,CAAZ;AACA,WAAKA,aAAL,GAAqB,CAAC,CAAtB;AACA,WAAK6B,YAAL;AACA,WAAKC,oBAAL;AACD,KAXD;;AAaA,SAAKkE,oBAAL,GAA4B,UAAS/E,YAAT,EAAuB;AACjD,UAAIE,UAAU,GAAG1+B,CAAC,CAAC,2BAA2Bw+B,YAA5B,CAAlB;AACA,UAAIyE,SAAS,GAAGjjC,CAAC,CAAC0+B,UAAD,CAAD,CAAcl8B,IAAd,CAAmB,gBAAnB,CAAhB;;AACA,WAAK,IAAI5M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqtC,SAAS,CAACptC,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzCoK,SAAC,CAACijC,SAAS,CAACrtC,CAAD,CAAV,CAAD,CACGwM,OADH,CACW,IADX,EAEGmc,WAFH,CAEe,QAFf,EAEyB,KAFzB;AAGAve,SAAC,CAACijC,SAAS,CAACrtC,CAAD,CAAV,CAAD,CACGwM,OADH,CACW,IADX,EAEGmc,WAFH,CAEe,SAFf,EAE0B,IAF1B;AAGD;;AAEDve,OAAC,CAAC0+B,UAAD,CAAD,CACGt8B,OADH,CACW,iBADX,EAEGihC,IAFH;AAGA,WAAKC,yBAAL,CAA+B9E,YAA/B;AACD,KAhBD;AAkBA;AACJ;AACA;;;AACI,SAAK9W,2BAAL,GAAmC,YAAW;AAC5C,UAAI8b,UAAU,GAAGxjC,CAAC,CAAC,yCAAD,CAAlB;AACA,UAAI8iC,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIltC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4tC,UAAU,CAAC3tC,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAC1CoK,SAAC,CAACwjC,UAAU,CAAC5tC,CAAD,CAAX,CAAD,CAAiB+oB,KAAjB;AACD;;AAED,WAAKqf,yBAAL;AACD,KARD;;AASA,SAAKA,yBAAL,GAAiC,YAAW;AAC1C,UAAIwF,UAAU,GAAGxjC,CAAC,CAAC,yCAAD,CAAlB;AACA,UAAI8iC,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIltC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4tC,UAAU,CAAC3tC,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAC1CktC,cAAM,IAAI9iC,CAAC,CAACwjC,UAAU,CAAC5tC,CAAD,CAAX,CAAD,CAAiB+B,IAAjB,CAAsB,UAAtB,CAAV;;AACA,YAAI/B,CAAC,IAAI4tC,UAAU,CAAC3tC,MAAX,GAAoB,CAA7B,EAAgC;AAC9BitC,gBAAM,IAAI,GAAV;AACD;AACF;;AAED,UAAIprB,MAAM,GAAGuJ,aAAa,GAAG,sCAA7B;AACAvJ,YAAM,IAAIorB,MAAV;AAEA9iC,OAAC,CAACzG,GAAF,CAAMme,MAAN,EAAc,UAAS/f,IAAT,EAAe;AAC3B,YAAI8rC,YAAY,GAAG/iC,IAAI,CAACC,KAAL,CAAWhJ,IAAX,CAAnB;AACAolB,iBAAS,CAAC/B,WAAV,CAAsB0oB,yBAAtB,CAAgDD,YAAhD;AACD,OAHD;AAID,KAjBD;;AAmBA,SAAKC,yBAAL,GAAiC,UAASC,YAAT,EAAuB;AACtD,UAAIC,QAAQ,GAAGD,YAAY,CAACE,UAA5B;;AACA,WAAK,IAAIjuC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGguC,QAAQ,CAAC/tC,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,YAAIkuC,UAAU,GAAGF,QAAQ,CAAChuC,CAAD,CAAR,CAAYmuC,MAA7B;AACA,YAAIlQ,OAAO,GAAG7zB,CAAC,CAAC,iBAAiB8jC,UAAlB,CAAf;AACA9jC,SAAC,CAAC6zB,OAAD,CAAD,CAAW9zB,IAAX,CAAgB6jC,QAAQ,CAAChuC,CAAD,CAAR,CAAYouC,QAA5B;AAEA,YAAIC,SAAS,GAAG,wBAAwBH,UAAxC;;AACA,YAAIF,QAAQ,CAAChuC,CAAD,CAAR,CAAYsuC,YAAZ,IAA4B,EAA5B,IAAkCN,QAAQ,CAAChuC,CAAD,CAAR,CAAYsuC,YAAZ,IAA4B,GAAlE,EAAuE;AACrElkC,WAAC,CAACikC,SAAD,CAAD,CAAa1lB,WAAb,CAAyB,cAAzB,EAAyC,IAAzC;AACD,SAFD,MAEO;AACLve,WAAC,CAACikC,SAAD,CAAD,CAAa1lB,WAAb,CAAyB,cAAzB,EAAyC,KAAzC;AACD;;AACD,YAAIqlB,QAAQ,CAAChuC,CAAD,CAAR,CAAYuuC,SAAZ,IAAyB,EAAzB,IAA+BP,QAAQ,CAAChuC,CAAD,CAAR,CAAYuuC,SAAZ,IAAyB,GAA5D,EAAiE;AAC/DnkC,WAAC,CAACikC,SAAD,CAAD,CAAa1lB,WAAb,CAAyB,WAAzB,EAAsC,IAAtC;AACD,SAFD,MAEO;AACLve,WAAC,CAACikC,SAAD,CAAD,CAAa1lB,WAAb,CAAyB,WAAzB,EAAsC,KAAtC;AACD;;AACD,YACEqlB,QAAQ,CAAChuC,CAAD,CAAR,CAAYwuC,aAAZ,IAA6B,EAA7B,IACAR,QAAQ,CAAChuC,CAAD,CAAR,CAAYwuC,aAAZ,IAA6B,GAF/B,EAGE;AACApkC,WAAC,CAACikC,SAAD,CAAD,CAAa1lB,WAAb,CAAyB,gBAAzB,EAA2C,IAA3C;AACD,SALD,MAKO;AACLve,WAAC,CAACikC,SAAD,CAAD,CAAa1lB,WAAb,CAAyB,gBAAzB,EAA2C,KAA3C;AACD;AACF;AACF,KA3BD;;AA6BA,SAAK6f,oBAAL,GAA4B,YAAW;AACrC;AACA,WAAKV,cAAL,GAAsB,IAAtB;AACA19B,OAAC,CAAC,kBAAD,CAAD,CAAsBue,WAAtB,CAAkC,UAAlC,EAA8C,IAA9C;AACD,KAJD;;AAMA,SAAK4f,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAKT,cAAZ;AACD,KAFD;;AAGA,SAAK8B,YAAL,GAAoB,YAAW;AAC7B;AACA;AACA;AACA;AACA,WAAK9B,cAAL,GAAsB,KAAtB;AACA19B,OAAC,CAAC,kBAAD,CAAD,CAAsBue,WAAtB,CAAkC,UAAlC,EAA8C,KAA9C;AACD,KAPD;;AAQA,SAAK8lB,uBAAL,GAA+B,UAASvd,MAAT,EAAiB;AAC9C;AACA,UAAIwd,MAAM,GAAGtkC,CAAC,CAAC8mB,MAAD,CAAD,CAAU1kB,OAAV,CAAkB,yBAAlB,CAAb;AACAmiC,cAAQ,GAAGvkC,CAAC,CAACskC,MAAD,CAAD,CAAU/9B,IAAV,CAAe,SAAf,CAAX;AACAmoB,cAAQ,GAAG1uB,CAAC,CAACskC,MAAD,CAAD,CAAU3V,SAAV,EAAX;AACA6V,oBAAc,GAAGxkC,CAAC,CAACskC,MAAD,CAAD,CACdliC,OADc,CACN,6BADM,EAEdmE,IAFc,CAET,IAFS,CAAjB;AAGAvG,OAAC,CAAC,MAAMwkC,cAAN,GAAuB,SAAxB,CAAD,CAAoCzkC,IAApC,CACE,6CADF;AAGAC,OAAC,CAAC4uB,IAAF,CAAO;AACLp1B,YAAI,EAAE,MADD;AAEL+D,WAAG,EAAEyC,CAAC,CAACskC,MAAD,CAAD,CAAU/9B,IAAV,CAAe,QAAf,CAFA;AAGL5O,YAAI,EAAE+2B;AAHD,OAAP,EAIGG,IAJH,CAIQ,UAASl1B,QAAT,EAAmB;AACzBqG,SAAC,CAAC,MAAMwkC,cAAP,CAAD,CAAwBvkC,IAAxB,CACEghB,aAAa,GAAG,iCAAhB,GAAoDsjB,QADtD;AAGD,OARD;AASD,KApBD;AAsBA;AACJ;AACA;;;AACI,SAAKlrB,OAAL,GAAe,UAASgS,SAAT,EAAoB;AACjC,UAAIC,UAAU,GACZ,qEADF;AAEAtrB,OAAC,CAAC,MAAMqrB,SAAP,CAAD,CAAmBtrB,IAAnB,CAAwBurB,UAAxB;AACD,KAJD;;AAMA,SAAK2T,kBAAL,GAA0B,YAAW;AACnC,WAAK5lB,OAAL,CAAa,SAAb;AACD,KAFD;;AAIA,SAAKorB,0BAAL,GAAkC,UAASC,KAAT,EAAgB;AAChD,UAAIC,UAAU,GAAG,+BAAjB;;AAEA,UAAID,KAAK,IAAI,CAAb,EAAgB;AACd;AACAC,kBAAU,IAAI,gDAAd;AACD,OAHD,MAGO,IAAID,KAAK,IAAI,CAAb,EAAgB;AACrB;AACAC,kBAAU,IAAI,eAAd;AACD,OAHM,MAGA,IAAID,KAAK,IAAI,CAAb,EAAgB;AACrB;AACAC,kBAAU,IAAI,oBAAd;AACD,OAHM,MAGA,IAAID,KAAK,IAAI,CAAb,EAAgB;AACrB;AACAC,kBAAU,IAAI,yBAAd;AACD;;AAEDA,gBAAU,IAAI,QAAd;AACA3kC,OAAC,CAAC,UAAD,CAAD,CAAcD,IAAd,CAAmB4kC,UAAnB;AACD,KAnBD;AAoBD;;AA1mBkB;AA4mBd,MAAMlH,wBAAN,CAA+B;AACpC3hC,aAAW,CAACkf,WAAD,EAAc;AACvB,SAAK4pB,UAAL,GAAkB5pB,WAAlB;AACA,SAAK6pB,UAAL,GAAkB,EAAlB;;AAEA,SAAKpmB,KAAL,GAAa,YAAW;AACtB,WAAKomB,UAAL,GAAkB,EAAlB;AACD,KAFD;;AAIA,SAAKnD,UAAL,GAAkB,UAASoD,UAAT,EAAqB;AACrC,WAAKD,UAAL,CAAgB1uC,IAAhB,CAAqB2uC,UAArB;AACD,KAFD;;AAIA,SAAKnD,sBAAL,GAA8B,YAAW;AACvC;AACA,WAAK,IAAI/rC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKivC,UAAL,CAAgBhvC,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,YAAI8oC,UAAU,GAAG,KAAKmG,UAAL,CAAgBjvC,CAAhB,CAAjB;AACA,YAAImvC,YAAY,GAAGrG,UAAU,CAACsG,YAAX,EAAnB;;AACA,aAAK,IAAItgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqgB,YAAY,CAAClvC,MAAjC,EAAyC6uB,CAAC,EAA1C,EAA8C;AAC5Cga,oBAAU,CAACuG,SAAX,CAAqB,KAAKpD,cAAL,CAAoBkD,YAAY,CAACrgB,CAAD,CAAhC,CAArB;AACD;AACF,OARsC,CAUvC;;;AACA,WAAK,IAAI9uB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKivC,UAAL,CAAgBhvC,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,YAAI8oC,UAAU,GAAG,KAAKmG,UAAL,CAAgBjvC,CAAhB,CAAjB;AACA,YAAIsvC,UAAU,GAAGxG,UAAU,CAACwD,UAAX,EAAjB;;AACA,aAAK,IAAIxd,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwgB,UAAU,CAACrvC,MAA/B,EAAuC6uB,CAAC,EAAxC,EAA4C;AAC1CwgB,oBAAU,CAACxgB,CAAD,CAAV,CAAcygB,QAAd,CAAuBzG,UAAvB;AACD;AACF;AACF,KAlBD;;AAoBA,SAAKmD,cAAL,GAAsB,UAASrD,YAAT,EAAuB;AAC3C,UAAI4G,gBAAgB,GAAG,CAAC,CAAxB;;AACA,WAAK,IAAIxvC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKivC,UAAL,CAAgBhvC,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,YAAI,KAAKivC,UAAL,CAAgBjvC,CAAhB,EAAmB6sC,YAAnB,MAAqCjE,YAAzC,EAAuD;AACrD4G,0BAAgB,GAAGxvC,CAAnB;AACA;AACD;AACF;;AACD,aAAO,KAAKivC,UAAL,CAAgBO,gBAAhB,CAAP;AACD,KATD,CAhCuB,CA2CvB;;;AACA,SAAKpD,wBAAL,GAAgC,UAASqD,aAAT,EAAwB;AACtD;AACA,WAAK,IAAIzvC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKivC,UAAL,CAAgBhvC,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C;AACA,YAAI0vC,eAAe,GAAG,EAAtB;AACA,YAAIC,gBAAgB,GAAG,KAAKV,UAAL,CAAgBjvC,CAAhB,EAAmB6sC,YAAnB,EAAvB;AACAhqC,cAAM,CAACgL,OAAP,CAAe4hC,aAAf,EAA8BxwC,OAA9B,CAAsC,CAAC,CAACoT,GAAD,EAAMF,KAAN,CAAD,KAAkB;AACtD,cAAIE,GAAG,CAACu9B,UAAJ,CAAeD,gBAAf,CAAJ,EAAsC;AACpC;AACA,gBAAIx9B,KAAJ,EAAW;AACT,kBAAIK,GAAG,GAAG,EAAV;AACAA,iBAAG,CAACH,GAAD,CAAH,GAAWF,KAAX;AACAu9B,6BAAe,CAACnvC,IAAhB,CAAqBiS,GAArB;AACD;AACF;AACF,SATD;AAUA,YAAIk9B,eAAe,CAACzvC,MAApB,EACE,KAAKgvC,UAAL,CAAgBjvC,CAAhB,EAAmB6vC,WAAnB,CAA+BH,eAA/B;AACH;AACF,KAnBD;AAoBD;;AAjEmC;AAmE/B,MAAMrE,oBAAN,CAA2B;AAChCnlC,aAAW,GAAG;AACZ,SAAK4pC,aAAL,GAAqB,EAArB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,UAAL,GAAkB,EAAlB,CAPY,CAOU;;AACtB,SAAKC,SAAL,GAAiB,EAAjB,CARY,CAQS;;AACrB,SAAKC,MAAL,GAAc,EAAd;;AAEA,SAAKznB,KAAL,GAAa,YAAW;AACtB,WAAKknB,eAAL,GAAuB,EAAvB;AACA,WAAKC,aAAL,GAAqB,CAArB;AACA,WAAKC,WAAL,GAAmB,EAAnB;AACA,WAAKC,YAAL,GAAoB,EAApB;AACA,WAAKC,WAAL,GAAmB,EAAnB;AACA,WAAKC,UAAL,GAAkB,EAAlB,CANsB,CAMA;;AACtB,WAAKC,SAAL,GAAiB,EAAjB,CAPsB,CAOD;;AACrB,WAAKC,MAAL,GAAc,EAAd;AACD,KATD;;AAWA,SAAKhF,YAAL,GAAoB,UAASiF,KAAT,EAAgB;AAClC,WAAKT,aAAL,GAAqBS,KAArB;AACD,KAFD;;AAGA,SAAK/E,eAAL,GAAuB,UAAS+E,KAAT,EAAgB;AACrC,WAAKL,YAAL,GAAoBK,KAApB;AACD,KAFD;;AAGA,SAAKhF,cAAL,GAAsB,UAASnW,OAAT,EAAkB;AACtC,WAAK2a,eAAL,GAAuB3a,OAAvB;AACD,KAFD;;AAGA,SAAKqW,YAAL,GAAoB,UAAS8E,KAAT,EAAgB;AAClC,WAAKP,aAAL,GAAqBO,KAArB;AACD,KAFD;;AAGA,SAAK7E,UAAL,GAAkB,UAAS6E,KAAT,EAAgB;AAChC,WAAKN,WAAL,GAAmBM,KAAnB;AACD,KAFD;;AAIA,SAAK1D,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAKiD,aAAZ;AACD,KAFD;;AAGA,SAAKU,eAAL,GAAuB,YAAW;AAChC,aAAO,KAAKN,YAAZ;AACD,KAFD;;AAGA,SAAKtD,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAKmD,eAAZ;AACD,KAFD;;AAGA,SAAKjD,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAKkD,aAAZ;AACD,KAFD;;AAGA,SAAKjD,UAAL,GAAkB,YAAW;AAC3B,aAAO,KAAKkD,WAAZ;AACD,KAFD;;AAIA,SAAKpE,YAAL,GAAoB,UAAS4E,UAAT,EAAqB;AACvC,WAAKN,WAAL,GAAmBM,UAAnB;AACD,KAFD;;AAGA,SAAKrB,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAKe,WAAZ;AACD,KAFD;;AAIA,SAAKhE,WAAL,GAAmB,YAAW;AAC5B,aAAO,KAAKiE,UAAZ;AACD,KAFD;;AAGA,SAAKb,QAAL,GAAgB,UAASmB,QAAT,EAAmB;AACjC,WAAKN,UAAL,CAAgB7vC,IAAhB,CAAqBmwC,QAArB;AACD,KAFD;;AAIA,SAAKpE,UAAL,GAAkB,YAAW;AAC3B,aAAO,KAAK+D,SAAZ;AACD,KAFD;;AAGA,SAAKhB,SAAL,GAAiB,UAASsB,SAAT,EAAoB;AACnC,WAAKN,SAAL,CAAe9vC,IAAf,CAAoBowC,SAApB;AACD,KAFD;;AAIA,SAAKjE,YAAL,GAAoB,YAAW;AAC7B,UAAIkE,YAAY,GAAG,EAAnB;;AACA,WAAK,IAAI5wC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKswC,MAAL,CAAYrwC,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C4wC,oBAAY,IAAI,KAAKN,MAAL,CAAYtwC,CAAZ,CAAhB;;AACA,YAAIA,CAAC,GAAG,KAAKswC,MAAL,CAAYrwC,MAAZ,GAAqB,CAA7B,EAAgC;AAC9B2wC,sBAAY,IAAI,GAAhB;AACD;AACF;;AAED,aAAOA,YAAP;AACD,KAVD;;AAYA,SAAKC,SAAL,GAAiB,YAAW;AAC1B,WAAKP,MAAL,GAAc,EAAd;AACD,KAFD;;AAIA,SAAKQ,MAAL,GAAc,UAASC,MAAT,EAAiB;AAC7B,WAAKT,MAAL,CAAY/vC,IAAZ,CAAiBwwC,MAAjB;AACD,KAFD;;AAIA,SAAKlB,WAAL,GAAmB,UAASH,eAAT,EAA0B;AAC3C,WAAKmB,SAAL;AACAnxC,aAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB+vC,eAArB,EAF2C,CAI3C;;AACA,WAAK,IAAI1vC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0vC,eAAe,CAACzvC,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,YAAI2R,MAAM,GAAG+9B,eAAe,CAAC1vC,CAAD,CAA5B;AACA,YAAIqS,GAAG,GAAGxP,MAAM,CAACC,IAAP,CAAY6O,MAAZ,EAAoB,CAApB,CAAV;AACA,YAAIrB,GAAG,GAAGV,QAAQ,CAACyC,GAAG,CAAC7H,KAAJ,CAAU,MAAV,EAAkB,CAAlB,CAAD,CAAlB;AACA,aAAKsmC,MAAL,CAAYxgC,GAAZ;AACD;AACF,KAXD;AAYD;;AA5G+B;AA8G3B,MAAMqV,eAAN,CAAsB;AAC3Bzf,aAAW,CAAC8qC,iBAAD,EAAoB;AAC7B,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA,SAAKC,gBAAL,GAAwB,KAAxB;AACA,SAAKC,yBAAL,GAAiC,MAAML,iBAAvC;;AAEA,SAAKnoB,KAAL,GAAa,YAAW;AACtB;AACA,WAAKooB,WAAL,GAAmB,CAAnB;AACA,WAAKC,WAAL,GAAmB,CAAnB;AACA,WAAKC,kBAAL,GAA0B,KAA1B;AACA,WAAKC,gBAAL,GAAwB,KAAxB,CALsB,CAMtB;AACD,KAPD;;AASA,SAAKE,0BAAL,GAAkC,UAASC,UAAT,EAAqBC,UAArB,EAAiC;AACjE,WAAK3oB,KAAL;AACA,WAAKqoB,WAAL,GAAmBK,UAAnB;AACA,WAAKN,WAAL,GAAmBO,UAAnB;AACD,KAJD;;AAMA,SAAKrkB,eAAL,GAAuB,UAASokB,UAAT,EAAqB;AAC1C,WAAK1oB,KAAL;AACA,WAAKqoB,WAAL,GAAmBK,UAAnB;AACD,KAHD;;AAKA,SAAK/jB,eAAL,GAAuB,UAASgkB,UAAT,EAAqB;AAC1C,WAAKP,WAAL,GAAmBO,UAAnB;AACD,KAFD;;AAIA,SAAKC,sBAAL,GAA8B,UAASC,OAAT,EAAkB;AAC9C,UAAIA,OAAO,IAAI,KAAKN,gBAApB,EAAsC;AACpC,aAAKA,gBAAL,GAAwBM,OAAxB;AACA,aAAKtkB,cAAL;AACD;AACF,KALD;;AAMA,SAAKA,cAAL,GAAsB,YAAW;AAC/B,WAAK+jB,kBAAL,GAA0B,IAA1B;;AACA,UAAI,KAAKD,WAAL,IAAoB,GAAxB,EAA6B;AAC3B;AACA;AACA,YAAIpvB,MAAM,GAAGuJ,aAAa,GAAG,wBAA7B;AACAvJ,cAAM,IAAI,iBAAiB,KAAKovB,WAAhC;;AAEA,YAAI,KAAKD,WAAL,KAAqB,GAAzB,EAA8B;AAC5BnvB,gBAAM,IAAI,iBAAiB,KAAKmvB,WAAhC;AACD,SAFD,MAEO;AACLnvB,gBAAM,IAAI,gBAAV;AACD;;AACD,YAAI,KAAKsvB,gBAAT,EAA2B;AACzBtvB,gBAAM,IAAI,aAAV;AACD,SAFD,MAEO;AACLA,gBAAM,IAAI,YAAV;AACD;;AACD1X,SAAC,CAAC,KAAKinC,yBAAN,CAAD,CAAkChnC,IAAlC,CAAuCyX,MAAvC,EAA+C,YAAW;AACxD,cAAI6vB,OAAO,GAAGvnC,CAAC,CAAC,sBAAD,CAAf;;AACA,eAAK,IAAIpK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2xC,OAAO,CAAC1xC,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,gBAAI4xC,OAAO,GAAGxnC,CAAC,CAACunC,OAAO,CAAC3xC,CAAD,CAAR,CAAD,CAAc4M,IAAd,CAAmB,YAAnB,CAAd;;AACA,gBAAIglC,OAAO,CAAC3xC,MAAR,GAAiB,CAArB,EAAwB;AACtB,kBAAI4xC,OAAO,GAAG,CAAd;;AACA,mBAAK,IAAI/iB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8iB,OAAO,CAAC3xC,MAA5B,EAAoC6uB,CAAC,EAArC,EAAyC;AACvC,oBAAIgjB,OAAO,GAAG1nC,CAAC,CAACwnC,OAAO,CAAC9iB,CAAD,CAAR,CAAD,CAAc/sB,IAAd,CAAmB,MAAnB,CAAd;AACA8vC,uBAAO,GAAGntC,IAAI,CAAC04B,GAAL,CAASyU,OAAT,EAAkBC,OAAlB,CAAV;AACD;;AACD1nC,eAAC,CAACunC,OAAO,CAAC3xC,CAAD,CAAR,CAAD,CAAc2Q,IAAd,CAAmB,kBAAnB,EAAuCkhC,OAAvC;AACD,aAPD,MAOO;AACL,kBAAIC,OAAO,GAAG1nC,CAAC,CAACunC,OAAO,CAAC3xC,CAAD,CAAR,CAAD,CAAc+B,IAAd,CAAmB,MAAnB,CAAd;AACAqI,eAAC,CAACunC,OAAO,CAAC3xC,CAAD,CAAR,CAAD,CAAc2Q,IAAd,CAAmB,kBAAnB,EAAuCmhC,OAAvC;AACD;AACF;;AAEDC,kBAAQ,CAAC,iBAAD,EAAoB;AAAEhwC,gBAAI,EAAE,aAAR;AAAuBiwC,iBAAK,EAAE;AAA9B,WAApB,CAAR;AACA5nC,WAAC,CAAC,aAAD,CAAD,CAAiBue,WAAjB,CAA6B,UAA7B,EAAyC,KAAzC;AACD,SAnBD;AAoBD,OApCD,MAoCO;AACLve,SAAC,CAAC,aAAD,CAAD,CAAiBue,WAAjB,CAA6B,UAA7B,EAAyC,IAAzC;AACD;AACF,KAzCD;;AA2CA,SAAKspB,gBAAL,GAAwB,YAAW;AACjC,UAAIC,aAAa,GAAGtiC,QAAQ,CAACxF,CAAC,CAAC,YAAD,CAAD,CAAgBuG,IAAhB,CAAqB,aAArB,CAAD,CAA5B,CADiC,CAEjC;;AACAuhC,mBAAa,IAAI,CAAjB;AACA,UAAIC,OAAO,GACT9mB,aAAa,GACb,uBADA,GAEA,KAAK6lB,WAFL,GAGA,GAHA,GAIAgB,aALF;AAOA9nC,OAAC,CAACzG,GAAF,CAAMwuC,OAAN,EAAe,UAASpwC,IAAT,EAAe;AAC5BqI,SAAC,CAAC,YAAD,CAAD,CAAgBuG,IAAhB,CAAqB,aAArB,EAAoCuhC,aAApC;AACA9nC,SAAC,CAAC,YAAD,CAAD,CAAgBylB,MAAhB,CAAuB9tB,IAAvB;AACD,OAHD;AAID,KAfD;AAiBA;AACJ;AACA;;;AACI,SAAKqwC,cAAL,GAAsB,UAASC,UAAT,EAAqB;AACzC,UAAIA,UAAU,GAAG,CAAjB,EAAoB;AAClB,YAAIC,SAAS,GAAG,aAAaD,UAAb,GAA0B,OAA1C;AACA,YAAIxZ,OAAO,GACT,2DACAyZ,SADA,GAEA,UAHF;AAKA,YAAIC,WAAW,GAAG,UAAUF,UAAV,GAAuB,gBAAzC;AACAjoC,SAAC,CAACmoC,WAAD,CAAD,CAAeC,KAAf,CAAqB3Z,OAArB;AAEAzuB,SAAC,CAAC,MAAMkoC,SAAP,CAAD,CAAmBnoC,IAAnB,CACE,4EADF;AAIA,YAAIsoC,UAAU,GACZpnB,aAAa,GACb,sCADA,GAEA,KAAK6lB,WAHP;AAIAuB,kBAAU,IAAI,iBAAiBJ,UAA/B;;AACA,YAAI,KAAKpB,WAAL,GAAmB,CAAvB,EAA0B;AACxBwB,oBAAU,IAAI,iBAAiB,KAAKxB,WAApC;AACD;;AAED7mC,SAAC,CAAC,MAAMkoC,SAAP,CAAD,CAAmBjoC,IAAnB,CAAwBooC,UAAxB,EAAoC,YAAW;AAC7CroC,WAAC,CAAC,MAAMkoC,SAAN,GAAkB,gBAAnB,CAAD,CAAsCI,KAAtC;AACD,SAFD;AAGAtoC,SAAC,CAAC,cAAcioC,UAAd,GAA2B,eAA5B,CAAD,CAA8C1pB,WAA9C,CACE,UADF,EAEE,IAFF;AAID,OA9BD,MA8BO;AACL,YAAI2pB,SAAS,GAAG,gBAAhB;AACA,YAAIzZ,OAAO,GACT,4DADF;AAGAzuB,SAAC,CAAC,kBAAD,CAAD,CAAsBooC,KAAtB,CAA4B3Z,OAA5B;AACAzuB,SAAC,CAAC,MAAMkoC,SAAP,CAAD,CAAmBnoC,IAAnB,CACE,4EADF;AAIA,YAAIsoC,UAAU,GACZpnB,aAAa,GACb,sCADA,GAEA,KAAK6lB,WAHP;;AAIA,YAAI,KAAKD,WAAL,GAAmB,CAAvB,EAA0B;AACxBwB,oBAAU,IAAI,iBAAiB,KAAKxB,WAApC;AACD;;AAED7mC,SAAC,CAAC,MAAMkoC,SAAP,CAAD,CAAmBjoC,IAAnB,CAAwBooC,UAAxB,EAAoC,YAAW;AAC7CroC,WAAC,CAAC,+BAAD,CAAD,CAAmCsoC,KAAnC;AACD,SAFD;AAIAtoC,SAAC,CAAC,aAAD,CAAD,CAAiBue,WAAjB,CAA6B,UAA7B,EAAyC,IAAzC;AACAve,SAAC,CAAC,eAAD,CAAD,CAAmB4e,MAAnB,CAA0B,KAA1B;AACD;AACF,KAxDD;;AA0DA,SAAK2pB,iBAAL,GAAyB,UAASzhB,MAAT,EAAiB;AACxC9mB,OAAC,CAAC8mB,MAAD,CAAD,CAAU/mB,IAAV,CAAe,wCAAf;AAEA,UAAI0uB,OAAO,GAAGzuB,CAAC,CAAC8mB,MAAD,CAAD,CAAU1kB,OAAV,CAAkB,MAAlB,CAAd;AACAssB,cAAQ,GAAG1uB,CAAC,CAACyuB,OAAD,CAAD,CAAWE,SAAX,EAAX;AAEA3uB,OAAC,CAAC4uB,IAAF,CAAO;AACLp1B,YAAI,EAAE,MADD;AAEL+D,WAAG,EAAEyC,CAAC,CAACyuB,OAAD,CAAD,CAAWloB,IAAX,CAAgB,QAAhB,CAFA;AAGL5O,YAAI,EAAE+2B;AAHD,OAAP,EAIGG,IAJH,CAIQ,UAASl1B,QAAT,EAAmB;AACzBojB,iBAAS,CAACzB,eAAV,CAA0B0H,cAA1B;AACD,OAND;AAOD,KAbD;;AAeA,SAAKwlB,aAAL,GAAqB,UAASP,UAAT,EAAqB;AACxC,UAAIA,UAAJ,EAAgB;AACd,YAAIQ,YAAY,GAAGR,UAAnB;AACA,YAAIS,cAAc,GAAG,cAAcD,YAAd,GAA6B,OAAlD;AACAzoC,SAAC,CAAC0oC,cAAD,CAAD,CAAkB78B,MAAlB;AAEA7L,SAAC,CAAC,cAAcioC,UAAd,GAA2B,eAA5B,CAAD,CAA8C1pB,WAA9C,CACE,UADF,EAEE,KAFF;AAID,OATD,MASO;AACLve,SAAC,CAAC,iBAAD,CAAD,CAAqB6L,MAArB;AACA7L,SAAC,CAAC,aAAD,CAAD,CAAiBue,WAAjB,CAA6B,UAA7B,EAAyC,KAAzC;;AACA,YAAIve,CAAC,CAAC,eAAD,CAAD,IAAsB8+B,SAA1B,EAAqC;AACnC9+B,WAAC,CAAC,eAAD,CAAD,CAAmB4e,MAAnB,CAA0B,IAA1B;AACD;AACF;AACF,KAjBD;;AAmBA,SAAK+pB,eAAL,GAAuB,UAAS7hB,MAAT,EAAiB;AACtC9mB,OAAC,CAAC4uB,IAAF,CAAO;AACLp1B,YAAI,EAAE,MADD;AAEL+D,WAAG,EAAEyC,CAAC,CAAC8mB,MAAD,CAAD,CAAUvgB,IAAV,CAAe,aAAf;AAFA,OAAP,EAGGsoB,IAHH,CAGQ,UAASl1B,QAAT,EAAmB;AACzBojB,iBAAS,CAACzB,eAAV,CAA0B0H,cAA1B;AACD,OALD;AAMD,KAPD;;AASA,SAAK4lB,+BAAL,GAAuC,UAAS9hB,MAAT,EAAiB;AACtD,UAAI+hB,WAAW,GAAG7oC,CAAC,CAAC8mB,MAAD,CAAD,CAAU5gB,GAAV,GAAgBrQ,MAAlC;AACA,UAAIizC,cAAc,GAAG,MAAMD,WAA3B;AACA,UAAIE,SAAS,GAAG/oC,CAAC,CAAC8mB,MAAD,CAAD,CAAUiZ,QAAV,CAAmB,4BAAnB,EAAiD,CAAjD,CAAhB;AACA//B,OAAC,CAAC+oC,SAAD,CAAD,CAAahpC,IAAb,CAAkB+oC,cAAc,GAAG,uBAAnC;AACD,KALD;;AAOA,SAAKE,gBAAL,GAAwB,UAASf,UAAT,EAAqB;AAC3CjoC,OAAC,CAAC,cAAcioC,UAAd,GAA2B,UAA5B,CAAD,CAAyC1pB,WAAzC,CAAqD,UAArD;AACD,KAFD;;AAIA,SAAK0qB,SAAL,GAAiB,UAAShB,UAAT,EAAqBiB,MAArB,EAA6B;AAC5ClpC,OAAC,CAACmpC,IAAF,CAAOD,MAAP,EAAe;AAAE3hC,cAAM,EAAE,OAAV;AAAmB6hC,kBAAU,EAAEnB;AAA/B,OAAf,EAA4D,UAC1DtwC,IAD0D,EAE1D;AACAolB,iBAAS,CAACzB,eAAV,CAA0B0H,cAA1B;AACD,OAJD;AAKD,KAND;AAOD;;AA5N0B;AA8NtB,MAAMvH,YAAN,CAAmB;AACxB3f,aAAW,GAAG;AACZ,SAAKutC,aAAL,GAAqB,EAArB;AACA,SAAKC,wBAAL,GAAgC,CAAC,CAAjC;;AACA,SAAKC,QAAL,GAAgB,YAAW;AACzB,aAAO,KAAKF,aAAL,CAAmBxzC,MAAnB,GAA4B,CAAnC;AACD,KAFD;;AAGA,SAAK2zC,yBAAL,GAAiC,UAASh2B,aAAT,EAAwB;AACvD,WAAK81B,wBAAL,GAAgC91B,aAAhC,CADuD,CAEvD;AACD,KAHD;;AAIA,SAAKi2B,mBAAL,GAA2B,YAAW;AACpC,aAAO,KAAKH,wBAAZ;AACD,KAFD;;AAGA,SAAKzrB,QAAL,GAAgB,YAAW;AACzB,WAAK,IAAIjoB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyzC,aAAL,CAAmBxzC,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,aAAKyzC,aAAL,CAAmBzzC,CAAnB,EAAsB6oB,KAAtB;AACD,OAHwB,CAKzB;AACA;;AACD,KAPD;;AASA,SAAKyF,mBAAL,GAA2B,UACzBwlB,aADyB,EAEzBC,iBAFyB,EAGzBC,SAHyB,EAIzB;AACA;AACA,UAAIC,aAAa,GAAG,KAAKC,mBAAL,CAAyBH,iBAAzB,CAApB;;AACA,UAAIE,aAAa,IAAI,IAArB,EAA2B;AACzB,YAAIE,eAAe,GAAG,KAAKV,aAAL,CAAmBxzC,MAAzC;AACAg0C,qBAAa,GAAG,IAAIG,eAAJ,CACdD,eADc,EAEdL,aAFc,EAGdC,iBAHc,EAIdC,SAJc,CAAhB;AAMAt0C,eAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Bs0C,aAA1B;AACA,aAAKI,gBAAL,CAAsBJ,aAAtB;AACD,OAVD,MAUO;AACLA,qBAAa,CAACprB,KAAd;AACA,aAAK4I,0BAAL;AACD;;AACD,aAAOwiB,aAAP;AACD,KAtBD;;AAwBA,SAAK1lB,4BAAL,GAAoC,UAClC+lB,WADkC,EAElCP,iBAFkC,EAGlCQ,YAHkC,EAIlCC,gBAJkC,EAKlC;AACA;AACA,UAAIP,aAAa,GAAG,KAAKC,mBAAL,CAAyBH,iBAAzB,CAApB;;AACA,UAAIE,aAAa,KAAK,IAAtB,EAA4B;AAC1B,YAAIO,gBAAJ,EAAsB;AACpB;AACAP,uBAAa,CAACprB,KAAd;AACD;;AACDorB,qBAAa,CAACQ,oBAAd,CAAmCH,WAAnC,EAAgDC,YAAhD;AACAN,qBAAa,CAACS,kBAAd;AACD;;AACD,WAAKjjB,0BAAL;AACD,KAjBD;;AAmBA,SAAK4iB,gBAAL,GAAwB,UAASM,aAAT,EAAwB;AAC9C,WAAKlB,aAAL,CAAmBlzC,IAAnB,CAAwBo0C,aAAxB;AACD,KAFD;;AAIA,SAAKC,eAAL,GAAuB,UAASC,MAAT,EAAiB;AACtC,aAAO,KAAKpB,aAAL,CAAmBoB,MAAnB,CAAP;AACD,KAFD;;AAIA,SAAKC,iBAAL,GAAyB,UAASl3B,aAAT,EAAwB;AAC/C,UAAIq2B,aAAa,GAAG,IAApB;;AACA,WAAK,IAAIj0C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyzC,aAAL,CAAmBxzC,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,YAAI,KAAKyzC,aAAL,CAAmBzzC,CAAnB,EAAsB+0C,KAAtB,MAAiCn3B,aAArC,EAAoD;AAClDq2B,uBAAa,GAAG,KAAKR,aAAL,CAAmBzzC,CAAnB,CAAhB;AACA;AACD;AACF;;AACD,aAAOi0C,aAAP;AACD,KATD;;AAWA,SAAKC,mBAAL,GAA2B,UAASH,iBAAT,EAA4B;AACrD,UAAIE,aAAa,GAAG,IAApB;;AACA,WAAK,IAAIj0C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyzC,aAAL,CAAmBxzC,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,YAAI,KAAKyzC,aAAL,CAAmBzzC,CAAnB,EAAsBg1C,OAAtB,MAAmCjB,iBAAvC,EAA0D;AACxDE,uBAAa,GAAG,KAAKR,aAAL,CAAmBzzC,CAAnB,CAAhB;AACD;AACF;;AACD,aAAOi0C,aAAP;AACD,KARD;;AAUA,SAAKj2B,YAAL,GAAoB,UAASJ,aAAT,EAAwBC,UAAxB,EAAoCC,UAApC,EAAgD;AAClE;AACA,WAAKm3B,sBAAL,CAA4Br3B,aAA5B,EAA2CC,UAA3C;AACA,WAAK+1B,yBAAL,CAA+Bh2B,aAA/B;AACA,UAAIq2B,aAAa,GAAG,KAAKa,iBAAL,CAAuBl3B,aAAvB,CAApB;AACAq2B,mBAAa,CAACj2B,YAAd,CAA2BH,UAA3B,EAAuCC,UAAvC;AACD,KAND;;AAQA,SAAKo3B,kBAAL,GAA0B,UAASt3B,aAAT,EAAwBC,UAAxB,EAAoCC,UAApC,EAAgD;AACxE,WAAKm3B,sBAAL,CAA4Br3B,aAA5B,EAA2CC,UAA3C;AACA,WAAK+1B,yBAAL,CAA+Bh2B,aAA/B;AACA,WAAKk3B,iBAAL,CAAuBl3B,aAAvB,EAAsCs3B,kBAAtC,CACEr3B,UADF,EAEEC,UAFF;AAID,KAPD;;AASA,SAAKqY,gBAAL,GAAwB,YAAW;AACjC,UAAIgf,KAAK,GAAG,CAAC,CAAb;;AACA,UAAI,KAAKC,cAAL,EAAJ,EAA2B;AACzBD,aAAK,GAAG,KAAKE,yBAAL,EAAR;;AAEA,YAAIF,KAAK,IAAI,CAAC,CAAd,EAAiB;AACfA,eAAK,GAAG,KAAKG,0BAAL,EAAR;AACD;;AAED,YAAIH,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,eAAKL,iBAAL,CAAuBK,KAAvB,EAA8Bhf,gBAA9B;AACD;AACF;;AACD,aAAOgf,KAAP;AACD,KAdD;;AAgBA,SAAK7e,oBAAL,GAA4B,YAAW;AACrC,UAAI6e,KAAK,GAAG,CAAC,CAAb;;AACA,UAAI,KAAKC,cAAL,EAAJ,EAA2B;AACzBD,aAAK,GAAG,KAAKE,yBAAL,EAAR;;AAEA,YAAIF,KAAK,IAAI,CAAC,CAAd,EAAiB;AACfA,eAAK,GAAG,KAAKI,2BAAL,EAAR;AACD;;AAED,YAAIJ,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,eAAKL,iBAAL,CAAuBK,KAAvB,EAA8B7e,oBAA9B;AACD;AACF;;AACD,aAAO6e,KAAP;AACD,KAdD;;AAgBA,SAAKF,sBAAL,GAA8B,UAASr3B,aAAT,EAAwBC,UAAxB,EAAoC;AAChE;AACA;AACA,WAAK,IAAI7d,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyzC,aAAL,CAAmBxzC,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD;AACA,YAAIi0C,aAAa,GAAG,KAAKR,aAAL,CAAmBzzC,CAAnB,CAApB;;AACA,YAAIi0C,aAAa,CAACc,KAAd,MAAyBn3B,aAA7B,EAA4C;AAC1Cq2B,uBAAa,CAACgB,sBAAd,CAAqCp3B,UAArC;AACD,SAFD,MAEO;AACLo2B,uBAAa,CAAC5iB,mBAAd;AACD;AACF;AACF,KAZD;;AAcA,SAAKA,mBAAL,GAA2B,YAAW;AACpC;AACA,WAAK,IAAIrxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyzC,aAAL,CAAmBxzC,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,aAAKyzC,aAAL,CAAmBzzC,CAAnB,EAAsBqxB,mBAAtB;AACD;AACF,KALD;;AAOA,SAAKmkB,WAAL,GAAmB,YAAW;AAC5B,UAAIC,OAAO,GAAGtuB,SAAS,CAAC+I,aAAV,EAAd;;AAEA,UAAIulB,OAAO,KAAK,IAAhB,EAAsB;AACpB,YAAIC,WAAW,GAAGvuB,SAAS,CAACjB,SAAV,CAAoB4b,SAApB,EAAlB;;AACA,YAAI4T,WAAJ,EAAiB;AACfvuB,mBAAS,CAACjB,SAAV,CAAoB0L,YAApB;AACD;;AACD,YAAI+jB,QAAQ,GAAGvc,MAAM,CAAC,kBAAD,EAAqBqc,OAAO,CAACG,OAAR,EAArB,CAArB;;AAEA,YAAIF,WAAJ,EAAiB;AACfvuB,mBAAS,CAACjB,SAAV,CAAoBqe,aAApB;AACD;;AACD,YAAIoR,QAAQ,IAAI,IAAhB,EAAsB;AACpB1B,uBAAa,GAAG,KAAKC,mBAAL,CAAyB,MAAzB,CAAhB;AACAuB,iBAAO,CAACI,OAAR,CAAgBF,QAAhB;AACA1B,uBAAa,CAAC6B,cAAd,CAA6BL,OAA7B;AACAxB,uBAAa,CAACS,kBAAd;AACA,eAAKjjB,0BAAL;AACD;AACF;AACF,KArBD;;AAsBA,SAAKskB,kBAAL,GAA0B,UAASn4B,aAAT,EAAwBC,UAAxB,EAAoCC,UAApC,EAAgD;AACxE,UAAIm2B,aAAa,GAAG,KAAKa,iBAAL,CAAuBl3B,aAAvB,CAApB;AACAq2B,mBAAa,CAAC+B,UAAd,CAAyBn4B,UAAzB,EAAqCC,UAArC;AACAm2B,mBAAa,CAACS,kBAAd;AACA,WAAKjjB,0BAAL;AACD,KALD;;AAOA,SAAKwkB,iBAAL,GAAyB,YAAW;AAClC,aAAO,KAAK/B,mBAAL,CAAyB,MAAzB,EAAiC1lB,aAAjC,EAAP;AACD,KAFD;;AAIA,SAAKiD,0BAAL,GAAkC,YAAW;AAC3C,UAAIykB,iBAAiB,GAAG,KAAxB;AACA,UAAIC,kBAAkB,GAAG,KAAzB;AACA,UAAIC,mBAAmB,GAAG,KAAKlC,mBAAL,CAAyB,MAAzB,CAA1B,CAH2C,CAI3C;;AACA,UAAIkC,mBAAmB,IAAI,IAA3B,EAAiC,CAC/B;AACA;AACD,OAHD,MAGO;AACL;AACAD,0BAAkB,GAAGC,mBAAmB,CAACC,OAApB,EAArB;AAEA,YAAIZ,OAAO,GAAGtuB,SAAS,CAAC+I,aAAV,EAAd;;AACA,YAAIulB,OAAO,KAAK,IAAhB,EAAsB;AACpBS,2BAAiB,GAAG,CAACE,mBAAmB,CAACE,gBAApB,CAAqCb,OAArC,CAArB;AACD;AACF,OAhB0C,CAkB3C;AACA;;AACD,KApBD;;AAqBA,SAAK1kB,cAAL,GAAsB,YAAW;AAC/B,WAAKmjB,mBAAL,CAAyB,MAAzB,EAAiCqC,oBAAjC;AACD,KAFD;;AAIA,SAAKC,qBAAL,GAA6B,YAAW;AACtC,UAAI3B,MAAM,GAAG,CAAC,CAAd;;AACA,WAAK,IAAI70C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyzC,aAAL,CAAmBxzC,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,YAAI,KAAKyzC,aAAL,CAAmBzzC,CAAnB,EAAsBy2C,sBAAtB,KAAiD,CAArD,EAAwD;AACtD5B,gBAAM,GAAG70C,CAAT;AACA;AACD;AACF;;AACD,aAAO60C,MAAP;AACD,KATD;AAUD;;AAzOuB;AA2OnB,MAAMT,eAAN,CAAsB;AAC3BluC,aAAW,CAAC0X,aAAD,EAAgB84B,gBAAhB,EAAkC3C,iBAAlC,EAAqDC,SAArD,EAAgE;AACzE,SAAK2C,eAAL,GAAuB,MAAMD,gBAA7B;AACA,SAAKE,UAAL,GAAkB5C,SAAlB;AACA,SAAK6C,cAAL,GAAsBj5B,aAAtB;AACA,SAAKk5B,QAAL,GAAgB/C,iBAAhB;AACA,SAAKgD,OAAL,GAAe,EAAf;AACA,SAAKC,SAAL,GAAiB,KAAjB;;AACA,SAAKC,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAKF,OAAL,CAAa92C,MAApB;AACD,KAFD;;AAGA,SAAK80C,KAAL,GAAa,YAAW;AACtB,aAAO,KAAK8B,cAAZ;AACD,KAFD;;AAGA,SAAK7B,OAAL,GAAe,YAAW;AACxB,aAAO,KAAK8B,QAAZ;AACD,KAFD;;AAGA,SAAKI,WAAL,GAAmB,YAAW;AAC5B,aAAO,KAAKN,UAAZ;AACD,KAFD;;AAGA,SAAKP,OAAL,GAAe,YAAW;AACxB,aAAO,KAAKW,SAAZ;AACD,KAFD;;AAGA,SAAKG,QAAL,GAAgB,UAASC,MAAT,EAAiB;AAC/B,WAAKJ,SAAL,GAAiBI,MAAjB;AACD,KAFD;;AAGA,SAAKC,gBAAL,GAAwB,YAAW;AACjCjtC,OAAC,CAAC,KAAKusC,eAAN,CAAD,CAAwB5tB,KAAxB;AACD,KAFD;;AAGA,SAAKwtB,oBAAL,GAA4B,YAAW;AACrCpvB,eAAS,CAAC1D,OAAV,CAAkB,KAAKkzB,eAAvB;AACD,KAFD;;AAIA,SAAKW,SAAL,GAAiB,UAASzC,MAAT,EAAiB;AAChC,UAAI0C,OAAO,GAAG,IAAd;;AACA,UAAI,KAAKC,cAAL,CAAoB3C,MAApB,CAAJ,EAAiC;AAC/B0C,eAAO,GAAG,KAAKR,OAAL,CAAalC,MAAb,CAAV;AACD;;AAED,aAAO0C,OAAP;AACD,KAPD;;AAQA,SAAK1uB,KAAL,GAAa,YAAW;AACtB;AACA,WAAKkuB,OAAL,CAAa92C,MAAb,GAAsB,CAAtB;AACA,WAAKk3C,QAAL,CAAc,KAAd,EAHsB,CAItB;AACD,KALD;;AAOA,SAAK3oB,aAAL,GAAqB,YAAW;AAC9B,UAAI/R,UAAU,GAAG,EAAjB;;AACA,WAAK,IAAIzc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+2C,OAAL,CAAa92C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,YAAIy3C,QAAQ,GAAG,KAAKV,OAAL,CAAa/2C,CAAb,EAAgBwuB,aAAhB,EAAf;;AACA,aAAKM,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG2oB,QAAQ,CAACx3C,MAAzB,EAAiC6uB,CAAC,EAAlC,EAAsC;AACpCrS,oBAAU,CAAClc,IAAX,CAAgBk3C,QAAQ,CAAC3oB,CAAD,CAAxB;AACD;AACF;;AAEDpvB,aAAO,CAACC,GAAR,CAAY8c,UAAZ;AACA,aAAOA,UAAP;AACD,KAXD;;AAYA,SAAKg6B,sBAAL,GAA8B,YAAW;AACvC,UAAIiB,QAAQ,GAAG,CAAf;;AACA,WAAK,IAAI13C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+2C,OAAL,CAAa92C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C03C,gBAAQ,IAAI,KAAKX,OAAL,CAAa/2C,CAAb,EAAgB23C,gBAAhB,EAAZ;AACD;;AACD,aAAOD,QAAP;AACD,KAND;;AAOA,SAAKE,cAAL,GAAsB,UAAS/5B,UAAT,EAAqBC,UAArB,EAAiC+5B,UAAjC,EAA6C;AACjE,UAAIpC,OAAO,GAAG,KAAKqC,SAAL,CAAej6B,UAAf,EAA2BC,UAA3B,CAAd;;AAEA,UAAI23B,OAAO,KAAK,IAAhB,EAAsB;AACpBA,eAAO,CAACI,OAAR,CAAgBgC,UAAhB;AACA,aAAKV,QAAL,CAAc,IAAd;AACD;AACF,KAPD;;AASA,SAAKW,SAAL,GAAiB,UAASj6B,UAAT,EAAqBC,UAArB,EAAiC;AAChD,UAAI,KAAK05B,cAAL,CAAoB35B,UAApB,CAAJ,EAAqC;AACnC,eAAO,KAAKk5B,OAAL,CAAal5B,UAAb,EAAyBi6B,SAAzB,CAAmCh6B,UAAnC,CAAP;AACD,OAFD,MAEO;AACL,eAAO,IAAP;AACD;AACF,KAND;;AAQA,SAAK05B,cAAL,GAAsB,UAAS35B,UAAT,EAAqB;AACzC,aAAOA,UAAU,GAAG,KAAKk5B,OAAL,CAAa92C,MAA1B,GAAmC,IAAnC,GAA0C,KAAjD;AACD,KAFD;;AAIA,SAAKy0C,kBAAL,GAA0B,YAAW;AACnC;AACA;AAEA;AACA,UAAIqD,WAAW,GAAG,EAAlB;AACA,UAAI/D,SAAS,GAAG,KAAKkD,WAAL,EAAhB;AACA,UAAIc,YAAY,GAAG,KAAKjD,KAAL,EAAnB;AAEA,UAAIkD,aAAa,GAAG,KAAKlB,OAAL,CAAa92C,MAAb,GAAsB,CAA1C;;AACA,UAAIg4C,aAAJ,EAAmB;AACjBF,mBAAW,IACT,oEACA,KAAK/C,OAAL,EADA,GAEA,IAHF;AAIA+C,mBAAW,IACT,wEADF;AAED;;AAED,WAAK,IAAI7hB,SAAS,GAAG,CAArB,EAAwBA,SAAS,GAAG,KAAK6gB,OAAL,CAAa92C,MAAjD,EAAyDi2B,SAAS,EAAlE,EAAsE;AACpE,YAAIqhB,OAAO,GAAG,KAAKR,OAAL,CAAa7gB,SAAb,CAAd;;AACA,YAAI+hB,aAAJ,EAAmB;AACjBF,qBAAW,IAAI,iDAAf;AACAA,qBAAW,IACT,gCAAgCR,OAAO,CAACW,YAAR,EAAhC,GAAyD,MAD3D;AAEAH,qBAAW,IAAI,kDAAf;AACD;;AAEDA,mBAAW,IAAI,gCAAf;;AAEA,aACE,IAAII,SAAS,GAAG,CADlB,EAEEA,SAAS,GAAGZ,OAAO,CAAC/oB,aAAR,GAAwBvuB,MAFtC,EAGEk4C,SAAS,EAHX,EAIE;AACA,cAAI1C,OAAO,GAAG8B,OAAO,CAACO,SAAR,CAAkBK,SAAlB,CAAd;AACA1C,iBAAO,CAAC2C,UAAR,CAAmB,KAAnB;AACA,cAAIC,QAAQ,GACV,yDADF;AAEAA,kBAAQ,IAAIL,YAAY,GAAG,GAAf,GAAqB9hB,SAArB,GAAiC,GAAjC,GAAuCiiB,SAAvC,GAAmD,IAA/D;AACA,cAAIG,SAAS,GAAGf,OAAO,CAACgB,kBAAR,CAA2BJ,SAA3B,CAAhB;AACA1C,iBAAO,CAAC+C,aAAR,CAAsBR,YAAtB;AACAvC,iBAAO,CAACgD,YAAR,CAAqBviB,SAArB;AACAuf,iBAAO,CAACiD,YAAR,CAAqBP,SAArB;AACA;;AACA,cAAIG,SAAS,IAAItE,SAAjB,EAA4B;AAC1B,gBAAI2E,QAAQ,GAAG,EAAf;;AACA,gBAAIL,SAAS,IAAItE,SAAjB,EAA4B;AAC1B2E,sBAAQ,GAAG,MAAX;AACD;;AACDN,oBAAQ,IAAI,sCAAsCM,QAAlD;AACAN,oBAAQ,IAAI,iDAAZ;AACAA,oBAAQ,IACNL,YAAY,GAAG,GAAf,GAAqB9hB,SAArB,GAAiC,GAAjC,GAAuCiiB,SAAvC,GAAmD,KADrD;AAEAE,oBAAQ,IAAI5C,OAAO,CAACG,OAAR,EAAZ;AACAyC,oBAAQ,IAAI,MAAZ;;AACA,gBAAIC,SAAJ,EAAe;AACbD,sBAAQ,IAAI,kDAAZ;AACAA,sBAAQ,IACNM,QAAQ,GACR,uDAFF;AAGAN,sBAAQ,IACNL,YAAY,GACZ,GADA,GAEA9hB,SAFA,GAGA,GAHA,GAIAiiB,SAJA,GAKA,wBANF;AAOD;;AACD,gBAAInE,SAAJ,EAAe;AACbqE,sBAAQ,IAAI,mDAAZ;AACAA,sBAAQ,IACNM,QAAQ,GACR,uDAFF;AAGAN,sBAAQ,IACNL,YAAY,GACZ,GADA,GAEA9hB,SAFA,GAGA,GAHA,GAIAiiB,SAJA,GAKA,wBANF;AAOD;AACF,WArCD,MAqCO;AACLE,oBAAQ,IAAI,kDAAZ;AACAA,oBAAQ,IACNL,YAAY,GAAG,GAAf,GAAqB9hB,SAArB,GAAiC,GAAjC,GAAuCiiB,SAAvC,GAAmD,KADrD;AAEAE,oBAAQ,IAAI5C,OAAO,CAACG,OAAR,EAAZ;AACAyC,oBAAQ,IAAI,MAAZ;AACD;;AACDA,kBAAQ,IAAI,OAAZ;AAEAN,qBAAW,IAAIM,QAAf;AACD;;AAEDN,mBAAW,IAAI,OAAf;;AACA,YAAIE,aAAJ,EAAmB;AACjBF,qBAAW,IAAI,aAAf;AACD;AACF,OAlGkC,CAmGnC;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AACD,KA7GD;;AA+GA,SAAKa,UAAL,GAAkB,UAASC,OAAT,EAAkB;AAClC,WAAK9B,OAAL,CAAax2C,IAAb,CAAkBs4C,OAAlB;AACD,KAFD;;AAGA,SAAKpE,oBAAL,GAA4B,UAASH,WAAT,EAAsBC,YAAtB,EAAoC;AAC9D;AACA;AACA;AACA,UAAIuE,YAAY,GAAG,KAAK/B,OAAL,CAAa92C,MAAhC;AACA,UAAIs3C,OAAO,GAAG,IAAIwB,SAAJ,CAAc,KAAKhE,KAAL,EAAd,EAA4B+D,YAA5B,EAA0CvE,YAA1C,CAAd;AACAgD,aAAO,CAACyB,mBAAR,CAA4B1E,WAA5B;AACA,WAAKsE,UAAL,CAAgBrB,OAAhB;AACA,WAAKJ,QAAL,CAAc,KAAd;AACD,KATD;;AAWA,SAAKb,gBAAL,GAAwB,UAAS2C,WAAT,EAAsB;AAC5CpS,iBAAW,GAAG,KAAd;;AACA,WAAK,IAAI7mC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+2C,OAAL,CAAa92C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,YAAI,KAAK+2C,OAAL,CAAa/2C,CAAb,EAAgBs2C,gBAAhB,CAAiC2C,WAAjC,CAAJ,EAAmD;AACjDpS,qBAAW,GAAG,IAAd;AACA;AACD;AACF;;AACD,aAAOA,WAAP;AACD,KATD;;AAWA,SAAKoO,sBAAL,GAA8B,UAASp3B,UAAT,EAAqB;AACjD,WAAK,IAAI7d,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+2C,OAAL,CAAa92C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,YAAIA,CAAC,KAAK6d,UAAV,EAAsB;AACpB,eAAKk5B,OAAL,CAAa/2C,CAAb,EAAgBk5C,gBAAhB;AACA,eAAKnC,OAAL,CAAa/2C,CAAb,EAAgBm5C,wBAAhB;AACD;AACF;AACF,KAPD;;AASA,SAAK9nB,mBAAL,GAA2B,YAAW;AACpC,WAAK,IAAIrxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+2C,OAAL,CAAa92C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,aAAK+2C,OAAL,CAAa/2C,CAAb,EAAgBk5C,gBAAhB;AACA,aAAKnC,OAAL,CAAa/2C,CAAb,EAAgBm5C,wBAAhB;AACD;AACF,KALD;;AAOA,SAAKn7B,YAAL,GAAoB,UAASH,UAAT,EAAqBC,UAArB,EAAiC;AACnD,UAAI,KAAK05B,cAAL,CAAoB35B,UAApB,CAAJ,EAAqC;AACnC,aAAKy5B,SAAL,CAAez5B,UAAf,EAA2BG,YAA3B,CAAwCF,UAAxC;AACD;AACF,KAJD;;AAMA,SAAKo3B,kBAAL,GAA0B,UAASr3B,UAAT,EAAqBC,UAArB,EAAiC;AACzD,UAAI,KAAK05B,cAAL,CAAoB35B,UAApB,CAAJ,EAAqC;AACnC,aAAKy5B,SAAL,CAAez5B,UAAf,EAA2Bq3B,kBAA3B,CAA8Cp3B,UAA9C;AACD;AACF,KAJD;;AAMA,SAAKg4B,cAAL,GAAsB,UAASL,OAAT,EAAkB;AACtC,UAAI8B,OAAO,GAAG,KAAKD,SAAL,CAAe,CAAf,CAAd;;AACA,UAAIC,OAAO,IAAI,IAAf,EAAqB;AACnBA,eAAO,GAAG,IAAIwB,SAAJ,CAAc,KAAKhE,KAAL,EAAd,EAA4B,CAA5B,CAAV;AACD;;AAEDwC,aAAO,CAACzB,cAAR,CAAuBL,OAAvB;AACA,WAAK0B,QAAL,CAAc,IAAd;AACD,KARD;;AAUA,SAAKiC,oBAAL,GAA4B,UAASv7B,UAAT,EAAqB43B,OAArB,EAA8B;AACxD,UAAI,KAAK+B,cAAL,CAAoB35B,UAApB,CAAJ,EAAqC;AACnC,aAAKy5B,SAAL,CAAez5B,UAAf,EAA2Bi4B,cAA3B,CAA0CL,OAA1C;AACA,aAAK0B,QAAL,CAAc,IAAd;AACD;AACF,KALD;;AAOA,SAAKnB,UAAL,GAAkB,UAASn4B,UAAT,EAAqBC,UAArB,EAAiC;AACjD,UAAI,KAAK05B,cAAL,CAAoB35B,UAApB,CAAJ,EAAqC;AACnC,aAAKy5B,SAAL,CAAez5B,UAAf,EAA2Bm4B,UAA3B,CAAsCl4B,UAAtC;AACA,aAAKq5B,QAAL,CAAc,IAAd;AACD;AACF,KALD;AAMD;;AAnR0B;AAqRtB,MAAM4B,SAAN,CAAgB;AACrB7yC,aAAW,CAAC0X,aAAD,EAAgBy7B,OAAhB,EAAyB9E,YAAzB,EAAuC;AAChD,SAAK+E,OAAL,GAAe,EAAf;AACA,SAAKzC,cAAL,GAAsBj5B,aAAtB;AACA,SAAK27B,QAAL,GAAgBF,OAAhB;AACA,SAAKG,aAAL,GAAqBjF,YAArB;;AACA,SAAKkF,eAAL,GAAuB,YAAW;AAChC,aAAO,KAAK5C,cAAZ;AACD,KAFD;;AAGA,SAAK6C,SAAL,GAAiB,YAAW;AAC1B,aAAO,KAAKH,QAAZ;AACD,KAFD;;AAGA,SAAKrB,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAKsB,aAAZ;AACD,KAFD;;AAGA,SAAKG,YAAL,GAAoB,UAASC,cAAT,EAAyB;AAC3C,WAAKN,OAAL,GAAeM,cAAf;AACD,KAFD;;AAGA,SAAK9B,SAAL,GAAiB,UAASjD,MAAT,EAAiB;AAChC,aAAO,KAAKyE,OAAL,CAAazE,MAAb,CAAP;AACD,KAFD;;AAGA,SAAKvyB,YAAL,GAAoB,UAASuyB,MAAT,EAAiB;AACnC,aAAO,KAAKiD,SAAL,CAAejD,MAAf,EAAuBvyB,YAAvB,EAAP;AACD,KAFD;;AAGA,SAAK+N,UAAL,GAAkB,UAASwkB,MAAT,EAAiB;AACjC,aAAO,KAAKiD,SAAL,CAAejD,MAAf,EAAuBxkB,UAAvB,EAAP;AACD,KAFD;;AAGA,SAAKsnB,gBAAL,GAAwB,YAAW;AACjC,aAAO,KAAK2B,OAAL,CAAar5C,MAApB;AACD,KAFD;;AAGA,SAAK4oB,KAAL,GAAa,YAAW;AACtB,WAAKywB,OAAL,CAAar5C,MAAb,GAAsB,CAAtB;AACD,KAFD;;AAIA,SAAK45C,iBAAL,GAAyB,UAASC,OAAT,EAAkBC,UAAlB,EAA8BC,QAA9B,EAAwC;AAC/D,WAAKV,OAAL,CAAa/4C,IAAb,CAAkB,IAAI6vB,WAAJ,CAAgB0pB,OAAhB,EAAyBC,UAAzB,EAAqCC,QAArC,CAAlB;AACD,KAFD;;AAIA,SAAKlE,cAAL,GAAsB,UAASL,OAAT,EAAkB;AACtC,WAAK6D,OAAL,CAAa/4C,IAAb,CAAkBk1C,OAAlB;AACA,aAAO,KAAK6D,OAAL,CAAar5C,MAAb,GAAsB,CAA7B;AACD,KAHD;;AAKA,SAAK23C,cAAL,GAAsB,UAAS95B,UAAT,EAAqB+5B,UAArB,EAAiC;AACrD,WAAKC,SAAL,CAAeh6B,UAAf,EAA2B+3B,OAA3B,CAAmCgC,UAAnC;AACD,KAFD;;AAIA,SAAK1hB,gBAAL,GAAwB,YAAW;AACjC,UAAI8jB,YAAY,GAAG,KAAKC,kBAAL,EAAnB;;AACA,UAAID,YAAY,GAAG,CAAC,CAApB,EAAuB;AACrB,YAAIA,YAAY,GAAG,KAAKX,OAAL,CAAar5C,MAAb,GAAsB,CAAzC,EAA4C;AAC1C,eAAK+d,YAAL,CAAkBi8B,YAAY,GAAG,CAAjC;AACD,SAFD,MAEO;AACL,eAAKj8B,YAAL,CAAkB,CAAlB;AACD;AACF;AACF,KATD;;AAWA,SAAKsY,oBAAL,GAA4B,YAAW;AACrC,UAAI2jB,YAAY,GAAG,KAAKC,kBAAL,EAAnB;;AACA,UAAID,YAAY,GAAG,CAAC,CAApB,EAAuB;AACrB,YAAIA,YAAY,GAAG,CAAnB,EAAsB;AACpB,eAAKj8B,YAAL,CAAkBi8B,YAAY,GAAG,CAAjC;AACD,SAFD,MAEO;AACL,eAAKj8B,YAAL,CAAkB,KAAKs7B,OAAL,CAAar5C,MAAb,GAAsB,CAAxC;AACD;AACF;AACF,KATD;;AAWA,SAAKi6C,kBAAL,GAA0B,YAAW;AACnC,UAAIrF,MAAM,GAAG,CAAC,CAAd;;AAEA,UAAI,KAAKyE,OAAL,CAAar5C,MAAb,GAAsB,CAA1B,EAA6B;AAC3B40C,cAAM,GAAG,CAAT;;AACA,aAAK,IAAI70C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKs5C,OAAL,CAAar5C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,cAAI,KAAKs5C,OAAL,CAAat5C,CAAb,EAAgBm6C,UAAhB,EAAJ,EAAkC;AAChCtF,kBAAM,GAAG70C,CAAT;AACA;AACD;AACF;AACF;;AACD,aAAO60C,MAAP;AACD,KAbD;;AAeA,SAAKmB,UAAL,GAAkB,UAASnB,MAAT,EAAiB;AACjC;AACA;AACA,WAAKyE,OAAL,CAAaj1C,MAAb,CAAoBwwC,MAApB,EAA4B,CAA5B,EAHiC,CAIjC;AACD,KALD;;AAMA,SAAKmE,mBAAL,GAA2B,UAAS1E,WAAT,EAAsB;AAC/C;AACA,WAAK,IAAIt0C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs0C,WAAW,CAACr0C,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,aAAK65C,iBAAL,CACEvF,WAAW,CAACt0C,CAAD,CAAX,CAAe,CAAf,CADF,EAEEs0C,WAAW,CAACt0C,CAAD,CAAX,CAAe,CAAf,CAFF,EAGEs0C,WAAW,CAACt0C,CAAD,CAAX,CAAe,CAAf,CAHF;AAKD;AACF,KATD;;AAWA,SAAKo6C,mBAAL,GAA2B,UAAS9F,WAAT,EAAsB;AAC/C;AACA,WAAK,IAAIt0C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs0C,WAAW,CAACr0C,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,aAAK65C,iBAAL,CACEvF,WAAW,CAACt0C,CAAD,CAAX,CAAe,CAAf,CADF,EAEEs0C,WAAW,CAACt0C,CAAD,CAAX,CAAe,CAAf,CAFF,EAGEs0C,WAAW,CAACt0C,CAAD,CAAX,CAAe,CAAf,CAHF;AAKD;AACF,KATD;;AAWA,SAAKs2C,gBAAL,GAAwB,UAAS2C,WAAT,EAAsB;AAC5C,UAAIpS,WAAW,GAAG,KAAlB;;AACA,WAAK,IAAI7mC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKs5C,OAAL,CAAar5C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,YAAIq6C,MAAM,GAAG,KAAKf,OAAL,CAAat5C,CAAb,CAAb;;AACA,YACE0E,IAAI,CAAC41C,GAAL,CAASrB,WAAW,CAAC32B,YAAZ,KAA6B+3B,MAAM,CAAC/3B,YAAP,EAAtC,IAA+D,GAA/D,IACA5d,IAAI,CAAC41C,GAAL,CAASrB,WAAW,CAAC5oB,UAAZ,KAA2BgqB,MAAM,CAAChqB,UAAP,EAApC,IAA2D,GAF7D,EAGE;AACAwW,qBAAW,GAAG,IAAd;AACD;AACF;;AACD,aAAOA,WAAP;AACD,KAZD;;AAcA,SAAKrY,aAAL,GAAqB,YAAW;AAC9B,UAAI8T,QAAQ,GAAG,EAAf,CAD8B,CAE9B;;AACA,WAAK,IAAItiC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKs5C,OAAL,CAAar5C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5CsiC,gBAAQ,CAAC/hC,IAAT,CAAc,CACZ,KAAK+4C,OAAL,CAAat5C,CAAb,EAAgB41C,OAAhB,EADY,EAEZ,KAAK0D,OAAL,CAAat5C,CAAb,EAAgBsiB,YAAhB,EAFY,EAGZ,KAAKg3B,OAAL,CAAat5C,CAAb,EAAgBqwB,UAAhB,EAHY,CAAd;AAKD;;AACD,aAAOiS,QAAP;AACD,KAXD;;AAaA,SAAKtkB,YAAL,GAAoB,UAASF,UAAT,EAAqB;AACvC,WAAKo7B,gBAAL;AACA,WAAKqB,sBAAL,CAA4Bz8B,UAA5B;AACA,WAAKq7B,wBAAL,GAHuC,CAIvC;;AACA,UAAI1D,OAAO,GAAG,KAAKqC,SAAL,CAAeh6B,UAAf,CAAd,CALuC,CAMvC;;AACAqJ,eAAS,CAACjB,SAAV,CAAoBye,QAApB,CACE,KAAKmT,SAAL,CAAeh6B,UAAf,EAA2BwE,YAA3B,EADF,EAEE,KAAKw1B,SAAL,CAAeh6B,UAAf,EAA2BuS,UAA3B,EAFF;AAID,KAXD;;AAaA,SAAK6kB,kBAAL,GAA0B,UAASp3B,UAAT,EAAqB;AAC7C;AACA,WAAK08B,iBAAL,CAAuB18B,UAAvB;AACA,WAAKq7B,wBAAL;AACA,UAAI1D,OAAO,GAAG,KAAKgF,kBAAL,EAAd;;AAEA,UAAIhF,OAAO,KAAK,IAAhB,EAAsB;AACpBtuB,iBAAS,CAACjB,SAAV,CAAoBye,QAApB,CACE8Q,OAAO,CAACnzB,YAAR,EADF,EAEEmzB,OAAO,CAACplB,UAAR,EAFF;AAID;AACF,KAZD;;AAcA,SAAKkqB,sBAAL,GAA8B,UAASz8B,UAAT,EAAqB;AACjD,UAAI48B,oBAAoB,GAAG,KAAK5C,SAAL,CAAeh6B,UAAf,EAA2Bq8B,UAA3B,EAA3B;;AAEA,UAAIO,oBAAoB,IAAI,KAAKC,aAAL,CAAmB78B,UAAnB,CAA5B,EAA4D;AAC1D;AACA;AACA,aAAKo7B,gBAAL;AACA,aAAKpB,SAAL,CAAeh6B,UAAf,EAA2Bs6B,UAA3B,CAAsC,IAAtC;AACD,OALD,MAKO;AACL,YAAIwC,mBAAmB,GAAG,KAAK9C,SAAL,CAAeh6B,UAAf,EAA2B+8B,aAA3B,EAA1B;;AAEA,YAAID,mBAAJ,EAAyB;AACvB,eAAK,IAAI56C,CAAC,GAAG8d,UAAU,GAAG,CAA1B,EAA6B9d,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;AACxC,gBACE,CAAC,KAAK83C,SAAL,CAAeh6B,UAAf,EAA2Bq8B,UAA3B,EAAD,IACA,CAAC,KAAKrC,SAAL,CAAeh6B,UAAf,EAA2Bg9B,YAA3B,EAFH,EAGE;AACAF,iCAAmB,GAAG,KAAtB;AACD;;AACD,iBAAK9C,SAAL,CAAeh6B,UAAf,EAA2Bs6B,UAA3B,CAAsCwC,mBAAtC;AACD;;AAEDA,6BAAmB,GAAG,IAAtB;;AAEA,eAAK,IAAI56C,CAAC,GAAG8d,UAAU,GAAG,CAA1B,EAA6B9d,CAAC,GAAG,KAAKs5C,OAAL,CAAar5C,MAA9C,EAAsDD,CAAC,EAAvD,EAA2D;AACzD,gBACE,CAAC,KAAK83C,SAAL,CAAe93C,CAAf,EAAkBm6C,UAAlB,EAAD,IACA,CAAC,KAAKrC,SAAL,CAAe93C,CAAf,EAAkB86C,YAAlB,EAFH,EAGE;AACAF,iCAAmB,GAAG,KAAtB;AACD;;AACD,iBAAK9C,SAAL,CAAe93C,CAAf,EAAkBo4C,UAAlB,CAA6BwC,mBAA7B;AACD;AACF;AACF;AACF,KAnCD;;AAqCA,SAAKG,qBAAL,GAA6B,UAAS/6C,CAAT,EAAY;AACvC,UAAIg7C,UAAU,GAAG,KAAjB;;AACA,UAAIh7C,CAAC,GAAG,CAAR,EAAW;AACT,YAAIi7C,WAAW,GAAG,KAAK34B,YAAL,CAAkBtiB,CAAlB,CAAlB;AACA,YAAIk7C,SAAS,GAAG,KAAK7qB,UAAL,CAAgBrwB,CAAhB,CAAhB;AACA,YAAIm7C,iBAAiB,GAAG,KAAK74B,YAAL,CAAkBtiB,CAAC,GAAG,CAAtB,CAAxB;AACA,YAAIo7C,eAAe,GAAG,KAAK/qB,UAAL,CAAgBrwB,CAAC,GAAG,CAApB,CAAtB;;AAEA,YACEi7C,WAAW,GAAGE,iBAAd,IACAD,SAAS,GAAGE,eADZ,IAEAH,WAAW,GAAGG,eAAd,GAAgC,CAHlC,EAIE;AACAJ,oBAAU,GAAG,IAAb;AACD;AACF;;AACD,aAAOA,UAAP;AACD,KAjBD;;AAmBA,SAAKK,iBAAL,GAAyB,UAASr7C,CAAT,EAAY;AACnC,UAAIg7C,UAAU,GAAG,KAAjB;;AACA,UAAIh7C,CAAC,GAAG,KAAKs5C,OAAL,CAAar5C,MAAb,GAAsB,CAA9B,EAAiC;AAC/B,YAAIg7C,WAAW,GAAG,KAAK34B,YAAL,CAAkBtiB,CAAlB,CAAlB;AACA,YAAIk7C,SAAS,GAAG,KAAK7qB,UAAL,CAAgBrwB,CAAhB,CAAhB;AACA,YAAIs7C,aAAa,GAAG,KAAKh5B,YAAL,CAAkBtiB,CAAC,GAAG,CAAtB,CAApB;AACA,YAAIu7C,WAAW,GAAG,KAAKlrB,UAAL,CAAgBrwB,CAAC,GAAG,CAApB,CAAlB;;AAEA,YACEi7C,WAAW,GAAGK,aAAd,IACAJ,SAAS,GAAGK,WADZ,IAEAD,aAAa,GAAGJ,SAAhB,GAA4B,CAH9B,EAIE;AACAF,oBAAU,GAAG,IAAb;AACD;AACF;;AAED,aAAOA,UAAP;AACD,KAlBD;;AAoBA,SAAKzC,kBAAL,GAA0B,UAASz6B,UAAT,EAAqB;AAC7C,UAAIirB,eAAe,GAAG,KAAtB;;AAEA,UACE,CAAC,KAAKgS,qBAAL,CAA2Bj9B,UAA3B,CAAD,IACA,KAAKu9B,iBAAL,CAAuBv9B,UAAvB,CADA,IAEA,KAAKu9B,iBAAL,CAAuBv9B,UAAU,GAAG,CAApC,CAHF,EAIE;AACA;AACA;AACAirB,uBAAe,GAAG,IAAlB;AACD,OARD,MAQO,IACL,KAAKgS,qBAAL,CAA2Bj9B,UAA3B,KACA,KAAKu9B,iBAAL,CAAuBv9B,UAAvB,CAFK,EAGL;AACA;AACA;AACAirB,uBAAe,GAAG,IAAlB;AACD,OAPM,MAOA,IACL,KAAKgS,qBAAL,CAA2Bj9B,UAAU,GAAG,CAAxC,KACA,KAAKi9B,qBAAL,CAA2Bj9B,UAA3B,CAFK,EAGL;AACA;AACA;AACAirB,uBAAe,GAAG,IAAlB;AACD;;AAED,WAAK+O,SAAL,CAAeh6B,UAAf,EAA2B09B,YAA3B,CAAwCzS,eAAxC;AACA,aAAOA,eAAP;AACD,KA7BD;;AA+BA,SAAKmQ,gBAAL,GAAwB,YAAW;AACjC,WAAK,IAAIl5C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKs5C,OAAL,CAAar5C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,aAAK83C,SAAL,CAAe93C,CAAf,EAAkBo4C,UAAlB,CAA6B,KAA7B;AACD;;AAED,WAAKe,wBAAL;AACD,KAND;;AAQA,SAAKA,wBAAL,GAAgC,YAAW;AACzC,WAAK,IAAIn5C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKs5C,OAAL,CAAar5C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5CoK,SAAC,CAAC,KAAKqxC,eAAL,CAAqBz7C,CAArB,CAAD,CAAD,CAA2B2oB,WAA3B,CACE,QADF,EAEE,KAAKmvB,SAAL,CAAe93C,CAAf,EAAkBm6C,UAAlB,EAFF;AAID;AACF,KAPD;;AASA,SAAKsB,eAAL,GAAuB,UAAS5G,MAAT,EAAiB;AACtC,aACE,eACA,KAAK4E,eAAL,EADA,GAEA,GAFA,GAGA,KAAKC,SAAL,EAHA,GAIA,GAJA,GAKA7E,MANF;AAQD,KATD;;AAWA,SAAK2F,iBAAL,GAAyB,UAASkB,cAAT,EAAyB;AAChD;AACA,UAAIC,mBAAmB,GAAG,KAAK7D,SAAL,CAAe4D,cAAf,EAA+BvB,UAA/B,EAA1B;AACA,UAAIyB,aAAa,GAAG,KAAKjB,aAAL,CAAmBe,cAAnB,CAApB,CAHgD,CAKhD;AACA;;AACA,UAAIC,mBAAmB,IAAIC,aAA3B,EAA0C;AACxC;AACA;AACA,aAAK1C,gBAAL;AACA,aAAKpB,SAAL,CAAe4D,cAAf,EAA+BtD,UAA/B,CAA0C,IAA1C;AACD,OALD,MAKO,IAAIuD,mBAAmB,IAAI,CAACC,aAA5B,EAA2C;AAChD;AACA;AACA,aAAK9D,SAAL,CAAe4D,cAAf,EAA+BtD,UAA/B,CAA0C,KAA1C;AACD,OAJM,MAIA,IAAI,CAACuD,mBAAL,EAA0B;AAC/B;AACA;AACA,YAAIE,wBAAwB,GAAG,KAAKC,gCAAL,CAC7BJ,cAD6B,CAA/B;AAGA,YAAIK,oBAAoB,GAAG,KAAKC,4BAAL,CACzBN,cADyB,CAA3B;;AAGA,YAAIG,wBAAwB,IAAI,CAAhC,EAAmC;AACjC,eAAKI,qBAAL,CAA2BJ,wBAA3B,EAAqDH,cAArD;AACD,SAFD,MAEO,IAAIK,oBAAoB,IAAI,CAA5B,EAA+B;AACpC,eAAKE,qBAAL,CAA2BP,cAA3B,EAA2CK,oBAA3C;AACD,SAFM,MAEA;AACL;AACA;AACA,eAAK7C,gBAAL;AACA,eAAKpB,SAAL,CAAe4D,cAAf,EAA+BtD,UAA/B,CAA0C,IAA1C;AACD;AACF;AACF,KApCD;;AAsCA,SAAK6D,qBAAL,GAA6B,UAASC,WAAT,EAAsBC,YAAtB,EAAoC;AAC/D,WAAK,IAAIn8C,CAAC,GAAGk8C,WAAb,EAA0Bl8C,CAAC,IAAIm8C,YAA/B,EAA6Cn8C,CAAC,EAA9C,EAAkD;AAChD,aAAK83C,SAAL,CAAe93C,CAAf,EAAkBo4C,UAAlB,CAA6B,IAA7B;AACD;AACF,KAJD;;AAMA,SAAK0D,gCAAL,GAAwC,UAASM,UAAT,EAAqB;AAC3DC,iBAAW,GAAG,CAAC,CAAf;;AACA,WAAK,IAAIr8C,CAAC,GAAGo8C,UAAU,GAAG,CAA1B,EAA6Bp8C,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;AACxC,YACE,KAAK83C,SAAL,CAAe93C,CAAf,EAAkBm6C,UAAlB,MACA,KAAKrC,SAAL,CAAe93C,CAAf,EAAkB86C,YAAlB,EAFF,EAGE;AACAuB,qBAAW,GAAGr8C,CAAd;AACD;AACF;;AAED,aAAOq8C,WAAP;AACD,KAZD;;AAcA,SAAKL,4BAAL,GAAoC,UAASI,UAAT,EAAqB;AACvDC,iBAAW,GAAG,CAAC,CAAf;AACA,UAAIC,OAAO,GAAG,KAAKhD,OAAL,CAAar5C,MAA3B;;AAEA,WAAK,IAAID,CAAC,GAAGo8C,UAAU,GAAG,CAA1B,EAA6Bp8C,CAAC,GAAGs8C,OAAjC,EAA0Ct8C,CAAC,EAA3C,EAA+C;AAC7C,YACE,KAAK83C,SAAL,CAAe93C,CAAf,EAAkBm6C,UAAlB,MACA,KAAKrC,SAAL,CAAe93C,CAAf,EAAkB86C,YAAlB,EAFF,EAGE;AACAuB,qBAAW,GAAGr8C,CAAd;AACD;AACF;;AAED,aAAOq8C,WAAP;AACD,KAdD;;AAgBA,SAAK9B,sBAAL,GAA8B,UAASz8B,UAAT,EAAqB;AACjD,UAAI48B,oBAAoB,GAAG,KAAK5C,SAAL,CAAeh6B,UAAf,EAA2Bq8B,UAA3B,EAA3B;;AAEA,UAAIO,oBAAoB,IAAI,KAAKC,aAAL,CAAmB78B,UAAnB,CAA5B,EAA4D;AAC1D;AACA;AACA,aAAKo7B,gBAAL;AACA,aAAKpB,SAAL,CAAeh6B,UAAf,EAA2Bs6B,UAA3B,CAAsC,IAAtC;AACD,OALD,MAKO;AACL,aAAKN,SAAL,CAAeh6B,UAAf,EAA2Bs6B,UAA3B,CACE,CAAC,KAAKN,SAAL,CAAeh6B,UAAf,EAA2Bq8B,UAA3B,EADH;AAGA,YAAIS,mBAAmB,GAAG,KAAK9C,SAAL,CAAeh6B,UAAf,EAA2Bq8B,UAA3B,EAA1B;;AAEA,YAAIS,mBAAJ,EAAyB;AACvB,eAAK,IAAI56C,CAAC,GAAG8d,UAAU,GAAG,CAA1B,EAA6B9d,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;AACxC,gBACE,CAAC,KAAK83C,SAAL,CAAe93C,CAAf,EAAkBm6C,UAAlB,EAAD,IACA,CAAC,KAAKrC,SAAL,CAAe93C,CAAf,EAAkB86C,YAAlB,EAFH,EAGE;AACAF,iCAAmB,GAAG,KAAtB;AACD;;AACD,iBAAK9C,SAAL,CAAe93C,CAAf,EAAkBo4C,UAAlB,CAA6BwC,mBAA7B;AACD;;AAEDA,6BAAmB,GAAG,IAAtB;;AAEA,eAAK,IAAI56C,CAAC,GAAG8d,UAAU,GAAG,CAA1B,EAA6B9d,CAAC,GAAG,KAAKs5C,OAAL,CAAar5C,MAA9C,EAAsDD,CAAC,EAAvD,EAA2D;AACzD,gBACE,CAAC,KAAK83C,SAAL,CAAe93C,CAAf,EAAkBm6C,UAAlB,EAAD,IACA,CAAC,KAAKrC,SAAL,CAAe93C,CAAf,EAAkB86C,YAAlB,EAFH,EAGE;AACAF,iCAAmB,GAAG,KAAtB;AACD;;AACD,iBAAK9C,SAAL,CAAe93C,CAAf,EAAkBo4C,UAAlB,CAA6BwC,mBAA7B;AACD;AACF;AACF;AACF,KAtCD;;AAwCA,SAAKD,aAAL,GAAqB,UAAS78B,UAAT,EAAqB;AACxC,UAAIy+B,SAAS,GAAG,KAAhB;AACA,UAAIC,UAAU,GAAG,KAAjB;;AAEA,WAAK,IAAIx8C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKs5C,OAAL,CAAar5C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,YACE,KAAK83C,SAAL,CAAe93C,CAAf,EAAkBm6C,UAAlB,MACA,KAAKrC,SAAL,CAAe93C,CAAf,EAAkB86C,YAAlB,EAFF,EAGE;AACA,cAAI96C,CAAC,GAAG8d,UAAR,EAAoB;AAClB;AACAy+B,qBAAS,GAAG,IAAZ;AACD,WAHD,MAGO,IAAIv8C,CAAC,GAAG8d,UAAR,EAAoB;AACzB;AACA0+B,sBAAU,GAAG,IAAb;AACD;AACF;AACF,OAjBuC,CAmBxC;;;AACA,aAAOD,SAAS,IAAIC,UAApB;AACD,KArBD;;AAuBA,SAAK/B,kBAAL,GAA0B,YAAW;AACnC,UAAIgC,SAAS,GAAG,CAAhB;AACA,UAAIC,OAAO,GAAG,CAAd;AACA,UAAIC,eAAe,GAAG,KAAtB;AACA,UAAIL,OAAO,GAAG,KAAKhD,OAAL,CAAar5C,MAA3B;;AAEA,WAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs8C,OAApB,EAA6Bt8C,CAAC,EAA9B,EAAkC;AAChC,YAAIy1C,OAAO,GAAG,KAAKqC,SAAL,CAAe93C,CAAf,CAAd;;AACA,YAAIy1C,OAAO,CAAC0E,UAAR,EAAJ,EAA0B;AACxB,cAAI,CAACwC,eAAL,EAAsB;AACpBF,qBAAS,GAAGhH,OAAO,CAACnzB,YAAR,EAAZ;AACAo6B,mBAAO,GAAGjH,OAAO,CAACplB,UAAR,EAAV;AACAssB,2BAAe,GAAG,IAAlB;AACD,WAJD,MAIO;AACLF,qBAAS,GAAG/3C,IAAI,CAACy7B,GAAL,CAASsc,SAAT,EAAoBhH,OAAO,CAACnzB,YAAR,EAApB,CAAZ;AACAo6B,mBAAO,GAAGh4C,IAAI,CAAC04B,GAAL,CAASsf,OAAT,EAAkBjH,OAAO,CAACplB,UAAR,EAAlB,CAAV;AACD;AACF;AACF,OAlBkC,CAoBnC;;;AACA,UAAI,KAAKusB,YAAL,CAAkBH,SAAlB,EAA6BC,OAA7B,CAAJ,EAA2C;AACzC,eAAO,IAAItsB,WAAJ,CAAgB,eAAhB,EAAiCqsB,SAAjC,EAA4CC,OAA5C,CAAP,CADyC,CAEzC;AACD,OAHD,MAGO;AACL,eAAO,IAAP,CADK,CAEL;AACD;AACF,KA5BD;;AA8BA,SAAKE,YAAL,GAAoB,UAASH,SAAT,EAAoBC,OAApB,EAA6B;AAC/C,UAAIG,SAAS,GAAG,IAAhB;;AACA,UACEJ,SAAS,GAAG,CAAZ,IACAA,SAAS,GAAGC,OADZ,IAEAA,OAAO,IAAI,CAFX,IAGAD,SAAS,IAAIC,OAJf,EAKE;AACAG,iBAAS,GAAG,KAAZ;AACD;;AAED,aAAOA,SAAP;AACD,KAZD;AAaD;;AAjeoB;AAmehB,MAAMzsB,WAAN,CAAkB;AACvBlqB,aAAW,CAAC4zC,OAAD,EAAUgD,UAAV,EAAsBC,SAAtB,EAAiC;AAC1C,SAAKC,QAAL,GAAgBlD,OAAhB;AACA,SAAKhe,WAAL,GAAmByJ,UAAU,CAACuX,UAAD,CAA7B;AACA,SAAKG,SAAL,GAAiB1X,UAAU,CAACwX,SAAD,CAA3B;AACA,SAAKG,WAAL,GAAmB,KAAnB;AACA,SAAKC,SAAL,GAAiB,KAAjB;AAEA,SAAKv/B,aAAL,GAAqB,IAArB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,UAAL,GAAkB,IAAlB;;AAEA,QAAIg8B,OAAO,IAAI,EAAf,EAAmB;AACjB,WAAKkD,QAAL,GACE,KAAKlhB,WAAL,CAAiB0I,OAAjB,CAAyB,CAAzB,IAA8B,KAA9B,GAAsC,KAAKyY,SAAL,CAAezY,OAAf,CAAuB,CAAvB,CADxC;AAED,KAdyC,CAe1C;;;AACA,SAAKhmB,YAAL,GAAoB,UAASs+B,UAAT,EAAqB;AACvC,WAAKhhB,WAAL,GAAmByJ,UAAU,CAACuX,UAAD,CAA7B;AACD,KAFD;;AAGA,SAAKM,UAAL,GAAkB,UAASC,QAAT,EAAmB;AACnC,WAAKJ,SAAL,GAAiB1X,UAAU,CAACwX,SAAD,CAA3B;AACD,KAFD;;AAGA,SAAKvB,YAAL,GAAoB,UAAS8B,UAAT,EAAqB;AACvC,WAAKJ,WAAL,GAAmBI,UAAnB;AACD,KAFD;;AAGA,SAAKlF,UAAL,GAAkB,UAASmF,QAAT,EAAmB;AACnC,WAAKJ,SAAL,GAAiBI,QAAjB;AACD,KAFD;;AAGA,SAAK1H,OAAL,GAAe,UAASiE,OAAT,EAAkB;AAC/B,WAAKkD,QAAL,GAAgBlD,OAAhB;AACD,KAFD;;AAGA,SAAKtB,aAAL,GAAqB,UAAS56B,aAAT,EAAwB;AAC3C,WAAKA,aAAL,GAAqBA,aAArB;AACD,KAFD;;AAGA,SAAK66B,YAAL,GAAoB,UAAS56B,UAAT,EAAqB;AACvC,WAAKA,UAAL,GAAkBA,UAAlB;AACD,KAFD;;AAGA,SAAK66B,YAAL,GAAoB,UAAS56B,UAAT,EAAqB;AACvC,WAAKA,UAAL,GAAkBA,UAAlB;AACD,KAFD,CArC0C,CAyC1C;;;AACA,SAAKwE,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAKwZ,WAAZ;AACD,KAFD;;AAGA,SAAKzL,UAAL,GAAkB,YAAW;AAC3B,aAAO,KAAK4sB,SAAZ;AACD,KAFD;;AAGA,SAAKnC,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAKoC,WAAZ;AACD,KAFD;;AAGA,SAAK/C,UAAL,GAAkB,YAAW;AAC3B,aAAO,KAAKgD,SAAZ;AACD,KAFD;;AAGA,SAAKvH,OAAL,GAAe,YAAW;AACxB,aAAO,KAAKoH,QAAZ;AACD,KAFD;;AAGA,SAAKQ,eAAL,GAAuB,YAAW;AAChC,aAAO;AACLxF,oBAAY,EAAE,KAAKp6B,aADd;AAELsY,iBAAS,EAAE,KAAKrY,UAFX;AAGLs6B,iBAAS,EAAE,KAAKr6B;AAHX,OAAP;AAKD,KAND;;AAQA,SAAK+8B,aAAL,GAAqB,YAAW;AAC9B,UAAI5R,WAAW,GAAG,KAAKkU,SAAvB;AACA,WAAKA,SAAL,GAAiB,CAAClU,WAAlB;AACA,aAAO,KAAKkU,SAAZ;AACD,KAJD;;AAKA,SAAKM,QAAL,GAAgB,YAAW;AACzB,UAAI,KAAKR,SAAL,GAAiB,KAAKnhB,WAAL,GAAmB,GAAxC,EAA6C;AAC3C,eAAO,KAAP;AACD;;AACD,aAAO,IAAP;AACD,KALD;;AAMA,SAAK4hB,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAK5hB,WAAL,CAAiB0I,OAAjB,CAAyB,CAAzB,IAA8B,KAA9B,GAAsC,KAAKyY,SAAL,CAAezY,OAAf,CAAuB,CAAvB,CAA7C;AACD,KAFD;AAGD;;AAhFsB;AAmFlB,MAAMve,OAAN,CAAc;AACnB/f,aAAW,GAAG;AACZ,SAAKy3C,UAAL,GAAkB,KAAlB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,eAAL,GAAuB,EAAvB,CAHY,CAGe;;AAC3B,SAAKC,oBAAL,GAA4B,EAA5B,CAJY,CAIoB;;AAChC,SAAKC,WAAL,GAAmB,EAAnB,CALY,CAKW;;AACvB,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,kBAAL,GAA0B,EAA1B;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKlhB,gBAAL,GAAwB,CAAxB;AACA,SAAKmhB,eAAL,GAAuB,EAAvB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,mBAAL,GAA2B,EAA3B;AACA,SAAKC,gBAAL,GAAwB,EAAxB;AACA,SAAKC,qBAAL,GAA6B,EAA7B;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKC,qBAAL,GAA6B,EAA7B;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,kBAAL,GAA0B,EAA1B;;AAEA,SAAKhiC,WAAL,GAAmB,UAASiiC,OAAT,EAAkB;AACnC,WAAKvB,UAAL,GAAkBuB,OAAlB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKplC,UAAL,GAAkB,UAASqlC,UAAT,EAAqB;AACrC,WAAKpB,WAAL,GAAmBoB,UAAnB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKxzB,oBAAL,GAA4B,UAASyzB,oBAAT,EAA+B;AACzD,WAAKL,qBAAL,GAA6BK,oBAA7B;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK5jC,cAAL,GAAsB,UAAS4Z,OAAT,EAAkB;AACtC,WAAKyoB,eAAL,GAAuBzoB,OAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKvJ,mBAAL,GAA2B,UAASwzB,YAAT,EAAuB;AAChD,WAAKvB,oBAAL,GAA4BuB,YAA5B;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK5jC,YAAL,GAAoB,UAAS6jC,YAAT,EAAuB;AACzC,WAAKtB,aAAL,GAAqBsB,YAArB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK5jC,cAAL,GAAsB,UAAS6U,cAAT,EAAyB;AAC7C,WAAK0tB,eAAL,GAAuB1tB,cAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK5U,cAAL,GAAsB,UAAS+U,cAAT,EAAyB;AAC7C,WAAKwtB,eAAL,GAAuBxtB,cAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK9U,iBAAL,GAAyB,UAAS+U,iBAAT,EAA4B;AACnD,WAAKwtB,kBAAL,GAA0BxtB,iBAA1B;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK9U,cAAL,GAAsB,UAAS+U,cAAT,EAAyB;AAC7C,WAAKwtB,eAAL,GAAuBxtB,cAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK7U,WAAL,GAAmB,UAASu3B,MAAT,EAAiB;AAClC,WAAKiM,OAAL,GAAejM,MAAf;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKr3B,cAAL,GAAsB,UAASujC,cAAT,EAAyB;AAC7C,WAAKlB,eAAL,GAAuBkB,cAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKzlC,QAAL,GAAgB,UAASwV,QAAT,EAAmB;AACjC,WAAKquB,SAAL,GAAiBruB,QAAjB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKrT,cAAL,GAAsB,UAASujC,cAAT,EAAyB;AAC7C,WAAKlB,eAAL,GAAuBkB,cAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKrjC,kBAAL,GAA0B,UAASsjC,kBAAT,EAA6B;AACrD,WAAKlB,mBAAL,GAA2BkB,kBAA3B;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKpjC,gBAAL,GAAwB,UAASqjC,cAAT,EAAyB;AAC/C,WAAKd,eAAL,GAAuBc,cAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKnjC,aAAL,GAAqB,UAAS83B,WAAT,EAAsB;AACzC,WAAKwK,YAAL,GAAoBxK,WAApB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKtoB,eAAL,GAAuB,UAAS4zB,OAAT,EAAkB;AACvC,WAAKnB,gBAAL,GAAwBmB,OAAxB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK3zB,oBAAL,GAA4B,UAAS4zB,OAAT,EAAkB;AAC5C,WAAKnB,qBAAL,GAA6BmB,OAA7B;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK1zB,cAAL,GAAsB,UAASokB,KAAT,EAAgB;AACpC,WAAKoO,eAAL,GAAuBpO,KAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK3zB,cAAL,GAAsB,UAASkjC,OAAT,EAAkB;AACtC,WAAKlB,eAAL,GAAuBkB,OAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKpjC,iBAAL,GAAyB,UAASqjC,KAAT,EAAgB;AACvC,WAAK5iB,gBAAL,GAAwB4iB,KAAxB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKtlC,cAAL,GAAsB,UAASulC,cAAT,EAAyB;AAC7C,WAAKhB,eAAL,GAAuBgB,cAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAKA,SAAKvxB,QAAL,GAAgB,YAAW;AACzB,aAAO,KAAKkvB,UAAZ;AACD,KAFD;;AAIA,SAAKsC,aAAL,GAAqB,YAAW;AAC9B,UAAI9+B,SAAS,GAAG,KAAKC,mBAAL,EAAhB;AACA,UAAIjY,IAAI,GAAG,EAAX;;AACA,cAAQgY,SAAR;AACE,aAAK,OAAL;AACEhY,cAAI,GAAG,KAAKkY,YAAL,EAAP,CADF,CAEE;;AACA;;AACF,aAAK,SAAL;AACElY,cAAI,GAAG,KAAKoY,cAAL,EAAP,CADF,CAEE;;AACA;;AACF,aAAK,KAAL;AACEpY,cAAI,GAAG,KAAKqY,cAAL,EAAP,CADF,CAGE;;AACA;;AACF,aAAK,YAAL;AACErY,cAAI,GAAG,KAAKsY,iBAAL,EAAP,CADF,CAEE;;AACA;;AACF,aAAK,KAAL;AACEtY,cAAI,GAAG,KAAKyY,cAAL,EAAP,CADF,CAEE;;AACA;;AACF,aAAK,KAAL;AACE,iBAAQ,mCAAkCC,kBAAkB,CAC1DC,MAD0D,CAE1D,6BAFF,CADF,CAKE;;AACA;;AACF,aAAK,UAAL;AACE3Y,cAAI,GAAG;AACL2D,gBAAI,EAAE,KAAKkV,eAAL,EADD;AAEL7Y,gBAAI,EAAE,KAAK8Y,oBAAL;AAFD,WAAP;AAIA;;AACF,aAAK,WAAL;AACE9Y,cAAI,GAAG,KAAK+Y,cAAL,EAAP,CADF,CAGE;;AACA;;AACF,aAAK,MAAL;AACE/Y,cAAI,GAAG,KAAKgZ,cAAL,EAAP,CADF,CAGE;;AACA;AA5CJ;;AA8CA,aAAO;AAAEve,YAAI,EAAEud,SAAR;AAAmBhY,YAAI,EAAEA;AAAzB,OAAP;AACD,KAlDD;;AAmDA,SAAKoe,UAAL,GAAkB,YAAW;AAC3B,aAAO,KAAKw2B,WAAZ;AACD,KAFD;;AAGA,SAAKrwB,oBAAL,GAA4B,YAAW;AACrC,aAAO,KAAKqxB,qBAAZ;AACD,KAFD;;AAGA,SAAK9qB,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAK4pB,eAAZ;AACD,KAFD;;AAGA,SAAKz8B,mBAAL,GAA2B,YAAW;AACpC,aAAO,KAAK08B,oBAAZ;AACD,KAFD;;AAGA,SAAKz8B,YAAL,GAAoB,YAAW;AAC7B,aAAO,KAAK28B,aAAZ;AACD,KAFD;;AAGA,SAAKz8B,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAK08B,eAAZ;AACD,KAFD;;AAGA,SAAKz8B,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAK08B,eAAZ;AACD,KAFD;;AAGA,SAAKz8B,iBAAL,GAAyB,YAAW;AAClC,aAAO,KAAK08B,kBAAZ;AACD,KAFD;;AAGA,SAAKv8B,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAKw8B,eAAZ;AACD,KAFD;;AAGA,SAAKjwB,WAAL,GAAmB,YAAW;AAC5B,aAAO,KAAKoxB,OAAZ;AACD,KAFD;;AAGA,SAAKW,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAK5B,eAAZ;AACD,KAFD;;AAGA,SAAKnvB,QAAL,GAAgB,YAAW;AACzB,aAAO,KAAKyuB,SAAZ;AACD,KAFD;;AAGA,SAAK1pB,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAKqqB,eAAZ;AACD,KAFD;;AAGA,SAAK/uB,kBAAL,GAA0B,YAAW;AACnC,aAAO,KAAKgvB,mBAAZ;AACD,KAFD;;AAGA,SAAKzuB,gBAAL,GAAwB,YAAW;AACjC,aAAO,KAAK8uB,eAAZ;AACD,KAFD;;AAGA,SAAKrwB,aAAL,GAAqB,YAAW;AAC9B,aAAO,KAAKswB,YAAZ;AACD,KAFD;;AAGA,SAAK98B,eAAL,GAAuB,YAAW;AAChC,aAAO,KAAKy8B,gBAAZ;AACD,KAFD;;AAGA,SAAKx8B,oBAAL,GAA4B,YAAW;AACrC,aAAO,KAAKy8B,qBAAZ;AACD,KAFD;;AAGA,SAAKx8B,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAKy8B,eAAZ;AACD,KAFD;;AAGA,SAAKx8B,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAKy8B,eAAZ;AACD,KAFD;;AAGA,SAAKuB,iBAAL,GAAyB,YAAW;AAClC,aAAO,KAAKhjB,gBAAZ;AACD,KAFD;;AAGA,SAAK9N,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAK2vB,eAAZ;AACD,KAFD;;AAIA,SAAK/2B,QAAL,GAAgB,YAAW;AACzB,WAAK01B,UAAL,GAAkB,KAAlB;AACA,WAAKC,SAAL,GAAiB,EAAjB;AACA,WAAKC,eAAL,GAAuB,EAAvB,CAHyB,CAGE;;AAC3B,WAAKC,oBAAL,GAA4B,EAA5B,CAJyB,CAIO;;AAChC,WAAKC,WAAL,GAAmB,EAAnB,CALyB,CAKF;;AACvB,WAAKgB,qBAAL,GAA6B,EAA7B;AACA,WAAKf,aAAL,GAAqB,EAArB;AACA,WAAKC,eAAL,GAAuB,EAAvB;AACA,WAAKC,eAAL,GAAuB,EAAvB;AACA,WAAKC,kBAAL,GAA0B,EAA1B;AACA,WAAKC,eAAL,GAAuB,EAAvB;AACA,WAAKC,YAAL,GAAoB,EAApB;AACA,WAAKC,eAAL,GAAuB,EAAvB;AACA,WAAK8B,aAAL,GAAqB,EAArB;AACA,WAAK7B,eAAL,GAAuB,EAAvB;AACA,WAAKC,mBAAL,GAA2B,EAA3B;AACA,WAAKC,gBAAL,GAAwB,EAAxB;AACA,WAAKC,qBAAL,GAA6B,EAA7B;AACA,WAAKE,eAAL,GAAuB,EAAvB;AACA,WAAKC,eAAL,CAAqB5+C,MAArB,GAA8B,CAA9B;AACA,WAAK6+C,YAAL,CAAkB7+C,MAAlB,GAA2B,CAA3B;AACA,WAAK++C,eAAL,GAAuB,EAAvB;AACD,KAvBD;;AAwBA,SAAKvxB,aAAL,GAAqB,YAAW;AAC9B,UAAI4yB,cAAc,GAAG,KAArB;;AACA,UACE,KAAKpsB,cAAL,MAAyB,OAAzB,IAAoC;AACpC,WAAK1M,UAAL,MAAqB,EADrB,MAC2B;AAC1B,WAAKnG,mBAAL,MAA8B,OAA9B,IAAyC;AAC1C,WAAKA,mBAAL,MAA8B,SAD7B,IAC0C;AACzC,WAAKA,mBAAL,MAA8B,KAJhC,CADF,EAME;AACA;AACAi/B,sBAAc,GAAG,IAAjB;AACD;;AACD,aAAOA,cAAP;AACD,KAbD;;AAeA,SAAK3tB,aAAL,GAAqB,YAAW;AAC9B,UAAI2tB,cAAc,GAAG,KAArB;;AACA,UACE,KAAKpsB,cAAL,MAAyB,OAAzB,IAAoC;AACpC,WAAK1M,UAAL,MAAqB,EADrB,MAC2B;AAC1B,WAAKnG,mBAAL,MAA8B,OAA9B,IAAyC;AAC1C,WAAKA,mBAAL,MAA8B,SAD7B,IAC0C;AACzC,WAAKA,mBAAL,MAA8B,KAJhC,CADF,EAME;AACA;AACAi/B,sBAAc,GAAG,IAAjB;AACD;;AACD,aAAOA,cAAP;AACD,KAbD;;AAeA,SAAK1tB,UAAL,GAAkB,YAAW;AAC3B,UAAI0tB,cAAc,GAAG,KAArB;;AACA,UACE,KAAKpsB,cAAL,MAAyB,OAAzB,IAAoC;AACpC,WAAK1M,UAAL,MAAqB,EADrB,MAC2B;AAC1B,WAAKnG,mBAAL,MAA8B,OAA9B,IAAyC;AAC1C,WAAKA,mBAAL,MAA8B,SAD7B,IAC0C;AACzC,WAAKA,mBAAL,MAA8B,KAJhC,CADF,EAME;AACA;AACAi/B,sBAAc,GAAG,IAAjB;AACD;;AACD,aAAOA,cAAP;AACD,KAbD;;AAeA,SAAKztB,WAAL,GAAmB,YAAW;AAC5B,UAAI0tB,YAAY,GAAG,KAAnB;;AACA,UACE,KAAKrsB,cAAL,MAAyB,OAAzB,IAAoC;AACpC,WAAK1M,UAAL,MAAqB,EADrB,IAC2B;AAC3B,WAAKnG,mBAAL,MAA8B,SAHhC,EAIE;AACA;AACAk/B,oBAAY,GAAG,IAAf;AACD;;AACD,aAAOA,YAAP;AACD,KAXD;;AAaA,SAAKpjC,cAAL,GAAsB,YAAW;AAC/B,UAAI,KAAKmE,YAAL,OAAwB,EAA5B,EAAgC;AAC9B,aAAKwK,mBAAL,CAAyB,OAAzB;AACD,OAFD,MAEO,IAAI,KAAKtK,cAAL,OAA0B,EAA9B,EAAkC;AACvC,aAAKsK,mBAAL,CAAyB,SAAzB;AACD,OAFM,MAEA,IAAI,KAAK5J,oBAAL,OAAgC,EAApC,EAAwC;AAC7C,aAAK4J,mBAAL,CAAyB,UAAzB;AACD,OAFM,MAEA,IAAI,KAAK3J,cAAL,OAA0B,EAA9B,EAAkC;AACvC,aAAK2J,mBAAL,CAAyB,WAAzB;AACD,OAFM,MAEA,IAAI,KAAKrK,cAAL,OAA0B,EAA9B,EAAkC;AACvC,aAAKqK,mBAAL,CAAyB,KAAzB;AACD,OAFM,MAEA,IAAI,KAAKpK,iBAAL,OAA6B,EAAjC,EAAqC;AAC1C,aAAKoK,mBAAL,CAAyB,YAAzB;AACD,OAFM,MAEA,IAAI,KAAKjK,cAAL,OAA0B,EAA9B,EAAkC;AACvC,aAAKiK,mBAAL,CAAyB,KAAzB;AACD,OAFM,MAEA,IAAI,KAAKsC,WAAL,OAAuB,EAA3B,EAA+B;AACpC,aAAKtC,mBAAL,CAAyB,KAAzB;AACD,OAFM,MAEA;AACL,aAAKA,mBAAL,CAAyB,MAAzB;AACD;AACF,KApBD;;AAsBA,SAAK9O,8BAAL,GAAsC,UAASwjC,mBAAT,EAA8B;AAClE,UAAIrT,MAAM,GAAGqT,mBAAmB,CAACn8C,KAApB,CAA0B,GAA1B,CAAb;;AACA,WAAK,IAAIpE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGktC,MAAM,CAACjtC,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,YAAIktC,MAAM,CAACltC,CAAD,CAAN,KAAc,EAAlB,EAAsB;AACpB,eAAKi/C,kBAAL,CAAwB1+C,IAAxB,CAA6B2sC,MAAM,CAACltC,CAAD,CAAnC;AACD;AACF;;AACD,aAAO,IAAP;AACD,KARD;;AAUA,SAAKwgD,oBAAL,GAA4B,YAAW;AACrC,aAAO,KAAKvB,kBAAZ;AACD,KAFD;;AAIA,SAAKwB,wBAAL,GAAgC,YAAW;AACzC,aAAO,KAAKxB,kBAAL,CAAwBh/C,MAA/B;AACD,KAFD;AAGD;;AA3WkB;AA8Wd,MAAM+lB,OAAN,CAAc;AACnB9f,aAAW,GAAG;AACZ,SAAKw6C,eAAL,GAAuB,EAAvB,CADY,CACe;;AAC3B,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAK5C,WAAL,GAAmB,EAAnB;AACA,SAAKH,SAAL,GAAiB,EAAjB;AACA,SAAKgD,eAAL,GAAuB,EAAvB;AACA,SAAKC,oBAAL,GAA4B,EAA5B;AACA,SAAKC,yBAAL,GAAiC,EAAjC;AACA,SAAK9B,eAAL,GAAuB,EAAvB;AACA,SAAK+B,YAAL,GAAoB,EAApB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKhS,UAAL,GAAkB,EAAlB;AACA,SAAKiS,QAAL,GAAgB,EAAhB;AACA,SAAKC,gBAAL,GAAwB,EAAxB;;AAEA,SAAKC,cAAL,GAAsB,UAAShsB,OAAT,EAAkB;AACtC,WAAKsrB,eAAL,GAAuBtrB,OAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKna,SAAL,GAAiB,UAASikC,OAAT,EAAkB;AACjC,WAAKyB,QAAL,GAAgBzB,OAAhB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKplC,UAAL,GAAkB,UAASunC,QAAT,EAAmB;AACnC,WAAKtD,WAAL,GAAmBsD,QAAnB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKtnC,QAAL,GAAgB,UAASwV,QAAT,EAAmB;AACjC,WAAKquB,SAAL,GAAiBruB,QAAjB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKtV,cAAL,GAAsB,UAASqnC,cAAT,EAAyB;AAC7C,WAAKV,eAAL,GAAuBU,cAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKnnC,mBAAL,GAA2B,UAASgb,mBAAT,EAA8B;AACvD,WAAK0rB,oBAAL,GAA4B1rB,mBAA5B;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK5a,wBAAL,GAAgC,UAAS4kC,UAAT,EAAqB;AACnD,WAAK2B,yBAAL,GAAiC3B,UAAjC;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK1kC,cAAL,GAAsB,UAASulC,cAAT,EAAyB;AAC7C,WAAKhB,eAAL,GAAuBgB,cAAvB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKrlC,WAAL,GAAmB,UAAS4mC,WAAT,EAAsB;AACvC,WAAKR,YAAL,GAAoBQ,WAApB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK1mC,WAAL,GAAmB,UAAS2mC,WAAT,EAAsB;AACvC,WAAKR,YAAL,GAAoBQ,WAApB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK1mC,WAAL,GAAmB,UAAS2mC,WAAT,EAAsB;AACvC,WAAKxS,UAAL,GAAkBwS,WAAlB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKpnC,OAAL,GAAe,UAASqnC,OAAT,EAAkB;AAC/B,WAAKR,QAAL,GAAgBQ,OAAhB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAKvmC,eAAL,GAAuB,UAASwmC,QAAT,EAAmB;AACxC,WAAKR,gBAAL,GAAwBQ,QAAxB;AACA,aAAO,IAAP;AACD,KAHD;;AAIA,SAAK5mC,SAAL,GAAiB,UAAS6mC,SAAT,EAAoB;AACnC,WAAKX,UAAL,GAAkBW,SAAlB;AACA,aAAO,IAAP;AACD,KAHD;;AAKA,SAAKC,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAKnB,eAAZ;AACD,KAFD;;AAGA,SAAKjyB,QAAL,GAAgB,YAAW;AACzB,aAAO,KAAKkyB,QAAZ;AACD,KAFD;;AAGA,SAAKp5B,UAAL,GAAkB,YAAW;AAC3B,aAAO,KAAKw2B,WAAZ;AACD,KAFD;;AAGA,SAAK5uB,QAAL,GAAgB,YAAW;AACzB,aAAO,KAAKyuB,SAAZ;AACD,KAFD;;AAGA,SAAK/nB,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAK+qB,eAAZ;AACD,KAFD;;AAGA,SAAKkB,mBAAL,GAA2B,YAAW;AACpC,aAAO,KAAKjB,oBAAZ;AACD,KAFD;;AAGA,SAAK5gC,wBAAL,GAAgC,YAAW;AACzC,aAAO,KAAK6gC,yBAAZ;AACD,KAFD;;AAGA,SAAKzxB,cAAL,GAAsB,YAAW;AAC/B,aAAO,KAAK2vB,eAAZ;AACD,KAFD;;AAGA,SAAK1vB,WAAL,GAAmB,YAAW;AAC5B,aAAO,KAAKyxB,YAAZ;AACD,KAFD;;AAGA,SAAK3xB,WAAL,GAAmB,YAAW;AAC5B,aAAO,KAAK4xB,YAAZ;AACD,KAFD;;AAGA,SAAKryB,WAAL,GAAmB,YAAW;AAC5B,aAAO,KAAKsgB,UAAZ;AACD,KAFD;;AAGA,SAAK8S,OAAL,GAAe,YAAW;AACxB,aAAO,KAAKb,QAAZ;AACD,KAFD;;AAGA,SAAKz3B,eAAL,GAAuB,YAAW;AAChC,aAAO,KAAK03B,gBAAZ;AACD,KAFD;;AAGA,SAAK1xB,SAAL,GAAiB,YAAW;AAC1B,aAAO,KAAKwxB,UAAZ;AACD,KAFD;;AAIA,SAAKh5B,QAAL,GAAgB,YAAW;AACzB,WAAKy4B,eAAL,GAAuB,EAAvB,CADyB,CACE;;AAC3B,WAAKC,QAAL,GAAgB,KAAhB;AACA,WAAK5C,WAAL,GAAmB,EAAnB;AACA,WAAKH,SAAL,GAAiB,EAAjB;AACA,WAAKgD,eAAL,GAAuB,EAAvB;AACA,WAAKC,oBAAL,GAA4B,EAA5B;AACA,WAAKC,yBAAL,GAAiC,EAAjC;AACA,WAAK9B,eAAL,GAAuB,EAAvB;AACA,WAAK+B,YAAL,GAAoB,EAApB;AACA,WAAKC,YAAL,GAAoB,EAApB;AACA,WAAK/R,UAAL,GAAkB,EAAlB;AACA,WAAKiS,QAAL,GAAgB,EAAhB;AACA,WAAKC,gBAAL,GAAwB,EAAxB;AACD,KAdD;;AAgBA,SAAKa,OAAL,GAAe,YAAW;AACxB,aAAO,KAAKC,eAAL,IAAwB,OAA/B;AACD,KAFD;;AAIA,SAAKC,WAAL,GAAmB,YAAW;AAC5B,aAAO,KAAKjT,UAAL,CAAgBhvC,MAAhB,GAAyB,CAAhC;AACD,KAFD;AAGD;;AA5IkB;AA8Id,MAAMslB,gBAAN,CAAuB;AAC5Brf,aAAW,CAACi8C,WAAD,EAAc;AACvB,SAAKjR,WAAL,GAAmB,CAAnB;AACA,SAAKkR,0BAAL,GAAkC,MAAMD,WAAxC;AACA,SAAKE,oBAAL,GAA4B,KAA5B;AACA,SAAKjR,gBAAL,GAAwB,KAAxB;AACA,SAAKkR,qBAAL,GAA6B,KAA7B;AACA,SAAKC,aAAL,GAAqB,KAArB,CANuB,CAOvB;;AACA,SAAKC,cAAL,GAAsB,8BAAtB;;AAEA,SAAK35B,KAAL,GAAa,YAAW;AACtB,WAAKqoB,WAAL,GAAmB,CAAnB;AACA,WAAKmR,oBAAL,GAA4B,KAA5B;AACA,WAAKjR,gBAAL,GAAwB,KAAxB;AACA,WAAKkR,qBAAL,GAA6B,KAA7B;AACA,WAAKC,aAAL,GAAqB,KAArB,CALsB,CAMtB;AACA;AACA;AACD,KATD;;AAWA,SAAKp1B,eAAL,GAAuB,UAASokB,UAAT,EAAqB;AAC1C,WAAK1oB,KAAL;AACA,WAAKqoB,WAAL,GAAmBK,UAAnB;AACD,KAHD;;AAKA,SAAKkR,cAAL,GAAsB,YAAW;AAC/Br4C,OAAC,CAAC,KAAKg4C,0BAAN,CAAD,CAAmCr5B,KAAnC;AACD,KAFD;;AAIA,SAAKqJ,WAAL,GAAmB,YAAW;AAC5B,WAAKqwB,cAAL;AACAt7B,eAAS,CAAC1D,OAAV,CAAkB,KAAK2+B,0BAAvB;AACA,WAAKl6B,eAAL;AACD,KAJD;;AAMA,SAAKA,eAAL,GAAuB,YAAW;AAChC;AACA,UAAIw6B,UAAU,GAAG,KAAKF,cAAtB;;AACA,UAAI,KAAKtR,WAAL,IAAoB,GAAxB,EAA6B;AAC3BwR,kBAAU,IAAI,KAAKxR,WAAnB;AACD;;AACD9mC,OAAC,CAAC,KAAKg4C,0BAAN,CAAD,CAAmC/3C,IAAnC,CAAwCq4C,UAAxC,EAAoD,YAAW;AAC7Dv7B,iBAAS,CAAC7B,gBAAV,CAA2Bq9B,0BAA3B;AACD,OAFD;AAGD,KATD;;AAWA,SAAKA,0BAAL,GAAkC,YAAW;AAC3C,UAAIv4C,CAAC,CAAC,KAAKg4C,0BAAN,CAAD,CAAmCn2C,QAAnC,GAA8ChM,MAA9C,IAAwD,CAA5D,EAA+D;AAC7DmK,SAAC,CAAC,eAAD,CAAD,CAAmBE,IAAnB,CAAwB,mCAAxB;AACAF,SAAC,CAAC,eAAD,CAAD,CAAmB4e,MAAnB,CAA0B,IAA1B;AACD,OAHD,MAGO;AACL5e,SAAC,CAAC,eAAD,CAAD,CAAmB4e,MAAnB,CAA0B,KAA1B;;AAEA,YAAI,KAAKkoB,WAAL,IAAoB,GAAxB,EAA6B;AAC3B9mC,WAAC,CAAC,iBAAD,CAAD,CAAqB4e,MAArB,CAA4B,KAA5B;AACD,SAFD,MAEO;AACL5e,WAAC,CAAC,iBAAD,CAAD,CAAqB4e,MAArB,CAA4B,IAA5B;AACA5e,WAAC,CAAC,iBAAD,CAAD,CAAqBC,IAArB,CACEghB,aAAa,GACX,oCADF,GAEElE,SAAS,CAAC7B,gBAAV,CAA2B4rB,WAH/B;AAKD;AACF;;AACD,WAAKoR,qBAAL,GAA6B,IAA7B;AACD,KAnBD;;AAoBA,SAAKM,sBAAL,GAA8B,UAAS1xB,MAAT,EAAiB;AAC7C,UAAIwd,MAAM,GAAGtkC,CAAC,CAAC8mB,MAAD,CAAD,CAAU1kB,OAAV,CAAkB,yBAAlB,CAAb;AACA,UAAImiC,QAAQ,GAAGvkC,CAAC,CAACskC,MAAD,CAAD,CAAU/9B,IAAV,CAAe,SAAf,CAAf;AACA,UAAImoB,QAAQ,GAAG1uB,CAAC,CAACskC,MAAD,CAAD,CAAU3V,SAAV,EAAf,CAH6C,CAI7C;AACA;;AACA,UAAI8pB,UAAU,GAAGz4C,CAAC,CAAC8mB,MAAD,CAAD,CAAU1kB,OAAV,CAAkB,sBAAlB,CAAjB;AACApC,OAAC,CAACy4C,UAAD,CAAD,CAAcl6B,WAAd,CAA0B,UAA1B,EAAsC,IAAtC;AACAve,OAAC,CAAC4uB,IAAF,CAAO;AACLp1B,YAAI,EAAE,MADD;AAEL+D,WAAG,EAAEyC,CAAC,CAACskC,MAAD,CAAD,CAAU/9B,IAAV,CAAe,QAAf,CAFA;AAGL5O,YAAI,EAAE+2B,QAHD;AAILgqB,eAAO,EAAE5xB;AAJJ,OAAP,EAKG+H,IALH,CAKQ,UAASl1B,QAAT,EAAmB;AACzB,YAAI8+C,UAAU,GAAGz4C,CAAC,CAAC,IAAD,CAAD,CAAQoC,OAAR,CAAgB,sBAAhB,CAAjB;AACA,YAAIu2C,UAAU,GAAG34C,CAAC,CAAC,IAAD,CAAD,CAAQoC,OAAR,CAAgB,iBAAhB,CAAjB;;AACA,YAAIpC,CAAC,CAAC24C,UAAD,CAAD,CAAc92C,QAAd,GAAyBhM,MAAzB,IAAmC,CAAvC,EAA0C;AACxC;AACA+iD,yBAAe,GAAG54C,CAAC,CAAC,IAAD,CAAD,CAAQoC,OAAR,CAAgB,mBAAhB,CAAlB;AACApC,WAAC,CAAC44C,eAAD,CAAD,CAAmBC,OAAnB,CAA2B,GAA3B,EAAgC,YAAW;AACzC74C,aAAC,CAAC,IAAD,CAAD,CAAQ6L,MAAR;AACD,WAFD;AAGD,SAND,MAMO;AACL7L,WAAC,CAACy4C,UAAD,CAAD,CAAcI,OAAd,CAAsB,GAAtB,EAA2B,YAAW;AACpC74C,aAAC,CAAC,IAAD,CAAD,CAAQ6L,MAAR;AACD,WAFD;AAGD;;AACDkR,iBAAS,CAAC7B,gBAAV,CAA2Bq9B,0BAA3B;AACD,OApBD;AAqBD,KA7BD;;AA8BA,SAAKO,iBAAL,GAAyB,UAAShyB,MAAT,EAAiB;AACxC,UAAIwd,MAAM,GAAGtkC,CAAC,CAAC8mB,MAAD,CAAD,CAAU1kB,OAAV,CAAkB,yBAAlB,CAAb;AACA,UAAImiC,QAAQ,GAAGvkC,CAAC,CAACskC,MAAD,CAAD,CAAU/9B,IAAV,CAAe,SAAf,CAAf;AACA,UAAImoB,QAAQ,GAAG1uB,CAAC,CAACskC,MAAD,CAAD,CAAU3V,SAAV,EAAf;AAEA3uB,OAAC,CAAC8mB,MAAD,CAAD,CAAUlI,MAAV,CAAiB,KAAjB;AACA,WAAKy5B,cAAL;AACAt7B,eAAS,CAAC1D,OAAV,CAAkB,KAAK2+B,0BAAvB;AAEAh4C,OAAC,CAAC4uB,IAAF,CAAO;AACLp1B,YAAI,EAAE,MADD;AAEL+D,WAAG,EAAEyC,CAAC,CAACskC,MAAD,CAAD,CAAU/9B,IAAV,CAAe,QAAf,CAFA;AAGL5O,YAAI,EAAE+2B;AAHD,OAAP,EAIGG,IAJH,CAIQ,UAASl1B,QAAT,EAAmB;AACzBojB,iBAAS,CAAC7B,gBAAV,CAA2B4C,eAA3B;AACD,OAND;AAOD,KAhBD;AAiBD;;AAnH2B;AAsHvB,MAAMzC,cAAN,CAAqB;AAC1Bvf,aAAW,CAACi9C,uBAAD,EAA0B;AACnC,SAAKC,sBAAL,GAA8B,EAA9B;AACA,SAAKC,oBAAL,GAA4B,EAA5B;AACA,SAAKC,sBAAL,GAA8B,CAA9B;AACA,SAAKC,yBAAL,GAAiC,EAAjC;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,wBAAL,GAAgC,MAAMN,uBAAtC;AACA,SAAKvC,eAAL,GAAuB,EAAvB;AACA,SAAK1P,WAAL,GAAmB,CAAnB;AACA,SAAKwS,iBAAL,GAAyB,EAAzB;AACA,SAAKC,qBAAL,GAA6B;AAAEh8C,SAAG,EAAE,EAAP;AAAWxD,WAAK,EAAE,EAAlB;AAAsB5E,UAAI,EAAE,EAA5B;AAAgCqkD,aAAO,EAAE;AAAzC,KAA7B;;AAEA,SAAKC,YAAL,GAAoB,YAAW;AAC7B,WAAKH,iBAAL,GAAyB,EAAzB;AAEAt5C,OAAC,CAAC,iBAAD,CAAD,CAAqB6L,MAArB;AACA6tC,mBAAa,GACX,0FADF;AAEA15C,OAAC,CAAC,cAAD,CAAD,CAAkBD,IAAlB,CAAuB25C,aAAvB;AACA15C,OAAC,CAAC,qBAAD,CAAD,CAAyB4e,MAAzB,CAAgC,IAAhC;AACD,KARD;;AAUA,SAAKH,KAAL,GAAa,YAAW;AACtBze,OAAC,CAACq5C,wBAAD,CAAD,CAA4B16B,KAA5B;AACD,KAFD;;AAIA,SAAK6M,cAAL,GAAsB,UACpBjM,YADoB,EAEpBC,YAFoB,EAGpBm6B,eAHoB,EAIpBC,iBAJoB,EAKpBC,eALoB,EAMpB7uB,OANoB,EAOpB;AACA;AACA,UAAI8uB,aAAa,GAAGp5C,IAAI,CAACC,KAAL,CAAWktB,YAAY,CAACniB,OAAb,CAAqB,kBAArB,CAAX,CAApB;;AACA,UAAIouC,aAAa,KAAK,IAAtB,EAA4B;AAC1BA,qBAAa,GAAG,EAAhB;AACD;;AAED,UAAIrd,WAAW,GAAG,KAAlB;AACA,UAAIC,WAAW,GAAG,CAAlB;;AACA,WAAK,IAAI9mC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkD,aAAa,CAACjkD,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,YAAIkkD,aAAa,CAAClkD,CAAD,CAAb,CAAiB8J,SAAjB,IAA8B6f,YAAlC,EAAgD;AAC9Ckd,qBAAW,GAAG,IAAd;AACAC,qBAAW,GAAG9mC,CAAd;AACA;AACD;AACF;;AAED,UAAI6mC,WAAJ,EAAiB;AACfqd,qBAAa,CAAC7/C,MAAd,CAAqByiC,WAArB,EAAkC,CAAlC;AACD;;AACD,UAAIqd,cAAc,GAAG;AACnBnqC,oBAAY,EAAE+pC,eADK;AAEnB7pC,sBAAc,EAAE8pC,iBAFG;AAGnBt1C,oBAAY,EAAEu1C,eAHK;AAInBn6C,iBAAS,EAAE6f,YAJQ;AAKnB5f,iBAAS,EAAE6f,YALQ;AAMnBhmB,YAAI,EAAEwxB;AANa,OAArB;AASA8uB,mBAAa,CAACzkD,OAAd,CAAsB0kD,cAAtB;AAEAlsB,kBAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCptB,IAAI,CAAC0O,SAAL,CAAe0qC,aAAf,CAAzC;AACD,KAvCD;AAyCA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACI,SAAKE,kBAAL,GAA0B,YAAW;AACnC,UAAIC,YAAY,GAAGv5C,IAAI,CAACC,KAAL,CAAWktB,YAAY,CAACniB,OAAb,CAAqB,kBAArB,CAAX,CAAnB;;AACA,UAAIuuC,YAAY,KAAK,IAArB,EAA2B;AACzB;AACA,eAAOA,YAAY,CAAC,CAAD,CAAnB;AACD,OAHD,MAGO;AACL,eAAO,IAAP;AACD;AACF,KARD;AASD;;AA5KyB;AA8KrB,MAAMt+B,eAAN,CAAsB;AAC3B7f,aAAW,GAAG;AACZ,SAAK+qC,WAAL,GAAmB,CAAC,CAApB;AACA,SAAKqT,eAAL,GAAuB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","file":"js/app.f749681f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\tvar prefetchChunks = data[3] || [];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\tdeferredPrefetch.push.apply(deferredPrefetch, prefetchChunks);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\tif(deferredModules.length === 0) {\n \t\t\t// chunk prefetching for javascript\n \t\t\tdeferredPrefetch.forEach(function(chunkId) {\n \t\t\t\tif(installedChunks[chunkId] === undefined) {\n \t\t\t\t\tinstalledChunks[chunkId] = null;\n \t\t\t\t\tvar link = document.createElement('link');\n\n \t\t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\t\tlink.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t\t}\n \t\t\t\t\tlink.rel = \"prefetch\";\n \t\t\t\t\tlink.as = \"script\";\n \t\t\t\t\tlink.href = jsonpScriptSrc(chunkId);\n \t\t\t\t\tdocument.head.appendChild(link);\n \t\t\t\t}\n \t\t\t});\n \t\t\tdeferredPrefetch.length = 0;\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t1: 0\n \t};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [], deferredPrefetch = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"2\":\"browser\",\"3\":\"watch-player\",\"4\":\"watch-sidebar\"}[chunkId]||chunkId) + \".\" + {\"2\":\"db9f5f84\",\"3\":\"f37549d0\",\"4\":\"3ad1199b\",\"5\":\"9cb9eb8c\",\"6\":\"0c9f1253\",\"7\":\"0263afa2\",\"8\":\"5c4ee76a\",\"9\":\"64ff9210\",\"10\":\"56dded51\",\"11\":\"925d2953\",\"12\":\"da8c8821\",\"13\":\"c7b3a9bf\",\"14\":\"abb56f65\",\"15\":\"2ea28c4b\",\"16\":\"673e2d4a\",\"17\":\"6ed12edd\",\"18\":\"f7132bdf\",\"19\":\"a1d506c1\",\"20\":\"459db58c\",\"21\":\"889009ff\",\"22\":\"8742d6b2\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":1,\"11\":1,\"12\":1,\"13\":1,\"14\":1,\"15\":1,\"16\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"2\":\"browser\",\"3\":\"watch-player\",\"4\":\"watch-sidebar\"}[chunkId]||chunkId) + \".\" + {\"2\":\"b66dd300\",\"3\":\"a8834ceb\",\"4\":\"c0160071\",\"5\":\"f3ae3c0d\",\"6\":\"88d9ec2e\",\"7\":\"69d59603\",\"8\":\"607ded7d\",\"9\":\"384f3d37\",\"10\":\"bcd75b27\",\"11\":\"27f5e251\",\"12\":\"471ba56f\",\"13\":\"471ba56f\",\"14\":\"471ba56f\",\"15\":\"1436b024\",\"16\":\"354e6a5b\",\"17\":\"31d6cfe0\",\"18\":\"31d6cfe0\",\"19\":\"31d6cfe0\",\"20\":\"31d6cfe0\",\"21\":\"31d6cfe0\",\"22\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n\n \t\t// chunk preloadng for javascript\n\n \t\tvar chunkPreloadMap = {\n \t\t\t\"4\": [\n \t\t\t\t0,\n \t\t\t\t12\n \t\t\t],\n \t\t\t\"6\": [\n \t\t\t\t0,\n \t\t\t\t14\n \t\t\t],\n \t\t\t\"8\": [\n \t\t\t\t0,\n \t\t\t\t13\n \t\t\t]\n \t\t};\n\n \t\tvar chunkPreloadData = chunkPreloadMap[chunkId];\n \t\tif(chunkPreloadData) {\n \t\t\tchunkPreloadData.forEach(function(chunkId) {\n \t\t\t\tif(installedChunks[chunkId] === undefined) {\n \t\t\t\t\tinstalledChunks[chunkId] = null;\n \t\t\t\t\tvar link = document.createElement('link');\n\n \t\t\t\t\tlink.charset = 'utf-8';\n \t\t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\t\tlink.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t\t}\n \t\t\t\t\tlink.rel = \"preload\";\n \t\t\t\t\tlink.as = \"script\";\n \t\t\t\t\tlink.href = jsonpScriptSrc(chunkId);\n \t\t\t\t\tdocument.head.appendChild(link);\n \t\t\t\t}\n \t\t\t});\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin","export * from \"-!../node_modules/@quasar/app/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-2-0!../node_modules/@quasar/app/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-2-1!../node_modules/@quasar/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-2-2!../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../node_modules/@quasar/app/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import Vue from \"vue\";\n\nexport default {\n  namespaced: true,\n  state: {\n    sidebarTabs: [],\n    favorites: [],\n    notifications: null\n  },\n  mutations: {\n    RESET_SIDEBAR(ctx) {\n      // console.log(`Resetting Sidebar to default: ${JSON.stringify(ctx)}`);\n      ctx.sidebarTabs = [];\n    },\n    SET_FAVS(ctx, favs) {\n      // console.log(\"SettingFAVS:\", favs);\n      Vue.set(ctx, \"favorites\", favs);\n      // console.log('Set favs', ctx.favorites)\n    },\n    SET_NOTIFICATIONS(ctx, notes) {\n      // console.log(\"SettingNotes:\", notes);\n      if (notes) ctx.notifications = notes;\n    },\n    ADD_SB_TABS(ctx, tabs) {\n      // console.log(`Before adding tab: \\n${JSON.stringify(ctx.sidebarTabs, null, 2)}`);\n      if (tabs) {\n        tabs.forEach((tab, idx) => {\n          // console.log(`InspTab ${JSON.stringify(tab)}`);\n          const tabIdx = ctx.sidebarTabs.findIndex(x => x.name === tab.name);\n          // console.log(`Found: ${Boolean(tabIdx > -1)}`);\n          if (tabIdx == -1) {\n            tab.id = idx;\n            // console.log(`adding new: ${JSON.stringify(tab)}`);\n            ctx.sidebarTabs.unshift(tab);\n            // console.log(`After adding tab: \\n${JSON.stringify(ctx.sidebarTabs, null, 2)}`);\n            console.log();\n          }\n        }, ctx);\n      }\n    },\n    DELETE_SIDEBAR_TABS(state, arr_str_name) {\n      // console.log(`Before Removing tab: \\n${JSON.stringify(state.sidebarTabs, null, 2)}`);\n      if (Array.isArray(arr_str_name)) {\n        for (let i = 0; i < arr_str_name.length; i++) {\n          let el = arr_str_name[i];\n          let filterTabs = state.sidebarTabs.filter(tab => tab.name !== el);\n          // console.log(`filtered ${el}`);\n          Vue.set(state, \"sidebarTabs\", filterTabs);\n        }\n      } else {\n        let filterTabs = state.sidebarTabs.filter(\n          tab => tab.name !== arr_str_name\n        );\n        // console.log(\"filtered\", filterTabs);\n        Vue.set(state, \"sidebarTabs\", filterTabs);\n      }\n      // console.log(`After Removing tab: \\n${JSON.stringify(state.sidebarTabs, null, 2)}`);\n\n    },\n    FAVORITE(state, objFav) {\n      state.favorites.push(objFav);\n    },\n    UNFAVORITE(state, objFav) {\n      // console.log(state.favorites);\n      let filteredFavs = state.favorites.filter(el => el.id !== objFav.id);\n      // console.log(\"filtered\", filteredFavs);\n      Vue.set(state, \"favorites\", filteredFavs);\n      return false;\n    }\n  },\n  actions: {\n    resetSideBar(ctx) {\n      ctx.commit(\"RESET_SIDEBAR\", ctx);\n      ctx.dispatch(\"setDefaultTabs\");\n    },\n    setDefaultTabs(ctx) {\n      const tabs = [\n        {\n          name: \"Favorites\",\n          componentName: \"FavList\",\n          icon: \"favorite\",\n          iconOnly: true,\n          cmp: () => import(\"components/base/FavoritesList.vue\")\n        }\n      ];\n      // console.log(`Adding Def Tab: ${JSON.stringify(tabs)}`);\n      return ctx.commit(\"ADD_SB_TABS\", tabs);\n    },\n    addSidebarTabs: {\n      root: true,\n      handler({ commit }, tabs) {\n        // console.log(`ACT_ADD: ${JSON.stringify(tabs)}`);\n        return commit(\"ADD_SB_TABS\", tabs || []);\n      }\n    },\n    removeSidebarTabs: {\n      root: true,\n      handler({ commit }, arr_str_name) {\n        commit(\"DELETE_SIDEBAR_TABS\", arr_str_name);\n      }\n    },\n    fetchFavoritesData(ctx) {\n      return ctx.rootState.TXBA_UTILS.getFavs();\n    },\n    fetchNotificationData(ctx) {\n      return ctx.rootState.TXBA_UTILS.getNotification();\n    },\n    async fetchFavorites(ctx) {\n      await ctx\n        .dispatch(\"fetchFavoritesData\")\n        .then(data => ctx.commit(\"SET_FAVS\", data));\n    },\n    async fetchNotifications(ctx) {\n      await ctx\n        .dispatch(\"fetchNotificationData\")\n        .then(data => ctx.commit(\"SET_NOTIFICATIONS\", data));\n    },\n    toggleFavorite({ commit, getters }, fav) {\n      const isFav = getters.isFavorite(fav);\n      console.log(\"isFav\", isFav, fav);\n      if (isFav) {\n        console.log(\"unfav\", fav);\n        commit(\"UNFAVORITE\", fav);\n      } else {\n        console.log(\"fav\", fav);\n        commit(\"FAVORITE\", fav);\n\n      }\n    },\n    addFavorite({ commit }, fav) {\n      commit(\"FAVORITE\", fav);\n    },\n    removeFavorite({ commit }, fav) {\n      commit(\"UNFAVORITE\", fav);\n    },\n    initStore: ctx => {\n      ctx.dispatch(\"fetchFavorites\");\n      ctx.dispatch(\"fetchNotifications\");\n      ctx.dispatch(\"resetSideBar\");\n    }\n  },\n  getters: {\n    getRequest( { state, commit, rootState, rootGetters } ) {\n      // console.dir( state )\n      // console.dir( commit )\n      // console.dir( rootState )\n      // console.dir( rootGetters )\n      return state\n    },\n    getFavsByType: state => {\n      let collector = {};\n      state.favorites.forEach(el => {\n        if (Object.keys(collector).includes(el.src)) {\n          collector[el.src].push(el);\n        } else {\n          collector[el.src] = [el];\n        }\n      });\n      // console.log(collector);\n      return collector;\n    },\n    isFavorite: state => favorite => {\n      // favorite = JSON.parse(favorite);\n      return state.favorites.filter(fav => fav.id === favorite.id).length > 0;\n    },\n    getAnnouncements: ctx => ctx.notifications?.announcements || [],\n    getUpdates: ctx => ctx.notifications?.updates || [],\n    loaded: ctx =>\n      ctx.notifications?.announcements.length > 0 ||\n      ctx.notifications?.updates ||\n      false\n  }\n};\n","// import Vue from \"vue\";\nimport axios from \"axios\";\nexport default {\n  namespaced: true,\n  state: {\n    bacon: null\n  },\n  mutations: {\n    SET_BACON_DATA(ctx, data) {\n      ctx.bacon = data;\n    }\n  },\n  actions: {\n    async fetchBaconData() {\n      return axios.get(\"https://baconipsum.com/api/?callback=?\", {\n        type: \"meat-and-filler\",\n        \"start-with-lorem\": \"1\",\n        paras: \"10\"\n      });\n    },\n    async fetchBacon(ctx) {\n      return ctx.dispatch(\"fetchBaconData\").then(response => {\n        const newData = response.data.map((info, idx) => {\n          return {\n            id: \"bit_\" + idx,\n            title: info\n              .split(\" \")\n              .splice(0, 3)\n              .join(\" \")\n              .toUpperCase(),\n            data: info\n              .split(\" \")\n              .splice(3)\n              .join(\" \")\n          };\n        });\n        // console.log(\"obj\", newData);\n        ctx.commit(\"SET_BACON_DATA\", newData);\n        return newData;\n      });\n    },\n    initStore: ctx => ctx.dispatch(\"fetchBacon\")\n  },\n  getters: {\n    getBacon: state => state.bacon,\n    getSliceBacon(state) {\n      if (state.bacon?.length) return state.bacon[Math.floor(Math.random() * state.bacon.length)]\n      return \"\"\n    }\n  }\n};\n","import camelCase from \"lodash/camelCase\";\n\nconst requireModule = require.context(\".\", false, /\\.js$/); //extract js files inside modules folder\nconst modules = {};\n\nrequireModule.keys().forEach(fileName => {\n  if (fileName === \"./index.js\") return; //reject the index.js file\n\n  const moduleName = camelCase(fileName.replace(/(\\.\\/|\\.js)/g, \"\")); //\n\n  modules[moduleName] = requireModule(fileName).default;\n});\nexport default modules;\n","/**\n * THIS FILE IS GENERATED AUTOMATICALLY.\n * DO NOT EDIT.\n *\n * You are probably looking on adding startup/initialization code.\n * Use \"quasar new boot <name>\" and add it there.\n * One boot file per concern. Then reference the file(s) in quasar.conf.js > boot:\n * boot: ['file', ...] // do not add \".js\" extension to it.\n *\n * Boot files are your \"main.js\"\n **/\n\nimport lang from 'quasar/lang/en-us'\n\nimport iconSet from 'quasar/icon-set/material-icons'\n\n\nimport Vue from 'vue'\n\nimport {Quasar,Notify,Dialog,LocalStorage} from 'quasar'\n\n\nVue.use(Quasar, { config: {\"dark\":true,\"brand\":{\"primary\":\"#555555\",\"secondary\":\"#0099ff\",\"accent\":\"#ef6c00\",\"dark\":\"#1d1d1d\",\"positive\":\"#21BA45\",\"negative\":\"#C10015\",\"info\":\"#31CCEC\",\"warninng\":\"#f2c037\"}},lang: lang,iconSet: iconSet,plugins: {Notify,Dialog,LocalStorage} })\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-column h-100\",attrs:{\"id\":\"q-app\"}},[_c('div',{staticClass:\"container flex-grow-1\"},[_c('div',{staticClass:\"mt-5\"},[_c('router-view',{key:_vm.$route.fullPath})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"q-app\" class=\"d-flex flex-column h-100\">\n  <div class=\"container flex-grow-1\">\n      <div class=\"mt-5\">\n    <router-view :key=\"$route.fullPath\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nexport default {\n  mounted() {\n    this.handleAuthStateChange()\n  },\n  methods: {\n    ...mapActions('auth', ['handleAuthStateChange'])\n  }\n};\n</script>\n\n<style>\n/* @import 'https://fonts.googleapis.com/css?family=Oswald' */\n* {\n    font-family: \"Oswald\",\"Open Sans\",\"Lucida Grande\",\"Lucida Sans Unicode\",Helvetica,Sans-Serif  ;\n\n}\n</style>","import mod from \"-!../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../node_modules/@quasar/app/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../node_modules/@quasar/app/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=46253381&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@quasar/app/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\n\nconst cheerio = require(\"cheerio\");\n\nexport default class TXBA_Utilities {\n  constructor() {\n    this.baseURL = \"https://texasbluesalley.com/proplayer74-tony/\";\n    this.default_entries_slug = \"--ajax-browser-default-entries\";\n    this.notification_slug = \"--ajax-load-default-page\";\n    this.favorites_slug = \"--ajax-load-favorites-list\";\n    this.filter_slug = \"--ajax-browser-filters\";\n    this.package_slug = \"--ajax-get-package-info\";\n    this.search_slug = \"--ajax-browser-search-entries\";\n    this.member_loops_slug = \"--ajax-get-segment-user-loops\";\n    this.segment_slug = \"--ajax-get-segment-info\";\n    this.load_media_slug = \"--ajax-load-media\";\n    this.load_vimeo_slug = \"/--ajax-load-media/vimeo/\";\n    this.load_comments_slug = \"/--ajax-load-comments/\";\n    this.slug_code = {\n      pro_player_packages:\n        \"wcm9fcGxheWVyX3BhY2thZ2VzXC8iLCJjaGFubmVsIjoicHJvX3BsYXllcl9wYWNrYWdlcyJ9\",\n      free_lesson_friday:\n        \"mcmVlX2xlc3Nvbl9mcmlkYXlcLyIsImNoYW5uZWwiOiJmcmVlX2xlc3Nvbl9mcmlkYXkifQ\",\n      tone_tuesday: \"0b25lX3R1ZXNkYXlcLyIsImNoYW5uZWwiOiJ0b25lX3R1ZXNkYXkifQ\",\n      performances: \"wZXJmb3JtYW5jZXNcLyIsImNoYW5uZWwiOiJwZXJmb3JtYW5jZXMifQ\",\n      backing_tracks:\n        \"iYWNraW5nX3RyYWNrc1wvIiwiY2hhbm5lbCI6ImJhY2tpbmdfdHJhY2tzIn0\",\n      youtube_videos:\n        \"5b3V0dWJlX3ZpZGVvc1wvIiwiY2hhbm5lbCI6InlvdXR1YmVfdmlkZW9zIn0\",\n      refiner: \"mcmVlX2xlc3Nvbl9mcmlkYXlcLyJ9\"\n    };\n    //mcmVlX2xlc3Nvbl9mcmlkYXlcLyIsImNoYW5uZWwiOiJmcmVlX2xlc3Nvbl9mcmlkYXki LCJ0YWdfaWQ6NiI6Ijg2In0;\n\n    this.favs = [];\n  }\n\n  async getAsyncData ( slug, callback, useBase = true ) {\n    if ( slug ) {\n      console.log(slug, callback?.name, useBase)\n      const url = `${useBase ? this.baseURL : ''}${slug}`;\n      return await axios\n        .get( url )\n        .then( async response => await response.data )\n        .then( data => ( callback ? callback.call( this, data ) : data ) )\n        .catch( err => {\n          // console.log(err);\n          return err;\n        } );\n    }\n    return null\n  }\n\n  async postAsyncData(params) {\n    return axios({\n      method: \"post\",\n      url: \"https://texasbluesalley.com/\",\n      data: new URLSearchParams(params),\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" }\n    })\n      .then(response => {\n        // console.log(\"response\", response);\n        return response;\n      })\n      .catch(function(response) {\n        console.log(response);\n        return response;\n      });\n  }\n  async getFavs(id) {\n    let url = `${this.favorites_slug}/${id ? id : \"\"}`\n    return this.getAsyncData(url, this.parseFavoriteHtml);\n  }\n\n  getNotification() {\n    return this.getAsyncData(\n      this.notification_slug,\n      this.parseNotificationHtml\n    );\n  }\n\n  getMemberLoops(segID) {\n    return this.getAsyncData(`${this.member_loops_slug}/${segID}`);\n  }\n\n  getUserSegment(segID) {\n    return this.getAsyncData(`${this.segment_slug}/${segID}`);\n  }\n\n  async getDefaultSearchEntries() {\n    return this.getAsyncData(\n      this.default_entries_slug,\n      this.parseSearchResults\n    );\n  }\n\n  async getSearchEntries(category, auth, url) {\n    category = category === \"courses\" ? \"pro_player_packages\" : category;\n    let endOfAuthString = \"nRyaWVzXC9\";\n    let trimPoint =\n      -1 *\n      (auth.length - (auth.indexOf(endOfAuthString) + endOfAuthString.length));\n    auth = auth.slice(0, trimPoint);\n    let slug = url\n      ? url\n      : `${this.search_slug}/${category}/${auth}${this.slug_code[category]}`;\n    return this.getAsyncData(slug).then(data => this.parseSearchResults(data));\n  }\n  async getSearchFiltersByCategory(code) {\n    return this.getAsyncData(`${this.filter_slug}/${code}`, this.parseCriteria);\n  }\n\n  async getPackage(ID) {\n    // console.log('id', ID)\n    if (!ID) return ID;\n    const response = await axios.get(\n      `${this.baseURL}${this.package_slug}/${ID}`\n    );\n    let pkg = await await response.data;\n    pkg.playSections = this.parseSections(pkg.sections, pkg.packageImage);\n    // console.log(\"pack\", pkg);\n    return pkg;\n  }\n\n  async getSegment(ID) {\n    let slug = `${this.segment_slug}/${ID}`;\n    // console.log('getSeg', slug)\n    return this.getAsyncData(slug);\n  }\n\n  async getComments(packageID, segmentID) {\n    const slug = `${this.load_comments_slug}/?package_id=${packageID}&segment_id=${segmentID}&author=no`;\n    return this.getAsyncData(slug, this.parseCommentHtml);\n    return this.parseCommentHtml(this.getCommentString(1));\n  }\n\n  async loadMedia(slug, info) {\n    const html = await this.getAsyncData(`${slug}`);\n    const $ = cheerio.load(html);\n    const text = $(\"script\").html();\n    // return html\n    const matchX = text.match(/var videoData = (.*);/);\n    if (!matchX) return info;\n    let strVidData = matchX[1];\n    // replace single with double quotes\n    strVidData = strVidData.replace(/'/g, '\"');\n    //match any variables (alphanumeric) that end with a colon :, but will ingore any matches that are found between quotes (i.e. data string values)\n    strVidData = strVidData.replace(/([^\"]+)|(\"[^\"]+\")/g, function($0, $1, $2) {\n      if ($1) {\n        // Replace property names with quotes\n        return $1.replace(/([a-zA-Z0-9]+?):/g, '\"$1\":');\n      } else {\n        return $2;\n      }\n    });\n    strVidData = strVidData.replace(\"},]\", \"}]\");\n    // console.dir(\"loadingMedia\", JSON.parse(strVidData), info);\n    var objReturn = JSON.parse(strVidData);\n    // if (typeof(info.data) !== 'undefined') objReturn = Object.assign({}, info, objReturn, info)\n    return objReturn;\n  }\n  parseCommentHtml(strComments, lvl = null) {\n    const $ = cheerio.load(strComments);\n    // console.log(\"cHTML\", $(\"body\").html());\n    lvl = $(\".cmts-list > #no-questions\").length > 0;\n    var objComment = this.parseComments(strComments);\n    console.log(\"aft parse\", objComment);\n    return objComment.list ? objComment : strComments;\n  }\n\n  parseComments(str) {\n    const $ = cheerio.load(str, {\n      withDomLvl1: true,\n      normalizeWhitespace: true\n    });\n    var lvl = 0;\n    var self = this;\n    var list = [];\n\n    var notice = $(\"strong\").html() || \"NO SCREENNAME\";\n    if ($(\"#no-questions\").length === 0) {\n      // console.log(\"objlist\", objList);\n      // loop all levels\n      do {\n        var objList = $(`.level-${lvl} > .cmt-inner`);\n        console.log(\"generating level-\" + lvl);\n        objList.each(function(idx, itm) {\n          list = self.assembleCommentObject($(itm), list);\n          // console.log(lvl, idx, $($(itm).closest(\"li\")).html());\n        });\n        lvl++;\n        // console.log(\"testing level-\" + lvl);\n        var next = $(`.level-${lvl} > .cmt-inner`).length > 0;\n        // var next = lvl > -1;\n        // console.log(\"next\", next, lvl);\n      } while (next);\n    }\n\n    return {\n      notice: notice,\n      // list: list\n      // list: this.groupByReplyDate(list, \"day\")\n      list: this.groupArrayOfObjects(list, \"day\")\n    };\n  }\n\n  groupByReplyDate(list) {\n    for (var i = 0; list.length; i++) {\n      list[i].children.sort(function(a, b) {\n        return a.date - b.date;\n      });\n    }\n    return list;\n  }\n  assembleCommentObject(itm, list) {\n    const $ = cheerio;\n    // get parent data info\n    var objItm = Object.assign(\n      {},\n      $(itm)\n        .closest(\".cmt-wrapper\")\n        .data()\n    );\n    objItm.epoch = objItm.date;\n    objItm.children = [];\n    const dateFmts = this.getDateFormats(objItm.epoch);\n    objItm.text = [\n      $(itm)\n        .find(\".cmt-text\")\n        .text()\n        .trim()\n        .replace(/\\s{2,40}/g, \" \")\n    ];\n    objItm.user = $(itm)\n      .find(\".author-name\")\n      .text()\n      .trim();\n    // .replace(/\\s{2,40}/g, \" \");\n    objItm.relativeDate = $(itm)\n      .find(\".cmt-date\")\n      .text()\n      .trim();\n    // .replace(/\\s{2,40}/g, \" \");\n    objItm.date = dateFmts.date;\n    objItm.day = dateFmts.day;\n    objItm.time = dateFmts.time;\n    // console.log(\"lvl\", objItm.level);\n    if (objItm.level > 0) {\n      // find parent and add to parent's children\n      const found = list.find(o => o.commentId === objItm.parentId);\n      found.children.push(objItm);\n      // console.log(`parent found`, found);\n    } else {\n      list.push(objItm);\n    }\n    return list;\n  }\n  parseSections(sections, poster) {\n    const newSections = [];\n    sections.forEach(section => {\n      // remove unnecessary segment entries (= \"\")\n      const testSegments = section.segments.map(segment => {\n        return Object.entries(segment).reduce((relevant, [k, v]) => {\n          if (v !== \"\") relevant[k] = v;\n          return relevant;\n        }, {});\n      });\n\n      // filter segs without Filename or Code in the keys\n      const segments = testSegments.filter(segment =>\n        Object.keys(segment).some(function(k) {\n          return ~k.indexOf(\"Filename\") || ~k.indexOf(\"Code\");\n        })\n      );\n      const newSection = {\n        sectionTitle: section.sectionTitle,\n        sectionID: section.sectionID,\n        segments: segments.map(seg => {\n          let segData = this.parseSegmentData(seg);\n          let tmp = {\n            title: seg.segmentTitle,\n            id: seg.segmentID,\n            poster: poster\n          };\n          let whole = Object.assign({}, tmp, segData);\n          // console.log('compare', tmp, whole)\n          return whole;\n        })\n      };\n\n      newSections.push(newSection);\n    });\n    return newSections;\n  }\n  parseSegmentData(seg) {\n    let type = {};\n    if (this.objectHaveKeyLike(seg, \"Vimeo\"))\n      type = {\n        \"webkit-playsinline\": true,\n        playsinline: true,\n        allowfullscreen: true,\n        type: \"vimeo\",\n        sources: [\n          {\n            type: \"vimeo\",\n            src: seg.segmentVimeoCode\n          }\n        ],\n        color: \"accent\"\n      };\n    if (this.objectHaveKeyLike(seg, \"YouTube\"))\n      type = {\n        sources: [\n          {\n            type: \"video/youtube\",\n            src: seg.segmentYouTubeCode //&html5=true`,\n          }\n        ],\n        type: \"youtube\",\n        \"webkit-playsinline\": true,\n        playsinline: true,\n        preload: \"none\",\n        color: \"red\"\n      };\n    if (this.objectHaveKeyLike(seg, \"MP3\"))\n      type = {\n        controls: true,\n        type: \"audio\",\n        playsinline: true,\n        sources: [\n          {\n            type: \"audio\",\n            src: `https://cdn.texasbluesalley.com/audio/${seg.segmentMP3Filename}`\n          }\n        ],\n        color: \"teal\"\n      };\n    if (this.objectHaveKeyLike(seg, \"SoundSlice\"))\n      type = {\n        type: \"soundslice\",\n        sources: [\n          {\n            src: seg.segmentSoundSliceCode,\n            type: \"soundslice\"\n          }\n        ],\n        color: \"blue\"\n      };\n    if (this.objectHaveKeyLike(seg, \"PDF\"))\n      type = {\n        sources: [\n          {\n            src: `https://texasbluesalley.com/includes/pdfjs/web/viewer.html`, //?file=/assets/pdfs/${seg.segmentPDFCode}`,\n            type: \"pdf\"\n          }\n        ],\n        type: \"pdf\",\n        color: \"yellow\"\n      };\n    if (this.objectHaveKeyLike(seg, \"GPX\"))\n      type = {\n        type: \"pdf\",\n        sources: [\n          {\n            type: \"gpx\",\n            src: seg.segmentGPXFilename\n          }\n        ],\n        color: \"purple\"\n      };\n    type.to = seg.segmentID;\n    return type;\n  }\n  parseURL(clickString) {\n    clickString = clickString.slice(\n      clickString.indexOf(\"https\"),\n      clickString.indexOf(\"')\")\n    );\n    // console.log(clickString);\n    return clickString;\n  }\n  parseIdx(clickString) {\n    /**\n     *  purpose: Parse packageID from html source (ex. thePlayer.openUnknownPackageType({ 'packageID': '9009', 'type': 'entry'}, true); return false;)\n     */\n    clickString = clickString.replace(/'/g, '\"');\n    const pkg = JSON.parse(clickString.match(/\\{([^}]+)\\}/g));\n    pkg.packageID = parseInt(pkg.packageID);\n    return pkg;\n  }\n  parseFavoriteHtml(html) {\n    const $ = cheerio.load(html);\n    // const favHtml = $(\".accordion-title\");\n    const favHtml = $(\"#favoritesListAccordion\");\n    // console.log(\n    //   favHtml.length > 0 ? \"Loading Live Favs\" : \"Loading Mock Fav Data\"\n    // );\n    return this.parseFavoriteData(\n      favHtml.length > 0 ? favHtml : this.fakeFavHTML()\n    );\n  }\n  parseFavoriteData(group) {\n    const html = group.html();\n    // console.log(\"Favshtml\", group);\n    const collection = [];\n    const $ = cheerio.load(html);\n    group.each((idx, e) => {\n      let title = $(e)\n        .text()\n        .split(\" \")[0]\n        .trim();\n      // this.favs[title] = [];\n      let items = $(e)\n        .parent()\n        .find(\".sidebar-list li\");\n      items.each((index, val) => {\n        // console.log(\"val\", $(val).find(\".sidebar-list-item-link\").text())\n        const itm = {\n          id: $(val)\n            .find(\"form\")\n            .data(\"id\"),\n          title: $(val)\n            .find(\".sidebar-list-item-link\")\n            .text(),\n          src: title\n          //subtitle: $(e).find(\".notification-body p\").text(),\n        };\n        // console.log(\"item\", itm);\n        collection.push({\n          ...itm\n        });\n      });\n    });\n    return collection;\n  }\n  parseNotificationHtml(html) {\n    const $ = cheerio.load(html);\n    let announcements = $(\"#announcements li\");\n\n    let updates = $(\"#course-updates li.notification\");\n    announcements = announcements.length\n      ? this.parseNotificationData(announcements)\n      : [];\n    updates = updates.length ? this.parseNotificationData(updates) : [];\n\n    // console.log(\"notes\", announcements, updates);\n    return {\n      announcements: announcements,\n      updates: updates\n    };\n  }\n\n  parseNotificationData(group) {\n    // console.log(group);\n    const html = group.html();\n    // console.log(\"html\", html);\n    const $ = cheerio.load(html);\n    let collection = [];\n    group.each((idx, e) => {\n      const itm = {\n        id: idx,\n        title: $(e)\n          .find(\".notification-title span\")\n          .text(),\n        subtitle: $(e)\n          .find(\".notification-body p\")\n          .text(),\n        actionText: $(e)\n          .find(\".notification-body a\")\n          .text(),\n        action: $(e)\n          .find(\".notification-body a\")\n          .attr(\"href\")\n      };\n      collection.push({\n        ...itm\n      });\n    });\n    // console.log(\"col\", collection);\n    return collection;\n  }\n\n  async parseSearchResults(html) {\n    // if (html) console.info(\"searchHTML\", html);\n    const $ = cheerio.load(html);\n    const defaultSearch = $(\".browser-result-wrapper>h5\").length > 0;\n    // console.log(\"defaultSearch\", defaultSearch);\n    return {\n      filters: this.parseSearchFilters(\n        $(\".browser-result-wrapper\"),\n        defaultSearch\n      ),\n      pages: this.parsePagination($(\"div[id$=WrapperTop] ul li\"))\n    };\n  }\n\n  parsePagination(group) {\n    const html = group.html();\n    if (!html) return [];\n    // console.log(\"html\", html);\n    const $ = cheerio.load(html);\n    let collection = [];\n    group.each((idx, e) => {\n      const lnk = $(e).find(\"a\");\n      collection.push({\n        url: this.parseURL(lnk.attr(\"onclick\")),\n        class: lnk.attr(\"class\"),\n        content: lnk.text(),\n        icon: $(e)\n          .find(\"a > i\")\n          .attr(\"class\")\n      });\n    });\n    // console.log(\"col\", collection);\n    return collection;\n  }\n  parseSearchFilters(group, defaultSearch = false) {\n    // console.trace(\"gfi:group\", group)\n    let collection = defaultSearch ? {} : [];\n    let section = \"\";\n    const html = group.html();\n    if (group.length < 1) {\n      throw \"No HTML to parse\";\n    }\n    // console.info(\"html\", html)\n    const $ = cheerio.load(html);\n    group.each((idx, e) => {\n      if (defaultSearch && typeof e.attribs.id === \"undefined\") {\n        section = $(e)\n          .find(\"h5\")\n          .text();\n        collection[section] = [];\n      } else {\n        const pkg = this.parseIdx(\n          $(e)\n            .find(\".browser-result-image a\")\n            .attr(\"onclick\")\n        );\n        // console.log('pkg', pkg)\n        const itm = {\n          id: pkg.packageID,\n          type: pkg.type,\n          src: pkg.type === \"entry\" ? \"Courses\" : pkg.type,\n          avatar: $(e)\n            .find(\"img\")\n            .attr(\"src\"),\n          title: $(e)\n            .find(\".browser-result-title a\")\n            .text()\n            .trim(),\n          subtitle: $(e)\n            .find(\".browser-result-description\")\n            .text()\n            .trim(),\n          data: $(e)\n            .find(\".browser-result-meta\")\n            .html()\n            .trim()\n        };\n        // console.log(\"item\",itm);\n        if (defaultSearch) {\n          collection[section].push({\n            ...itm\n          });\n        } else {\n          collection.push({ ...itm });\n        }\n      }\n    });\n    // console.log(\"col\", collection);\n    return collection;\n  }\n  parseCriteria(html) {\n    const $ = cheerio.load(html);\n    let hiddenFields = this.parseHiddenData($(\".hiddenFields input\"));\n    // console.log(\"hiddenFields\", hiddenFields);\n    let funnelList = this.parseFunnels($(\".filter-list\"));\n    // console.log(funnelList)\n\n    return {\n      auth: hiddenFields,\n      funnels: funnelList.collection,\n      status: funnelList.status\n    };\n  }\n\n  parseHiddenData(group) {\n    // console.log(\"grp\", group)\n    const $ = cheerio.load(group.html());\n    const collection = {};\n    group.each((idx, e) => {\n      collection[$(e).attr(\"name\")] = $(e).attr(\"value\");\n    });\n    return collection;\n  }\n\n  parseFunnels(group) {\n    // console.log('group', group)\n    const $ = cheerio.load(group.html());\n    const status = {};\n    const collection = {};\n    group.each((idx, e) => {\n      let section = $(e).data();\n      // console.log(`Section: ${JSON.stringify(section)}`)\n      collection[section.sectionId] = section;\n      collection[section.sectionId][\"tags\"] = [];\n      collection[section.sectionId][\"chips\"] = [];\n      $(e)\n        .find(\".filter-checkbox\")\n        .each((i, itm) => {\n          const syncName = `${section.sectionId}__${itm.attribs.id}`;\n          const { chips, tags, ...rest } = section;\n          // console.log(rest)\n          const chip = {\n            sync: syncName,\n            id: itm.attribs.id,\n            name: itm.attribs.name,\n            value: itm.attribs.value,\n            group: rest,\n            text: $(itm)\n              .next()\n              .text()\n          };\n          collection[section.sectionId].chips.push(chip);\n          collection[section.sectionId].tags.push(chip.text);\n          status[chip.sync] = false;\n        });\n    });\n    return {\n      status: status,\n      collection: collection\n    };\n  }\n\n  isFav(packageID) {\n    var found = false;\n    var foundException = {};\n    try {\n      Object.entries(this.favs).forEach(key => {\n        const result = key[1].filter(({ id }) => id === packageID);\n        found = typeof result[0] === \"object\";\n        if (found) throw foundException;\n      });\n    } catch (error) {\n      if (error !== foundException) throw foundException;\n    }\n\n    return found;\n  }\n  objectHaveKeyLike(obj, testString) {\n    return Object.keys(obj).some(key => {\n      return ~key.indexOf(testString);\n    });\n  }\n\n  groupArrayOfObjects(list, key) {\n    return list.reduce(function(rv, x) {\n      (rv[x[key]] = rv[x[key]] || []).push(x);\n      return rv;\n    }, {});\n  }\n\n  epochToHuman(epoch, fmt) {\n    var returnDate,\n      myDate = new Date(Number(epoch) * 1000);\n    switch (fmt) {\n      case \"day\":\n        returnDate = myDate.toLocaleDateString();\n        break;\n      case \"time\":\n        returnDate = myDate.toLocaleTimeString([], {\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n          hour12: false\n        });\n        break;\n      default:\n        returnDate = myDate.toGMTString();\n    }\n    return returnDate;\n  }\n  getDateFormats(epoch) {\n    return {\n      date: this.epochToHuman(epoch),\n      day: this.epochToHuman(epoch, \"day\"),\n      time: this.epochToHuman(epoch, \"time\")\n    };\n  }\n  fakeFavHTML() {\n    //#region\n\n    const favhtml = `\t\t\t\t\t\n\t\t\t\t\t\t\t\n\n\n\n\t<ul class=\"accordion sidebar-accordion\" id=\"favoritesListAccordion\" data-accordion data-allow-all-closed=\"true\" data-multi-expand=\"false\">\n\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<li class=\"accordion-item is-active\" data-accordion-item>\n\t\t\t\t\t\t<a class=\"accordion-title\">Courses <sup>9</sup></a>\n\t\t\t\t\t\t<div class=\"accordion-content\" data-tab-content>\n\t\t\t\t\t\t\t<ul class=\"sidebar-list\">\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('4253', true); return false;\">Texas Blues Speed Workshop - Level 1</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-4253\" data-id=\"4253\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413275\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('7766', true); return false;\">Clapton&#8217;s Influence: Worried Mind</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-7766\" data-id=\"7766\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413276\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('4302', true); return false;\">5 Boxes Essential Licks (2nd Edition)</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-4302\" data-id=\"4302\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413277\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('4272', true); return false;\">Thanksgiving Ballad 2014</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-4272\" data-id=\"4272\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413278\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('5285', true); return false;\">Clapton&#8217;s Influence: Crossroad Blues w/Bonus</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-5285\" data-id=\"5285\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413279\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('4304', true); return false;\">5 Essential Blues Boxes</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-4304\" data-id=\"4304\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413280\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('4250', true); return false;\">Essential Fretboard</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-4250\" data-id=\"4250\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413281\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('4300', true); return false;\">The Grip</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-4300\" data-id=\"4300\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413282\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('4252', true); return false;\">Texas Blues Speed Workshop - Level 2</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-4252\" data-id=\"4252\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413283\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<li class=\"accordion-item \" data-accordion-item>\n\t\t\t\t\t\t<a class=\"accordion-title\">Imported\t <sup>42</sup></a>\n\t\t\t\t\t\t<div class=\"accordion-content\" data-tab-content>\n\t\t\t\t\t\t\t<ul class=\"sidebar-list\">\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('10818', true); return false;\">Lenny Kravitz - Always On The Run (Guitar Tutorial)</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-10818\" data-id=\"10818\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413284\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('10971', true); return false;\">Unplugged Acoustic Blues Guitar Lesson (Part 2) - Play the blues by yourself on guitar - EP305</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-10971\" data-id=\"10971\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413285\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('10999', true); return false;\">How to play - Tito &amp; Tarantula - After Dark, easy guitar lesson (FULL+SOLO)</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-10999\" data-id=\"10999\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413286\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('11616', true); return false;\">How To Solo Over 'Little Wing': 4 Levels - Beginner to Advanced Guitar</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-11616\" data-id=\"11616\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413287\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('11136', true); return false;\">Just The Two Of Us  3 Levels - 001</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-11136\" data-id=\"11136\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413288\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('11141', true); return false;\">EASY GUITAR LESSON | ENTER SANDMAN by Metallica</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-11141\" data-id=\"11141\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413289\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('9884', true); return false;\">It's Easy to Play Fast | 10 Speedy but Simple Licks | Guitar Lesson</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-9884\" data-id=\"9884\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413290\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('9768', true); return false;\">Acoustic Blues Guitar Lesson - 1 Bar Licks And Phrases With Chords For Beginners Or Intermediates</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-9768\" data-id=\"9768\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413291\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('9787', true); return false;\">Jamming Alone - Using 2 Bar Phrases With The Slow Blues In E Groove (Part 2 Of A Series)</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-9787\" data-id=\"9787\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413292\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('9508', true); return false;\">Tennessee Whiskey - Guitar Lesson -Chris Stapleton - Intro/Rhythm/Solo w/tabs</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-9508\" data-id=\"9508\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413293\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('9509', true); return false;\">Tennessee Whiskey Guitar Lesson - Chris Stapelton</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-9509\" data-id=\"9509\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413294\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('9271', true); return false;\">Let It Be Guitar Tutorial - The Beatles Guitar Lesson |Easy Chords + Solo + Guitar Cover|</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-9271\" data-id=\"9271\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413295\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('8511', true); return false;\">Slow Blues Jam | Sexy Guitar Backing Track</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-8511\" data-id=\"8511\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413296\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('8513', true); return false;\">Eric Clapton Style Acoustic Blues Guitar Lesson !</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-8513\" data-id=\"8513\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413297\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('8552', true); return false;\">How To Play Breakdown (and then...) by Rowland S Howard - Guitar Lesson</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-8552\" data-id=\"8552\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413298\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('8732', true); return false;\">Acoustic Blues Guitar Lesson - Open Positon E Run and Licks</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-8732\" data-id=\"8732\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413299\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('8875', true); return false;\">How to play Smoke On The Water by Deep Purple (Rock Guitar Lesson SB-311)</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-8875\" data-id=\"8875\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413300\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('8955', true); return false;\">Stevie Ray Vaughn - Life By The Drop (Opening Lick) Guitar Lesson - Acoustic Blues</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-8955\" data-id=\"8955\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413301\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('9118', true); return false;\">How to Play like Chicago Blues Legend Magic Sam</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-9118\" data-id=\"9118\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413302\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('8054', true); return false;\">Sleepwalk - Bass cover</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-8054\" data-id=\"8054\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413303\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('7949', true); return false;\">Get Deep with some Funky Texas Style Acoustic Blues | Tuesday Blues 126</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-7949\" data-id=\"7949\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413304\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('7953', true); return false;\">How To Play Billy Strings' Dust In A Baggie - Advanced Bluegrass Guitar Lesson</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-7953\" data-id=\"7953\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413305\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('7959', true); return false;\">Sleepwalk Bass Tutorial</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-7959\" data-id=\"7959\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413306\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('7863', true); return false;\">Wish You Were Here Guitar Lesson - Pink Floyd Complete Guitar Tutorial |Chords + Solos + TAB|</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-7863\" data-id=\"7863\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413307\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6387', true); return false;\">how to play &quot;Over the Hills and Far Away&quot; on guitar by &quot;Led Zeppelin&quot; - acoustic guitar lesson</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6387\" data-id=\"6387\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413308\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('7147', true); return false;\">The Black Keys Thickfreakness Guitar Lesson</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-7147\" data-id=\"7147\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413309\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('7155', true); return false;\">30 Hot Rod Guitar Licks - #4 Hot Rod - Bill Kirchen</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-7155\" data-id=\"7155\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413310\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6964', true); return false;\">Man of Constant Sorrow | Guitar Lesson Tutorial</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6964\" data-id=\"6964\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413311\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6907', true); return false;\">ZZ Top - Jesus Just Left Chicago (Bass cover with tabs)</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6907\" data-id=\"6907\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413312\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6796', true); return false;\">Kelly Valleau - Havana (Camila Cabello) - Fingerstyle Guitar</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6796\" data-id=\"6796\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413313\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6777', true); return false;\">Darren Watson | FREE BLUES GUITAR LESSON | Delta Blues Fingerstyle Lesson</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6777\" data-id=\"6777\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413314\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6610', true); return false;\">How to play Have you ever Seen the Rain - Creedence Clearwater Revival / GuiTabs Guitar Lesson</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6610\" data-id=\"6610\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413315\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6605', true); return false;\">Jimmy Brown show us how to play Led Zepplin Immigrant Song</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6605\" data-id=\"6605\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413316\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6521', true); return false;\">how to play Angie on guitar by the Rolling Stones - acoustic guitar lesson_tutorial</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6521\" data-id=\"6521\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413317\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6549', true); return false;\">The Easiest Blues on Acoustic Guitar | Beginner Friendly</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6549\" data-id=\"6549\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413318\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6522', true); return false;\">John Mayer Gives Blues Guitar Lesson (2018)</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6522\" data-id=\"6522\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413319\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6552', true); return false;\">Patience  - Guns N Roses / MusikMan #056</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6552\" data-id=\"6552\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413320\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6547', true); return false;\">Blues BASS LESSON with TAB - 12 Bar Bass Lines in A (including Turnarounds)</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6547\" data-id=\"6547\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413321\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6350', true); return false;\">Cornell Dupree Hot Licks Full VHS</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6350\" data-id=\"6350\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413322\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6349', true); return false;\">Ghost Riders in the Sky: Guitar Cover, The Outlaws, Full Song</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6349\" data-id=\"6349\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413323\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6371', true); return false;\">Lil Nas X - Old Town Road ft. Billy Ray Cyrus [Remix Instrumental]</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6371\" data-id=\"6371\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413324\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t<li class=\"sidebar-list-item button play \">\n\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-link\" onClick=\"thePlayer.openPackage('6159', true); return false;\">50 Texas Blues Licks - #19 Double Stop Lenny - Guitar Lesson - Corey Congilio</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form action=\"https://texasbluesalley.com/?ACT=330\" accept-charset=\"utf-8\" id=\"submitFavorite-6159\" data-id=\"6159\" data-action=\"remove\" class=\"submitFavoriteForm\" method=\"post\"><div style=\"display:none\">\n<input type=\"hidden\" name=\"params_id\" value=\"8413325\" />\n</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete\" value=\"yes\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"sidebar-list-item-button delete-button\" onClick=\"thePlayer.favoritesManager.removeFavoriteFromList(this); return false;\"></a>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\n\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\n\t</ul>\n<script type=\"text/javascript\">\n\t$(function() {$('#favoritesListAccordion').foundation();}); \n</script> \n\n\n`;\n    //#endregion\n\n    const $ = cheerio.load(favhtml);\n    const mockHtml = $(\".accordion-title\");\n    return mockHtml;\n  }\n  getCommentString(version) {\n    var strComments = \"\";\n    const staticWithoutComments = `<div id=\"add-cmt-wrapper\" class=\"sidebar-controls-wrapper\">\n  <div class=\"row tight\">\n    <div class=\"columns small-6\"> \n      \n            \n                <a class=\"checkbox-link\" onClick=\"thePlayer.commentsManager.subscribeAction(this); return false;\" data-action=\"https://texasbluesalley.com/?ACT=3&entry_id=4302&ret=proplayer74-tony/--ajax-load-comments\">Notify Me</a>\n            \n      \n    </div>\n    <div class=\"columns small-6 text-right\"> \n            \n        <div class=\"option-buttons\">\n          <a class=\"option-button\" onClick=\"thePlayer.commentsManager.setAuthorCommentFilter(false); return false;\" href=\"#\">All</a>\n          <span class=\"option-button on\">Mine</span>\n        </div>\n      \n    </div>\n  </div>\n</div>\n\n\n  \n\n<div class=\"comment-screenname-notice\">\n  Commenting as <strong>Tony Moses</strong>. <a target=\"_blank\" href=\"/account/dashboard\">Change...</a>\n</div>\n            \n<ul class=\"cmts-list\" id=\"cmts-list\" data-offset=\"0\">\n  \n      <li id=\"no-questions\">\n        <div class=\"margin-top margin-bottom padded slight text-center\">\n          <p>Be the first to ask a question about this course or video.</p>\n          <p>\n            <a class=\"comment-action-button comment-view view\" onClick=\"thePlayer.commentsManager.replyToComment(-1);\" ><i class=\"fa fa-commenting\"></i> Ask A Question</a>\n          </p>\n        </div>\n      </li>\n    \n</ul>`;\n    const staticWithComments = `<div id=\"add-cmt-wrapper\" class=\"sidebar-controls-wrapper\">\n  <div class=\"row tight\">\n    <div class=\"columns small-6\"> \n      \n            \n                <a class=\"checkbox-link\" onClick=\"thePlayer.commentsManager.subscribeAction(this); return false;\" data-action=\"https://texasbluesalley.com/?ACT=3&entry_id=4302&ret=proplayer74-tony/--ajax-load-comments\">Notify Me</a>\n            \n      \n    </div>\n    <div class=\"columns small-6 text-right\"> \n      \n        <div class=\"option-buttons\">\n          <span class=\"option-button on\">All</span>\n          <a class=\"option-button\" onClick=\"thePlayer.commentsManager.setAuthorCommentFilter(true); return false;\" href=\"#\">Mine</a>\n        </div>\n      \n    </div>\n  </div>\n</div>\n\n\n  \n\n<div class=\"comment-screenname-notice\">\n  Commenting as <strong>Tony Moses</strong>. <a target=\"_blank\" href=\"/account/dashboard\">Change...</a>\n</div>\n            \n<ul class=\"cmts-list\" id=\"cmts-list\" data-offset=\"0\">\n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-309-wrapper\"\n        data-comment-id=\"309\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1543078602\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>I really benefit from the &#8220;loops&#8221; feature in the 5 Boxes Essential Licks video - but Chrome and IE both act a bit odd.  Space bar pauses a loop (so I can work on it - very helpful) but it would be sweet if [TAB] or maybe [right arrow/left arrow] would jump to the next lick / previous lick.  Is there a way to move between licks without using the mouse?  Thanks much - David</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                David B\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('2718', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 2 years ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-309-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-309-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(309);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(309); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-309-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-312-wrapper\"\n        data-comment-id=\"312\" data-parent-id=\"309\"\n        data-level=\"1\" data-date=\"1543410856\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hi David,</p>\n\n<p>Do you mean activating the next loop or previous loop using the keyboard? If so, that&#8217;s a fantastic idea. It&#8217;s going to take some work, but I&#8217;ll definitely put that on my list of features to add.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('2718', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 2 years ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded \" \n        id=\"comment-358-wrapper\"\n        data-comment-id=\"358\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1558647789\">\n          <div class=\"cmt-inner\">\n          \n            \n              <a class=\"cmt-delete-button\" onClick=\"thePlayer.commentsManager.deleteCmt(358,'https://texasbluesalley.com/?ACT=4'); return false;\" href=\"#\">\n                <i class=\"fa fa-times-circle\"></i>\n              </a>\n            \n            <div class=\"cmt-text\">\n              <p>When learning/practicing 5 Boxes Essential Licks, what tempo is fast enough?</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Steve J\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-358-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-358-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(358);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      </li>\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-384-wrapper\"\n        data-comment-id=\"384\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1566685211\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>it seems the pro player has been out of order ,ill check again later,</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Samsamcb@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-384-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-384-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(384);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(384); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-384-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-385-wrapper\"\n        data-comment-id=\"385\" data-parent-id=\"384\"\n        data-level=\"1\" data-date=\"1566758297\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>is the pro player out of order  ? or is it just on my sight?</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Samsamcb@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('2718', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      </li>\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-386-wrapper\"\n        data-comment-id=\"386\" data-parent-id=\"384\"\n        data-level=\"1\" data-date=\"1566759874\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>I havent had any other reports. What browser are you using and are you seeing an error message?</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      </li>\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-387-wrapper\"\n        data-comment-id=\"387\" data-parent-id=\"384\"\n        data-level=\"1\" data-date=\"1566922413\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>I  thought it was google chrome butt i see its google chromium .</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Samsamcb@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      </li>\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-388-wrapper\"\n        data-comment-id=\"388\" data-parent-id=\"384\"\n        data-level=\"1\" data-date=\"1566923107\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>It dose say there is an error with the pro player , on the orientation video butt if you have no other complaints i better up grade, i plan on useing this site for the rest of my days , you&#8217;ve done a greate job creating this site.  thankyou.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Samsamcb@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-391-wrapper\"\n        data-comment-id=\"391\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1568835403\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Anthony, I am missing some of the tablature for lesson 1  in the 5 boxes essential licks.  It ends at category 2.  They were available last night but not today.  Enjoying the content.  Thanks</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                bradcecil@bellsouth.net\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('2718', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-391-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-391-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(391);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(391); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-391-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-394-wrapper\"\n        data-comment-id=\"394\" data-parent-id=\"391\"\n        data-level=\"1\" data-date=\"1569288220\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hi Brad, We&#8217;re in the process of updating all the tabs for this course. New tabs for Lessons 1-4 are now available, with tabs for the rest coming in the next day or two. Let me know if you still don&#8217;t see them.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('2718', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-424-wrapper\"\n        data-comment-id=\"424\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1571518353\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hey Anthony the tabs for lesson 2 cat 2 aren&#8217;t printable when you go into the options part at the bottom of the tab.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                gladiator1897@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('6621', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-424-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-424-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(424);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(424); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-424-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-425-wrapper\"\n        data-comment-id=\"425\" data-parent-id=\"424\"\n        data-level=\"1\" data-date=\"1571519725\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Thanks for letting me know. It should be fixed now.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('6621', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-426-wrapper\"\n        data-comment-id=\"426\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1571524471\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>hey Anthony lesson 6 cat 2-3 tabs aren&#8217;t printable either.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                gladiator1897@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('6693', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-426-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-426-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(426);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(426); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-426-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-427-wrapper\"\n        data-comment-id=\"427\" data-parent-id=\"426\"\n        data-level=\"1\" data-date=\"1571530788\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Thanks, fixed. I think I got all of them now.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-451-wrapper\"\n        data-comment-id=\"451\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1573090230\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hey Anthony, are the tabs for Lesson 1 Category 2 licks wrong? Should it be 7 5h6p5 for all of them? (not 5h7p5)</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                markcnelson86@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('6618', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-451-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-451-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(451);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(451); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-451-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-455-wrapper\"\n        data-comment-id=\"455\" data-parent-id=\"451\"\n        data-level=\"1\" data-date=\"1573528472\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Good catch. I still had an old version of that file uploaded. If you reload it you&#8217;ll see that the first couple are 5h6p5 (as they should be) and only the last few are 5h7p5.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('6618', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-453-wrapper\"\n        data-comment-id=\"453\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1573321469\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hi Anthony - Congrats on getting this great course updated!   Where do I go to find the backing tracks?  thanks.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Scott R\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('6618', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-453-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-453-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(453);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(453); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-453-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-454-wrapper\"\n        data-comment-id=\"454\" data-parent-id=\"453\"\n        data-level=\"1\" data-date=\"1573527953\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Oops, I forgot to upload them. I&#8217;ll try to get that done this week.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> one year ago\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-469-wrapper\"\n        data-comment-id=\"469\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1575428479\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hi Anthony , at the risk of being a pain, Can you please upload the backing tracks for these licks.   I&#8217;m really keen to practice them that way.   Thanks&#8230;</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Scott R\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> about 12 months ago\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-469-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-469-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(469);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(469); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-469-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-470-wrapper\"\n        data-comment-id=\"470\" data-parent-id=\"469\"\n        data-level=\"1\" data-date=\"1575434726\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Working hard to get remaining elements wrapped up for this course this week. Backing tracks are part of that.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> about 12 months ago\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      </li>\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-481-wrapper\"\n        data-comment-id=\"481\" data-parent-id=\"469\"\n        data-level=\"1\" data-date=\"1576261677\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>They&#8217;re added. Let me know what you think :-)</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> 11 months ago\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-479-wrapper\"\n        data-comment-id=\"479\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1576185210\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hey Anthony, \nDrop me a note when u have a moment. Question about billing. No rush.</p>\n\n<p>Mahalo,</p>\n\n<p>CHRISTIAN</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                JCS\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('7212', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 11 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-479-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-479-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(479);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(479); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-479-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-480-wrapper\"\n        data-comment-id=\"480\" data-parent-id=\"479\"\n        data-level=\"1\" data-date=\"1576261663\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Send me an email at anthony@texasbluesalley.com</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> 11 months ago\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-484-wrapper\"\n        data-comment-id=\"484\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1576552616\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>i can&#8217;t find the tablature  for the category licks or the tab that puts them all to together</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                garylsamples@q.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('2725', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 11 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-484-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-484-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(484);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(484); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-484-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-485-wrapper\"\n        data-comment-id=\"485\" data-parent-id=\"484\"\n        data-level=\"1\" data-date=\"1576553683\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hi Gary, I&#8217;m not sure I understand what you&#8217;re asking. Are you not seeing the tablature listed in each Lesson section?</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('3295', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 11 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-495-wrapper\"\n        data-comment-id=\"495\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1577132588\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hey Anthony, C2L2 Demo has a weird typo, and I wouldnt bother you with it but, since it involves parentheses  and could affect the way some code runs , I figured I would mention it.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                markcnelson86@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('7160', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 11 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-495-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-495-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(495);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(495); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-495-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-496-wrapper\"\n        data-comment-id=\"496\" data-parent-id=\"495\"\n        data-level=\"1\" data-date=\"1577132635\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>(under instant loops)</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                markcnelson86@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('7160', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 11 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      </li>\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-498-wrapper\"\n        data-comment-id=\"498\" data-parent-id=\"495\"\n        data-level=\"1\" data-date=\"1577996845\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Thanks, got it fixed.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('7160', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> about 11 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded \" \n        id=\"comment-497-wrapper\"\n        data-comment-id=\"497\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1577134434\">\n          <div class=\"cmt-inner\">\n          \n            \n              <a class=\"cmt-delete-button\" onClick=\"thePlayer.commentsManager.deleteCmt(497,'https://texasbluesalley.com/?ACT=4'); return false;\" href=\"#\">\n                <i class=\"fa fa-times-circle\"></i>\n              </a>\n            \n            <div class=\"cmt-text\">\n              <p>Under instant loops, Category 2 Lick 2,3, etc also still have that 7 5h7p5 instead of 7 5h6p6 - I didnt look extensively; just noting it before I forget.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                markcnelson86@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('7160', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 11 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-497-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-497-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(497);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      </li>\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-518-wrapper\"\n        data-comment-id=\"518\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1581230752\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Hi Anthony. In Lesson 2 Cat. 2 Lick 3, it shows chord ii in the video, but you explained it would sound good in chord V. Is that a problem?</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Will_Ma\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('7194', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 9 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-518-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-518-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(518);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(518); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-518-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-519-wrapper\"\n        data-comment-id=\"519\" data-parent-id=\"518\"\n        data-level=\"1\" data-date=\"1581265115\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Great question. Lots of licks that resolve over the ii chord will also sound great over the V chord as well.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('7194', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 9 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded \" \n        id=\"comment-567-wrapper\"\n        data-comment-id=\"567\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1587229765\">\n          <div class=\"cmt-inner\">\n          \n            \n              <a class=\"cmt-delete-button\" onClick=\"thePlayer.commentsManager.deleteCmt(567,'https://texasbluesalley.com/?ACT=4'); return false;\" href=\"#\">\n                <i class=\"fa fa-times-circle\"></i>\n              </a>\n            \n            <div class=\"cmt-text\">\n              <p>HI Anthony. I find it hard to understand at which chord am I in the backing track. can you provide the chord sequence the backing tracks please?</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                itaibsn@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('7240', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 7 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-567-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-567-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(567);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      </li>\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-568-wrapper\"\n        data-comment-id=\"568\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1587398127\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Some of the 5 boxes 2nd Ed, have disappeared form the browser list once opened.  Lesson 5 C:2 through end.  Can you guide me to fix?</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                kawdaddy1500@gmail.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                    <i class=\"fa fa-clock-o\"></i> 7 months ago\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-568-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-568-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(568);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(568); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-568-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-640-wrapper\"\n        data-comment-id=\"640\" data-parent-id=\"568\"\n        data-level=\"1\" data-date=\"1600306100\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Sorry, somehow I missed this when you posted it. There is only one category for Lesson 5. As we rolled out the new tablature, lesson videos and backing tracks, the old tablature and lesson videos were removed from the list, as they were no longer needed.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('6688', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 2 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-0 expanded has-replies\" \n        id=\"comment-638-wrapper\"\n        data-comment-id=\"638\" data-parent-id=\"0\"\n        data-level=\"0\" data-date=\"1600002854\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>I have been practicing these licks for about a week. I really appreciate your lessons because Texas Blues is the style of guitar I want to learn. I am having a hard time remembering all of these licks. I am still in lesson one and I am not moving on until I have them mastered. Please let me know if it is normal to have difficulty remembering the licks and if there are any tricks to remembering them faster. Thank you for a great coarse.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                kevin@dallaslease.com\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('6618', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 2 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n              <div class=\"row cmt-reply-wrapper no-padding\" id=\"cmt-638-reply-wrapper\">\n                <div class=\"columns small-5\"> \n                  <a class=\"comment-action-button comment-reply-button\"\n                    id=\"comment-638-reply-button\" \n                    onClick=\"thePlayer.commentsManager.replyToComment(638);\">Reply</a>\n                </div>\n                <div class=\"columns small-7 text-right\"> \n                  \n                    <a class=\"comment-action-button comment-view-replies-button view\" onClick=\"thePlayer.commentsManager.toggleCmtReplies(638); return false;\"><i class=\"fa fa-comments fa-fw\"></i></a> \n                  \n                </div>\n              </div>\n            \n          </div>\n    \n      <ul class=\"cmt-replies-wrapper\" id=\"comment-638-replies\">\n    \n  \n    \n  \n      <li class=\"cmt-wrapper level-1 expanded \" \n        id=\"comment-639-wrapper\"\n        data-comment-id=\"639\" data-parent-id=\"638\"\n        data-level=\"1\" data-date=\"1600305940\">\n          <div class=\"cmt-inner\">\n          \n            \n            <div class=\"cmt-text\">\n              <p>Absolutely. When I&#8217;m learning a solo, it takes many, many, may repetitions until a lick is moved from my short-term memory to my muscle memory.</p>\n\n            </div>\n            <div class=\"cmt-meta\">\n              <span class=\"author-name non-breaking\">\n                <i class=\"fa fa-user-circle\"></i> \n                Texas Blues Alley\n              </span>, \n              \n                <span class=\"cmt-date non-breaking\">\n                  <a onClick=\"thePlayer.openSegmentWithinCurrentPackage('6620', true); return false;\">\n                    <i class=\"fa fa-clock-o\"></i> 2 months ago\n                  </a>\n                </span>\n              \n            </div>\n            \n          </div>\n    \n      \n        </ul></li>\n      \n    \n  \n    \n  \n</ul>\n`;\n    switch (version) {\n      case 1:\n      case true:\n        strComments = staticWithComments;\n        break;\n      case 0:\n      case false:\n      default:\n        strComments = staticWithoutComments;\n        break;\n    }\n    return strComments;\n  }\n}\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport modules from \"./modules\";\nimport TXBA_Utilities from \"../middleware/txba_helpers\";\nVue.use(Vuex);\n\nconst store = new Vuex.Store({\n  state: {\n    _spinnerState: false,\n    TXBA_UTILS:  new TXBA_Utilities()\n  },\n  getters: {\n    req: state => state.TXBA_UTILS.getAsyncData\n  },\n  actions: {\n    loadModules() {\n      // auto init namespaced stores if the have an \"initStore\" action\n      for (const moduleName of Object.keys(modules)) {\n        if (\n          modules[moduleName].actions &&\n          modules[moduleName].actions.initStore\n        ) {\n          store.dispatch(`${moduleName}/initStore`);\n        }\n      }\n    },\n    initStore() {\n      store.dispatch(\"loadModules\");\n    }\n  },\n  \n  modules\n});\n\nstore.dispatch(\"initStore\");\nexport default store;\n","const routes = [\n  {\n    path: \"/auth\",\n    component: () => import(\"src/pages/AuthPage.vue\")\n  },\n  // {\n  //   path: \"/\",\n  //   component: () => import(\"layouts/MainLayout.vue\"),\n  //   children: [{ path: \"\", component: () => import(\"pages/Index.vue\") }]\n  // },\n  {\n    path: \"/\",\n    component: () => import(\"src/layouts/Tools.vue\"),\n    // beforeEnter: authGuard,\n    children: [\n      {\n        path: \"\",\n        component: () => import(\"pages/Tools\")\n      },\n      {\n        name: \"external\",\n        path: \"/tools/ex/:dest\",\n        beforeEnter() {\n          location.href = `https://texasbluesalley.com/${dest}`;\n        }\n      },\n      {\n        name: \"browser\",\n        path: \"/tools/browser\",\n        component: () => import(\"pages/Browser\")\n      },\n      {\n        name: \"tuner\",\n        path: \"/tools/tuner\",\n        component: () => import(\"components/tools/Tuner\"),\n        meta: {\n          src: \"/dev/tuner\",\n          name: \"Tuner\"\n        }\n      },\n      {\n        name: \"spider\",\n        path: \"/tools/spider\",\n        component: () => import(\"components/tools/Spider\"),\n        meta: {\n          src: \"/dev/spider\",\n          name: \"Spider Drills\"\n        }\n      },\n      {\n        name: \"fretboard\",\n        path: \"/tools/fretboard\",\n        component: () => import(\"components/tools/Fretboard\"),\n        meta: {\n          src: \"/dev/fretboard\",\n          name: \"Fretboard\"\n        }\n      }\n    ]\n  },\n  {\n    name: \"watch\",\n    path: \"/watch\",\n    component: () => import(\"src/layouts/WatchDrawer.vue\"),\n    children: [\n      {\n        name: \"player\",\n        path: \"/watch/:packageID/:segmentID\",\n        component: () => import(\"components/watch/player/Wrapper\")\n      },\n      {\n        name: \"package\",\n        path: \"/watch/:packageID\",\n        component: () => import(\"pages/Watch\")\n      }\n    ]\n  },\n  {\n    path: \"/profile\",\n    component: () => import(\"layouts/MainLayout.vue\"),\n    children: [{ path: \"\", component: () => import(\"pages/Profile.vue\") }]\n  },\n  // Always leave this as last one,\n  // but you can also remove it\n  {\n    path: \"*\",\n    component: () => import(\"pages/Error404.vue\")\n  }\n];\n\nexport default routes;\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport routes from './routes'\n\nVue.use(VueRouter)\n\n/*\n * If not building with SSR mode, you can\n * directly export the Router instantiation;\n *\n * The function below can be async too; either use\n * async/await or return a Promise which resolves\n * with the Router instance.\n */\n\nexport default function (/* { store, ssrContext } */) {\n  const Router = new VueRouter({\n    scrollBehavior: () => ({ x: 0, y: 0 }),\n    mode: \"history\",\n    routes,\n\n    // Leave these as they are and change in quasar.conf.js instead!\n    // quasar.conf.js -> build -> vueRouterMode\n    // quasar.conf.js -> build -> publicPath\n    mode: process.env.VUE_ROUTER_MODE,\n    base: process.env.VUE_ROUTER_BASE\n  })\n  \n  return Router\n}\n","/**\n * THIS FILE IS GENERATED AUTOMATICALLY.\n * DO NOT EDIT.\n *\n * You are probably looking on adding startup/initialization code.\n * Use \"quasar new boot <name>\" and add it there.\n * One boot file per concern. Then reference the file(s) in quasar.conf.js > boot:\n * boot: ['file', ...] // do not add \".js\" extension to it.\n *\n * Boot files are your \"main.js\"\n **/\n\n\n\nimport Vue from 'vue'\nimport './import-quasar.js'\n\n\n\nimport App from 'app/src/App.vue'\n\n\nimport createStore from 'app/src/store/index'\n\nimport createRouter from 'app/src/router/index'\n\n\n\n\nexport default async function () {\n  // create store and router instances\n  \n  const store = typeof createStore === 'function'\n    ? await createStore({Vue})\n    : createStore\n  \n  const router = typeof createRouter === 'function'\n    ? await createRouter({Vue, store})\n    : createRouter\n  \n  // make router instance available in store\n  store.$router = router\n  \n\n  // Create the app instantiation Object.\n  // Here we inject the router, store to all child components,\n  // making them available everywhere as `this.$router` and `this.$store`.\n  const app = {\n    router,\n    store,\n    render: h => h(App)\n  }\n\n\n  \n  app.el = '#q-app'\n  \n\n  // expose the app, the router and the store.\n  // note we are not mounting the app here, since bootstrapping will be\n  // different depending on whether we are in a browser or on the server.\n  return {\n    app,\n    store,\n    router\n  }\n}\n","import { LocalStorage } from \"quasar\";\nimport store from \"src/store\";\n// \"async\" is optional;\n// more info on params: https://quasar.dev/quasar-cli/boot-files\nexport default ({ router }) => {\n  router.beforeEach((to, from, next) => {\n    const key = \"loggedIn\";\n    const now = new Date();\n    let loggedIn = LocalStorage.getItem(key);\n    // console.log('logged: ', loggedIn);\n    // // test to see if login expired\n    if (loggedIn) {\n      if (now.getTime() < loggedIn?.expiry) {\n        next()\n      } else {\n        console.log(\"Expired login: sending to auth page\");\n        store.commit(\"auth/SET_LOGGED_IN\", false);\n        LocalStorage.remove(key);\n        next(\"/auth\");\n      }\n    } else {\n      if ( to.path !== \"/auth\" ) {\n        next( \"/auth\" );\n      } else {\n        next()\n      }\n    }\n  });\n};\n","import Vue from 'vue'\nimport axios from 'axios'\n\nVue.prototype.$axios = axios\n","import Vue from \"vue\";\nimport VuePlyr from \"vue-plyr\";\nimport XFrameBypass from 'x-frame-bypass'\n// import \"vue-plyr/dist/vue-plyr.esm\";\n\n// \"async\" is optional;\n// more info on params: https://quasar.dev/quasar-cli/boot-files\nVue.use(VuePlyr)\nVue.use(XFrameBypass)","/**\n * THIS FILE IS GENERATED AUTOMATICALLY.\n * DO NOT EDIT.\n *\n * You are probably looking on adding startup/initialization code.\n * Use \"quasar new boot <name>\" and add it there.\n * One boot file per concern. Then reference the file(s) in quasar.conf.js > boot:\n * boot: ['file', ...] // do not add \".js\" extension to it.\n *\n * Boot files are your \"main.js\"\n **/\n\n\n\nimport '@quasar/extras/mdi-v5/mdi-v5.css'\n\nimport '@quasar/extras/fontawesome-v5/fontawesome-v5.css'\n\nimport '@quasar/extras/roboto-font/roboto-font.css'\n\nimport '@quasar/extras/material-icons/material-icons.css'\n\n\n\n\n// We load Quasar stylesheet file\nimport 'quasar/dist/quasar.sass'\n\n\n\n\nimport 'src/css/app.sass'\n\n\nimport Vue from 'vue'\nimport createApp from './app.js'\n\n\n\n\nimport qboot_Bootrouterauth from 'boot/router-auth'\n\nimport qboot_Bootfirebase from 'boot/firebase'\n\nimport qboot_Bootaxios from 'boot/axios'\n\nimport qboot_Bootvueplyr from 'boot/vue-plyr'\n\n\n\n\n\n\n\nVue.config.devtools = true\nVue.config.productionTip = false\n\n\n\n\n\n\nconst publicPath = ``\n\n\nasync function start () {\n  const { app, store, router } = await createApp()\n\n  \n\n  \n  let hasRedirected = false\n  const redirect = url => {\n    hasRedirected = true\n    const normalized = Object(url) === url\n      ? router.resolve(url).route.fullPath\n      : url\n\n    window.location.href = normalized\n  }\n\n  const urlPath = window.location.href.replace(window.location.origin, '')\n  const bootFiles = [qboot_Bootrouterauth,qboot_Bootfirebase,qboot_Bootaxios,qboot_Bootvueplyr]\n\n  for (let i = 0; hasRedirected === false && i < bootFiles.length; i++) {\n    if (typeof bootFiles[i] !== 'function') {\n      continue\n    }\n\n    try {\n      await bootFiles[i]({\n        app,\n        router,\n        store,\n        Vue,\n        ssrContext: null,\n        redirect,\n        urlPath,\n        publicPath\n      })\n    }\n    catch (err) {\n      if (err && err.url) {\n        window.location.href = err.url\n        return\n      }\n\n      console.error('[Quasar] boot error:', err)\n      return\n    }\n  }\n\n  if (hasRedirected === true) {\n    return\n  }\n  \n\n  \n\n    \n\n    \n\n    \n      new Vue(app)\n    \n\n    \n\n    \n\n  \n\n}\n\nstart()\n","import Vue from \"vue\";\nimport { ProPlayer } from \"../../middleware/ProPlayerCore\";\nexport default {\n  namespaced: true,\n  state: {\n    currentCourse: null,\n    activeSegment: null,\n    ProPlayer: new ProPlayer(),\n    currentSetup: { sources: null },\n    userLoops: null,\n    memberLoops: null,\n    sections: null,\n    courseHistory: [],\n    seekToTime: 0,\n    mediaSources: null,\n    playerSettings: {\n      bLoadingLoopData: false,\n      duration: -1,\n      speed: 1,\n      volume: 0.5,\n      zoom: 1,\n      loop_start: -1,\n      loop_stop: -1,\n      playing: false,\n      looping: false,\n      flipped: false,\n      zoomEnabled: false\n    },\n    playerOpts: {\n      controls: false\n    },\n    playSections: []\n  },\n  mutations: {\n    RESET_PACKAGE(ctx) {\n      ctx.activeSegment = null;\n      ctx.currentCourse = null;\n      ctx.currentSetup = { sources: null };\n      Vue.set(ctx, \"playerSettings\", {\n        duration: -1,\n        speed: 1,\n        volume: 0.5,\n        zoom: 1,\n        loop_start: -1,\n        loop_stop: -1,\n        activeList: null,\n        bLoadingLoopData: false,\n        playing: false,\n        looping: false,\n        flipped: false,\n        zoomEnabled: false\n      });\n      // console.log(\"reset-package\");\n    },\n    SET_ACTIVE_SEGMENT(ctx, data) {\n      console.info(\"setting active segment\", data);\n      ctx.activeSegment = data;\n    },\n\n    FLIP_PLAYER(ctx) {\n      console.log(\"b4\", ctx.playerSettings.flipped);\n      ctx.playerSettings.flipped = !ctx.playerSettings.flipped;\n      console.log(\"aft\", ctx.playerSettings.flipped);\n    },\n    LOAD_PLAYER_SETTINGS(ctx, objSettings) {\n      Vue.set(\n        ctx,\n        \"playerSettings\",\n        Object.assign({}, ctx.playerSettings, objSettings)\n      );\n    },\n    SET_CURRENT_COURSE(ctx, data) {\n      if (!data) return;\n      // console.log(\"currentCourse\", data);\n      if (ctx.currentCourse !== null) {\n        // if (ctx.courseHistory.length > 4) ctx.courseHistory.shift();\n        ctx.courseHistory.push(ctx.currentCourse);\n\n        //     //TODO: Ensure no duplicates in courseHistory\n\n        //     // console.log(\"pushed\", ctx.courseHistory);\n        //     // const pushed = ctx.courseHistory.reduce((acc, current) => {\n        //     //   const x = acc.find(item => item.segmentEntryID === current.segmentEntryID);\n        //     //   if(!x) {\n        //     //     return acc.concat([current])\n        //     //   }else{\n        //     //     return acc\n        //     //   }\n        //     // }, [])\n        //     // Vue.set(ctx, \"courseHistory\", pushed); // to remove duplicates from array\n        //     // console.log(\"noDups\", ctx.courseHistory);\n        //   }\n        //   ctx.currentCourse = data;\n        //   // map course to state\n        //   for (let [k, v] of Object.entries(data)) {\n        //     Vue.set(ctx, k, v);\n      }\n    },\n    SET_USER_LOOP_DATA(ctx, data) {\n      // console.log(\"Setting user Loops\", data);\n      ctx.userLoops = JSON.parse(JSON.stringify(data));\n    },\n    SET_MEMBER_LOOP_DATA(ctx, data) {\n      // console.log(\"Setting member Loops\", data);\n      ctx.memberLoops = JSON.parse(JSON.stringify(data));\n    },\n    SET_CURRENT_PACKAGE(ctx, packageData) {\n      if (packageData.packageError === \"\") {\n        ctx.ProPlayer.thePackage\n          .setEntryID(packageData.packageID)\n          .setTitle(packageData.packageTitle)\n          .setChannelName(packageData.packageChannel)\n          .setChannelShortName(packageData.packageChannelSlug)\n          .setDate(packageData.packageDate)\n          .setDefaultSegmentEntryID(packageData.packageDefaultSegmentID)\n          .setDescription(packageData.packageDescription)\n          .setOverview(packageData.packageOverview)\n          .setImageURL(packageData.packageImage)\n          .setSections(packageData.sections)\n          .setTuning(packageData.packageTuning)\n          .setLoaded(true);\n        ctx.ProPlayer.bPackageDataLoadingFinished = true;\n      } else {\n        ctx.ProPlayer.thePackage\n          .setLoaded(false)\n          .setErrorMessage(packageData.packageError);\n      }\n    },\n    SET_CURRENT_SEGMENT(ctx, segmentData) {\n      // console.log(\"CurrentSegment\", segmentData);\n      ctx.ProPlayer.theSegment\n        .setEntryID(segmentData.segmentEntryID)\n        .setSegmentType(\"entry\")\n        .setVimeoCode(segmentData.segmentVimeoCode)\n        .setYouTubeCode(segmentData.segmentYouTubeCode)\n        .setMP3Filename(segmentData.segmentMP3Filename)\n        .setSoundSliceCode(segmentData.segmentSoundSliceCode)\n        .setPDFFilename(segmentData.segmentPDFFilename)\n        .setMediaURL(segmentData.segmentURL)\n        .setGPXFilename(segmentData.segmentGPXFilename)\n        .setTitle(segmentData.segmentTitle)\n        .setDisplayName(segmentData.segmentDisplayName)\n        .setFullDisplayName(segmentData.segmentFullDisplayName)\n        .setChaptersArray(segmentData.chaptersArray)\n        .setLoopsArray(segmentData.loopsArray)\n        .setMediaStartTime(segmentData.mediaStartTime)\n        .setHTMLContent(segmentData.segmentHTML)\n        .setDescription(segmentData.segmentShortDescription)\n        .setUserLoopsEntryIDsFromString(segmentData.userLoopEntryIDs)\n        .setIsLoaded(true)\n        .inferMediaType();\n      ctx.ProPlayer.bSegmentDataLoadingFinished = true;\n    },\n    SET_CURRENT_SEGMENT_SETUP(ctx, data) {\n      // console.log(\"currentSetup\", ctx.currentSetup);\n      // console.log( \"playerOpts\", ctx.playerOpts );\n      // console.log( \"playerSettings\", ctx.playerSettings );\n      // console.log(\"New data\", data);\n      if (data) {\n        ctx.currentSetup = Object.assign(\n          {},\n          ctx.currentSetup,\n          ctx.playerOpts,\n          ctx.playerSettings,\n          data\n        );\n      } else {\n        ctx.currentSetup = {};\n      }\n\n      // console.log(\"currentSetup\", ctx.currentSetup);\n    },\n    SET_PLAY_SECTIONS(ctx, data) {\n      ctx.playSections = data?.playSections;\n    },\n    SET_SEEK_TIME(ctx, data) {\n      ctx.seekToTime = data;\n    },\n    SET_MEDIA_SOURCES(ctx, data) {\n      console.log(\"media\", typeof data);\n      ctx.mediaSources = data;\n    },\n    SET_SEGMENT_DURATION(ctx, data) {\n      // console.log(\"duration\", data);\n      ctx.playerSettings.duration = data;\n    },\n    SET_LOOP_START(ctx, time) {\n      console.log(\"start\", time);\n      ctx.playerSettings.loop_start = time;\n    },\n    SET_LOOP_STOP(ctx, time) {\n      console.log(\"stop\", time);\n      ctx.playerSettings.loop_stop = time;\n    },\n    SET_LOOP_SELECTED(ctx, { nCollectionID, nListIndex, nLoopIndex }) {\n      ctx.loopManager.loopSelected(nCollectionID, nListIndex, nLoopIndex);\n    },\n    TOGGLE_LOOPING(ctx, val) {\n      if ( val ) {\n        ctx.playerSettings.looping = val\n        ctx.playerSettings.playing = val\n      } else {\n        ctx.playerSettings.looping =  !ctx.playerSettings.looping;\n      }\n    },\n    TOGGLE_ACTIVE_LOOP_STATUS(ctx, obj) {\n      ctx.playerSettings.activeList[obj.key] = obj.active;\n    },\n    TOGGLE_LOOPOBJECT_LOADING(ctx) {\n      ctx.playerSettings.bLoadingLoopData = !ctx.playerSettings\n        .bLoadingLoopData;\n    },\n    SET_ACTIVE_LOOPLIST(ctx, data) {\n      if (!data) {\n        ctx.playerSettings.activeList = null;\n      } else {\n        ctx.playerSettings.activeList = data;\n      }\n    },\n    TOGGLE_PLAYING(ctx, val) {\n      ctx.playerSettings.playing = val ? val : !ctx.playerSettings.playing;\n    }\n  },\n  actions: {\n    clearLoop({ commit }) {\n      commit(\"SET_LOOP_START\", -1);\n      commit(\"SET_LOOP_STOP\", -1);\n      commit(\"TOGGLE_LOOPING\", false);\n      commit(\"TOGGLE_PLAYING\", false);\n    },\n    setLoopStart({ commit, state }, time) {\n      // console.log( \"start time\", time );\n      if ( time == state.playerSettings.loop_start ) return;\n      const current = time; //? time : -1;\n      // console.log(\"set start:\", current);\n      commit(\"SET_LOOP_START\", current);\n      if (state.playerSettings.loop_stop < current)\n        commit(\"SET_LOOP_STOP\", -1);\n    },\n    setLoopStop({ commit, state }, time) {\n      const current = time; //? time : -1;\n      const start = state.playerSettings.loop_start;\n      var info = {};\n      if (start >= 0) {\n        if (start !== current) {\n          if (start < current) {\n            console.log(\"set stop:\", current);\n            commit(\"SET_LOOP_STOP\", current);\n            info = {\n              type: \"positive\",\n              message: \"Loop End Set\"\n            };\n          } else {\n            info = {\n              type: \"negative\",\n              message: \"Loop end must be greater the loop start!\"\n            };\n          }\n        } else {\n          info = {\n            type: \"negative\",\n            message: \"Loop Start and End cannot be equal\"\n          };\n        }\n      } else {\n        if (state.playerSettings.bLoadingLoopData) {\n          // console.log(\"set stop:\", current);\n          commit(\"SET_LOOP_STOP\", current);\n          info = {\n            type: \"positive\",\n            message: \"Loop End Set\"\n          };\n        } else {\n          info = {\n            type: \"info\",\n            message: \"Must set loop start first\"\n          };\n        }\n      }\n      console.info(info);\n      return info;\n    },\n    setLoopWithObject({ dispatch, commit }, loopObj) {\n      const loopdata = loopObj.loopdata;\n      commit(\"TOGGLE_LOOPOBJECT_LOADING\");\n      console.log(\"setting loop start/end\", loopdata);\n      dispatch(\"setLoopStart\", loopdata[1]).then(\n        dispatch(\"setLoopStop\", loopdata[2])\n      );\n      commit(\"TOGGLE_ACTIVE_LOOP_STATUS\", loopObj);\n      commit(\"TOGGLE_LOOPOBJECT_LOADING\");\n    },\n    setLoopSelected({ commit }, data) {\n      commit(\"SET_LOOP_SELECTED\", data);\n    },\n    flipPlayer({ commit }, bool) {\n      commit(\"FLIP_PLAYER\");\n    },\n    setSeekToTime({ commit }, time) {\n      commit(\"SET_SEEK_TIME\", time);\n    },\n    loadPlayerSettings({ commit }, objSettings) {\n      commit(\"LOAD_PLAYER_SETTINGS\", objSettings);\n    },\n    fetchComments({ dispatch }, pID) {\n      return dispatch(\"fetchCommentsData\", pID);\n    },\n    async fetchCommentsData(ctx, pID) {\n      const comments = await ctx.rootState.TXBA_UTILS.getComments(pID, pID);\n      // console.log('coms', comments)\n      return comments;\n    },\n    async fetchMemberLoopData(ctx, ID) {\n      return await ctx.rootState.TXBA_UTILS.getMemberLoops(ID)\n        .then(loopData => {\n          // handle malformed JSON\n          if (typeof loopData === \"object\") return loopData;\n          return (\n            JSON.parse(\n              loopData.replaceAll(\n                '\"memberLoops\": \\n\\t\\t\\t',\n                '\"memberLoops\" : []'\n              )\n            ) || \"\"\n          );\n        })\n        .then(loopData => {\n          ctx.commit(\"SET_MEMBER_LOOP_DATA\", loopData);\n          // console.log('member loops', loopData)\n          return loopData;\n        });\n    },\n    fetchMemberLoops: (ctx, ID) => ctx.dispatch(\"fetchMemberLoopData\", ID),\n    fetchPackage: ({ dispatch }, ID) => {\n      const newId = dispatch(\"fetchPackageData\", ID).then(id => {\n        const tabs = [\"Loops\", \"Chapters\"];\n        dispatch(\"removeSidebarTabs\", tabs, { root: true });\n        return id;\n      });\n      return newId;\n    },\n    async fetchPackageData(ctx, ID) {\n      return await ctx.rootState.TXBA_UTILS.getPackage(ID).then(\n        packageData => {\n          // ctx.dispatch( 'resetPackage' )\n          ctx.commit(\"SET_CURRENT_PACKAGE\", packageData);\n          ctx.commit(\"SET_PLAY_SECTIONS\", packageData);\n\n          return packageData;\n        },\n        error => console.error(`Problem fetching package data, ${error}`)\n      );\n    },\n    resetPackage({ commit }) {\n      commit(\"RESET_PACKAGE\");\n    },\n    fetchDefaultMedia: ctx =>\n      ctx.dispatch(\n        \"fetchMediaData\",\n        ctx.state.ProPlayer.thePackage.getDefaultSegmentEntryID()\n      ),\n    async fetchMediaData({ dispatch }, segID) {\n      const response = await dispatch(\"fetchSegment\", segID)\n        .then(seg => {\n          // console.log(\"fetchMediaData-segment\", seg);\n          return seg;\n        })\n        .then(id => dispatch(\"setCurrentSegmentSetup\", id))\n        // .then(ID => dispatch(\"fetchUserLoops\", ID))\n        .then(ID => dispatch(\"fetchMemberLoops\", ID))\n        .then(() => dispatch(\"getMediaInfo\"));\n      return response;\n    },\n    fetchSegment: ({ dispatch }, ID) => {\n      return dispatch(\"fetchSegmentData\", ID).then(ID => {\n        const loopTabs = [\n          {\n            name: \"Loops\",\n            componentName: \"LoopsManager\",\n            icon: \"mdi-sync\",\n            iconOnly: true,\n            cmp: () =>\n              import(\n                /* webpackChunkName: \"watch-sidebar\" */ \"components/watch/sidebar/loopTab/LoopManager\"\n              )\n          },\n          {\n            name: \"Chapters\",\n            componentName: \"ChaptersManager\",\n            icon: \"mdi-bookmark\",\n            iconOnly: true,\n            cmp: () =>\n              import(/* webpackChunkName: \"watch-sidebar\" */ \"components/watch/sidebar/ChapterTab/Chapters\"\n              )\n          }\n        ];\n        dispatch(\"addSidebarTabs\", loopTabs, { root: true });\n        return ID;\n      });\n    },\n    async fetchSegmentData(ctx, ID) {\n      const response = await ctx.rootState.TXBA_UTILS.getSegment(ID);\n      ctx.state.ProPlayer.openSegmentWithinCurrentPackage(ID, true);\n      // console.log(\"segData\", response);\n      ctx.commit(\"SET_CURRENT_SEGMENT\", response);\n      ctx.commit(\"SET_CURRENT_SEGMENT_SETUP\", null);\n      return ID;\n    },\n    setCurrentSegmentSetup(ctx, segmentId) {\n      var segmentData = null;\n      if (ctx.state.playSections) {\n        segmentData = ctx.state.playSections[0].segments.filter(\n          itm => itm.id === segmentId\n        )[0];\n        // console.log(\"seg-data\", segmentData);\n      } else {\n        segmentData = ctx\n          .dispatch(\"fetchPackage\", segmentId)\n          .then(() =>\n            ctx.dispatch(\n              \"setCurrentSegmentSetup\",\n              ctx.getters.getFirstSegment().id\n            )\n          );\n      }\n      // console.log(\"segmentData\", segmentData);\n      if (segmentData) ctx.commit(\"SET_CURRENT_SEGMENT_SETUP\", segmentData);\n      return segmentId;\n    },\n    openSegment(ctx, ID) {\n      return ctx.dispatch(\"fetchMediaData\", ID);\n    },\n    parseMediaInfo({ commit }, objMedia) {\n      var data = {};\n      if (objMedia.hasOwnProperty(\"videoSources\")) {\n        data[\"sources\"] = objMedia.videoSources.map(src => {\n          return {\n            size: src.resolution,\n            src: src.url,\n            type: \"video/mp4\"\n          };\n        });\n      }\n      if (objMedia.hasOwnProperty(\"thumbnail\"))\n        data[\"poster\"] = objMedia.thumbnail;\n      data.type = \"vimeo\";\n      commit(\"SET_CURRENT_SEGMENT_SETUP\", data);\n    },\n    async getMediaInfo(ctx) {\n      let segment = ctx.state.ProPlayer.theSegment;\n      let mediaType = segment.getPrimaryMediaType();\n      let info = { mediaType: mediaType };\n      let slug = \"/--ajax-load-media\";\n      var data;\n      // console.log(\"getMediaInfo\", mediaType);\n      // console.log(mediaType, segment);\n      switch (mediaType) {\n        case \"vimeo\":\n          data = segment.getVimeoCode();\n          info.data = data;\n          slug += `/${mediaType}/${data}`;\n          const media = await ctx.rootState.TXBA_UTILS.loadMedia(slug);\n          // console.log(\"vimeo\", media);\n          return ctx.dispatch(\"parseMediaInfo\", media);\n        case \"youtube\":\n          data = segment.getYouTubeCode();\n          info.data = data;\n          slug += `/${mediaType}/${data}`;\n          // this.mediaLoadYouTube(this.theS);\n          break;\n        case \"mp3\":\n          data = segment.getMP3Filename();\n          info.data = data;\n          slug += `/${mediaType}/${data}`;\n          // this.mediaLoadMP3(this.theSegment.);\n          break;\n        case \"soundslice\":\n          data = segment.getSoundSliceCode();\n          info.data = data;\n          slug = `/--ajax-load-soundslice/${mediaType}/${data}`;\n          const embed = await ctx.rootState.TXBA_UTILS.getAsyncData(slug);\n          console.log(embed);\n          const setup = {\n            data: data,\n            type: mediaType,\n            embed: embed\n          };\n          ctx.commit(\"SET_CURRENT_SEGMENT_SETUP\", setup);\n          return embed;\n        case \"pdf\":\n          slug = `/--ajax-load-pdf/${segment.getPDFFilename()}`;\n          // this.mediaLoadPDFViewer(this.theS);\n          break;\n        case \"url\":\n          return `<iframe id='content-frame' src='${decodeURIComponent(\n            theURL\n          )}' frameBorder='0'></iframe>`;\n        case \"facebook\":\n          this.mediaLoadFacebook(\n            this.theSegment.getFacebookUser(),\n            this.theSegment.getFacebookVideoCode()\n          );\n          break;\n        case \"instagram\":\n          slug += `/${mediaType}/${segment.getInstagramID()}`;\n\n          // this.mediaLoadInstagram(this.theSegment.getInstagramID());\n          break;\n        case \"html\":\n          // return info\n          return `<div class='media-content-wrapper'>${segment.getHTMLContent()}</div>`;\n      }\n      // console.log(\"loading Media\", slug, info);\n\n      // TODO: Fix hokey workaround\n      ctx.commit(\"SET_CURRENT_SEGMENT_SETUP\", info);\n      return ctx.rootState.TXBA_UTILS.loadMedia(slug, info);\n    }\n  },\n  getters: {\n    isValidLoop: ctx => {\n      const start = ctx.playerSettings.loop_start;\n      const stop = ctx.playerSettings.loop_stop;\n      return start >= 0 && stop >= 1 && start !== stop && stop - start > 1;\n    },\n    getLoopStart: ctx => ctx.playerSettings.loop_start,\n    getLoopStop: ctx => ctx.playerSettings.loop_stop,\n    getHistory: ctx => {\n      const histLength = ctx.courseHistory.length;\n      if (histLength === 0) return [];\n      const numCourses = histLength < 5 ? histLength : 5;\n      return ctx.courseHistory.slice(numCourses, -1);\n    },\n    getPlaySections: ctx => {\n      return ctx.playSections;\n    },\n    hasDefaultSegment: ctx =>\n      ctx.ProPlayer.thePackage.getDefaultSegmentEntryID() !== \"\"\n  }\n};\n","import { Notify, QSpinnerGears } from \"quasar\";\nimport { firebaseAuth } from \"boot/firebase\";\nimport { Loading, LocalStorage } from \"quasar\";\n\nexport default {\n  namespaced: true,\n  state: {\n    loggedIn: false\n  },\n  mutations: {\n    SET_LOGGED_IN(state, value) {\n      state.loggedIn = value;\n    }\n  },\n  actions: {\n    register_user({ dispatch }, payload) {\n      console.log(\"register\", payload);\n\n      firebaseAuth\n        .createUserWithEmailAndPassword(payload.email, payload.password)\n        .then(userCredential => {\n          // Signed in\n          var user = userCredential.user;\n          console.log(\"Registration Successful\", user);\n          // ...\n          dispatch(\"login_user\", payload);\n        })\n        .catch(error => {\n          Notify.create({\n            type: \"negative\",\n            caption: error.code,\n            message: error.message\n          });\n          console.error(error.code, error.message);\n        });\n    },\n    login_user({ commit, dispatch }, payload) {\n      const dismiss = Notify.create({\n        spinner: QSpinnerGears,\n        message: \"Working...\"\n      });\n      firebaseAuth\n        .signInWithEmailAndPassword(payload.email, payload.password)\n        .then(userCredential => {\n          // Signed in\n          let _user = userCredential.user;\n          // console.log(\"Login Successful\", user);\n          dispatch(\"setWithExpiry\", \"loggedIn\");\n          dismiss();\n          this.$router.replace(\"/\").catch(err => {});\n        })\n        .catch(error => {\n          commit(\"SET_LOGGED_IN\", false);\n          dismiss();\n          Notify.create({\n            type: \"negative\",\n            caption: error.code,\n            message: error.message\n          });\n          console.error(error.code, error.message);\n        });\n    },\n    logout_user({ commit }) {\n      console.log(\"logout\");\n      firebaseAuth.signOut().then(() => {\n        commit(\"SET_LOGGED_IN\", false);\n        this.$router.push(\"/auth\").catch(err => {});\n        LocalStorage.remove(\"loggedIn\");\n      });\n    },\n    setWithExpiry(ctx, key) {\n      const now = new Date();\n      const oneday = 60 * 60 * 24 * 1000; //(milliseconds)\n      const item = {\n        expiry: now.getTime() + oneday\n      };\n      LocalStorage.set(key, item);\n    },\n    handleAuthStateChange({ commit }, value) {\n      firebaseAuth.onAuthStateChanged(user => {\n        Loading.hide();\n        if (user) {\n          // console.log('logged in', user)\n          commit(\"SET_LOGGED_IN\", true);\n          this.$router.push(\"/\").catch(err => {});\n        } else {\n          commit(\"SET_LOGGED_IN\", false);\n          LocalStorage.remove(\"loggedIn\");\n          this.$router.replace(\"/auth\").catch(err => {});\n        }\n        // console.log('auth state change', typeof user === Object ? 'logged in': 'logged out');\n      });\n    }\n  },\n  getters: {}\n};\n","var map = {\n\t\"./auth.js\": \"c7d4\",\n\t\"./bacon.js\": \"27ff\",\n\t\"./browser.js\": \"fd70\",\n\t\"./default.js\": \"10e2\",\n\t\"./index.js\": \"2a74\",\n\t\"./watch.js\": \"b78d\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"d307\";","// extracted by mini-css-extract-plugin","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDRpJ4ioTTxDqO2JcdIB0HEIEKcgAB7cTI\",\n  authDomain: \"txba-proplayerv8.firebaseapp.com\",\n  projectId: \"txba-proplayerv8\",\n  storageBucket: \"txba-proplayerv8.appspot.com\",\n  messagingSenderId: \"842822199400\",\n  appId: \"1:842822199400:web:6e2de8930aa880728d73dd\"\n};\n\nlet FBApp = firebase.initializeApp(firebaseConfig)\nlet firebaseAuth = FBApp.auth()\nlet firebaseDB = FBApp.database()\nlet firebaseStore = FBApp.firestore()\n\nexport {\n  firebaseAuth,\n  firebaseDB,\n  firebaseStore\n}","/*jslint this:true, white:true */\r\n/*jslint this:true, white:true */\r\n// import {\r\n//     ProPlayerBrowser\r\n// } from \"./--js-ProPlayerBrowser\";\r\n// import {\r\n//     ProPlayerFavoritesManager\r\n// } from \"./--js-ProPlayerFavoritesManager\";\r\n// import {\r\n//     ProPlayerHistoryManager\r\n// } from \"./--js-ProPlayerHistoryManager\";\r\n// import {\r\n//     ProPlayerCommentsManager\r\n// } from \"./--js-ProPlayerCommentManager\";\r\n// import {\r\n//     InstantLoop,\r\n//     ProPlayerLoopsManager\r\n// } from \"./--js-ProPlayerLoopsManager\";\r\n// import {\r\n//     ProPlayerUserDataManager\r\n// } from \"./--js-ProPlayerUserDataManager\";\r\n// import {\r\n//     ProPlayerPackage\r\n// } from \"./--js-ProPlayerPackage\";\r\n// import {\r\n//     ProPlayerSegment\r\n// } from \"./--js-ProPlayerSegment\";\r\n// import {\r\n//     gc_BranchPath\r\n// } from \"./globals\";\r\nexport class ProPlayer {\r\n  constructor() {\r\n    \"use strict\";\r\n    // TODO: ADD MobileDetect.js\r\n    // this.theMobileDetect = new MobileDetect(window.navigator.userAgent);\r\n    // Top Level Objects\r\n    this.browserTool = new Browser(\"contentBrowser\");\r\n    this.favoritesManager = new FavoritesManager(\"favoritesList\");\r\n    this.historyManager = new HistoryManager(\"historyList\");\r\n    this.commentsManager = new CommentsManager(\"cmtList\");\r\n    this.loopsManager = new LoopsManager();\r\n    this.userDataManager = new UserDataManager();\r\n    this.thePackage = new Package();\r\n    this.theSegment = new Segment();\r\n    this.theEngine = null;\r\n    this.packageOverviewTemplate = \"\";\r\n    this.strFavoritesListWrapperID = \"favoritesList\";\r\n    this.strCommentsListWrapperID = \"cmtList\";\r\n    this.spinnerDiv =\r\n      '<div class=\"spinner\"><i class=\"fa fa-spinner fa-spin\"></i></div>';\r\n    this.bPackageDataLoadingStarted = false;\r\n    this.bPackageDataLoadingFinished = false;\r\n    this.bSegmentDataLoadingStarted = false;\r\n    this.bSegmentDataLoadingFinished = false;\r\n    this.b_LoadingFinished = false;\r\n    this.b_UpdateURL = false;\r\n    this.b_KeepSidebarOpen = false;\r\n    this.n_SidebarToggleTimerID = -1;\r\n    window.addEventListener(\"onpopstate\", event => {\r\n      console.log(\"eventstate\", event.state);\r\n      let theState = event.state;\r\n      console.log(\"Popping state: \" + JSON.stringify(theState));\r\n      if (theState !== null) {\r\n        if (\r\n          theState.type === \"facebook\" &&\r\n          theState.segment1 === \"facebook\" &&\r\n          theState.segment2 !== \"\" &&\r\n          theState.segment3 !== \"\"\r\n        ) {\r\n          thePlayer.openExternalFBVideo(\r\n            theState.segment2,\r\n            theState.segment3,\r\n            false\r\n          );\r\n        } else if (\r\n          theState.type === \"youtube\" &&\r\n          theState.segment1 === \"youtube\" &&\r\n          theState.segment2 !== \"\"\r\n        ) {\r\n          thePlayer.openExternalYouTubeVideo(theState.segment2, false);\r\n        } else if (\r\n          theState.type === \"package\" &&\r\n          theState.segment1 !== \"\" &&\r\n          theState.segment2 === \"\"\r\n        ) {\r\n          thePlayer.openPackage(theState.segment1, false);\r\n        } else if (\r\n          theState.type === \"package\" &&\r\n          theState.segment1 !== \"\" &&\r\n          theState.segment2 !== \"\"\r\n        ) {\r\n          if (theState.segment1 === thePlayer.thePackage.getEntryID()) {\r\n            thePlayer.openSegmentWithinCurrentPackage(theState.segment2, false);\r\n          } else {\r\n            thePlayer.openPackageWithSegment(\r\n              theState.segment1,\r\n              theState.segment2,\r\n              false\r\n            );\r\n          }\r\n        } else if (theState.type === \"empty\") {\r\n          thePlayer.initializeWithoutPackage(false);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  /******************************/\r\n  /* Interface callback functions */\r\n  /******************************/\r\n  initializeWithoutPackage(bUpdateURL) {\r\n    this.resetEverything();\r\n    this.mediaLoadDefaultPage();\r\n    this.closeSidebar();\r\n    this.pushSegmentDownloadsMenu();\r\n    this.pushFullscreenButtonState();\r\n    this.pushHomeButtonState();\r\n    this.userDataManager.resetAll();\r\n    this.favoritesManager.reloadFavorites();\r\n    this.reattachKeyboardEvents();\r\n    this.enableSidebarTabs();\r\n    this.pushPackageTitle(\"TXBA Pro Player\");\r\n    this.pushSegmentTitle(\"Version 7.4 (Tony Branch)\");\r\n    if (bUpdateURL) {\r\n      this.updateURL();\r\n    }\r\n  }\r\n  /******************************/\r\n  /***    All Reset Functions **/\r\n  /******************************/\r\n  resetEverything() {\r\n    //first shut everything down and reset everything.\r\n    // this.toolsCloseToolWindow();\r\n    this.resetPackage();\r\n    this.resetSegment();\r\n    this.resetLoadingFlags();\r\n  }\r\n  resetLoadingFlags() {\r\n    this.bPackageDataLoadingFinished = false;\r\n    this.bSegmentDataLoadingFinished = false;\r\n    this.bPackageDataLoadingStarted = false;\r\n    this.bSegmentDataLoadingStarted = false;\r\n    this.b_LoadingFinished = false;\r\n    this.b_UpdateURL = false;\r\n  }\r\n  resetPackageTitle() {\r\n    this.pushPackageTitle(\"TXBA Pro Player\");\r\n    $(\"#proPlayerWrapper\").toggleClass(\"has-info\", false);\r\n  }\r\n  resetPlayerTitle() {\r\n    this.resetPackageTitle(\"TXBA Pro Player\");\r\n    this.pushSegmentTitle(\"No Media Loaded\");\r\n    $(\"#proPlayerWrapper\").toggleClass(\"has-info\", false);\r\n  }\r\n  resetPackage() {\r\n    this.thePackage.resetAll();\r\n    // this.resetPackageSections();\r\n    // this.resetPackageTitle();\r\n    // this.resetPackageOverview();\r\n    // this.closeInfoPane();\r\n    this.commentsManager.reset();\r\n    this.favoritesManager.reset();\r\n  }\r\n  resetPackageSections() {\r\n    //console.log('Deleting segments list');\r\n    $(\"#sectionList\").empty();\r\n    $(\"#sectionListEmpty\").toggle(true);\r\n  }\r\n  resetSegment() {\r\n    if (this.theEngine !== null) {\r\n      this.theEngine.prepareForDestruction();\r\n      delete this.theEngine;\r\n    }\r\n    this.theSegment.resetAll();\r\n    this.userDataManager.resetAll();\r\n    // $(\"#mediaWrapper\").empty();\r\n    // this.resetSegmentChapters();\r\n    this.resetSegmentLoops();\r\n    // this.resetSegmentTitle();\r\n  }\r\n  resetSegmentChapters() {\r\n    $(\"#chapterList\").empty();\r\n    $(\"#chapterListEmpty\").text(\"No segment loaded.\");\r\n    $(\"#chapterListEmpty\").toggle(true);\r\n  }\r\n  resetSegmentLoops() {\r\n    this.loopsManager.resetAll();\r\n  }\r\n  resetSegmentTitle() {\r\n    this.pushSegmentTitle(\"&nbsp;\");\r\n  }\r\n  resetSelectedSegment() {\r\n    $(\".sidebar-list-item.segment.active\").toggleClass(\"active\", false);\r\n  }\r\n  resetPackageOverview() {\r\n    $(\"#packageOverviewWrapper\").toggle(false);\r\n    $(\"#packageOverviewWrapper\").appendTo(\"body\");\r\n  }\r\n  bailOut() {\r\n    // When loading encounters an error, this is where it comes back to\r\n    // We reset everything and go back to the homescreen.\r\n    if (this.thePackage.getErrorMessage() !== \"\") {\r\n      alert(this.thePackage.getErrorMessage());\r\n    }\r\n    this.initializeWithoutPackage();\r\n  }\r\n  /******************************************/\r\n  /*********   All Opening Functions  ********/\r\n  /*******************************************/\r\n  openPackage(strPackageID, bUpdateURL) {\r\n    this.resetEverything();\r\n    this.b_UpdateURL = bUpdateURL;\r\n    // this.openSectionsSidebar();\r\n    // this.beginFetchPackageData(strPackageID);\r\n    // this.waitForPackageData(strPackageID);\r\n  }\r\n  openPackageWithSegment(strPackageID, strSegmentID, bUpdateURL) {\r\n    this.resetEverything();\r\n    this.b_UpdateURL = bUpdateURL;\r\n    this.beginFetchPackageData(strPackageID);\r\n    this.beginFetchSegmentData(strSegmentID);\r\n    this.waitForPackageAndSegmentData();\r\n  }\r\n  openSegmentWithinCurrentPackage(strSegmentID, bUpdateURL) {\r\n    console.log(\"Opening segment: \" + strSegmentID);\r\n    // this.resetPackageOverview();\r\n    // this.closeInfoPane();\r\n    this.resetSegment();\r\n    this.resetLoadingFlags();\r\n    this.b_UpdateURL = bUpdateURL;\r\n    // this.beginFetchSegmentData(strSegmentID);\r\n    this.waitForSegmentData();\r\n  }\r\n  openExternalYouTubeVideo(strYTCode, bUpdateURL) {\r\n    this.resetEverything();\r\n    this.b_UpdateURL = bUpdateURL;\r\n    this.beginFetchYouTubeData(strYTCode);\r\n    this.waitForYouTubeData();\r\n  }\r\n  openExternalFBVideo(strFBUserID, strFBVideoID, bUpdateURL) {\r\n    //console.log(\"Opening FB Video for User/ID: \" + strFBUserID + \",\" + strFBVideoID);\r\n    this.resetEverything();\r\n    this.b_UpdateURL = bUpdateURL;\r\n    this.beginFetchFacebookData(strFBUserID, strFBVideoID);\r\n    this.waitForFacebookData();\r\n  }\r\n  openExternalInstagramVideo(strInstagramID, bUpdateURL) {\r\n    //console.log(\"Opening FB Video for User/ID: \" + strFBUserID + \",\" + strFBVideoID);\r\n    this.resetEverything();\r\n    this.b_UpdateURL = bUpdateURL;\r\n    this.beginFetchInstagramData(strInstagramID);\r\n    this.waitForInstagramData();\r\n  }\r\n  openUnknownPackageType(packageOptions, bUpdateURL) {\r\n    if (packageOptions.type == \"entry\") {\r\n      this.openPackage(packageOptions.packageID, bUpdateURL);\r\n    } else if (packageOptions.type == \"youtube\") {\r\n      this.openExternalYouTubeVideo(packageOptions.packageID, bUpdateURL);\r\n    } else if (packageOptions.type == \"facebook\") {\r\n      this.openExternalFBVideo(\r\n        packageOptions.fbUserID,\r\n        packageOptions.fbVideoID,\r\n        bUpdateURL\r\n      );\r\n    }\r\n  }\r\n  openUnknownPackageFromSegments(\r\n    strSegment1,\r\n    strSegment2,\r\n    strSegment3,\r\n    bUpdateURL\r\n  ) {\r\n    if (strSegment1 === \"\") {\r\n      this.initializeWithoutPackage(bUpdateURL);\r\n    } else if (strSegment1 == \"youtube\") {\r\n      this.openExternalYouTubeVideo(strSegment2, bUpdateURL);\r\n      this.openSidebar();\r\n    } else if (strSegment1 == \"facebook\") {\r\n      this.openExternalFBVideo(strSegment2, strSegment3, bUpdateURL);\r\n      this.openSidebar();\r\n    } else {\r\n      if (strSegment2 !== \"\") {\r\n        this.openPackageWithSegment(strSegment1, strSegment2, bUpdateURL);\r\n        this.openSidebar();\r\n      } else {\r\n        this.openPackage(strSegment1, bUpdateURL);\r\n        this.openSidebar();\r\n      }\r\n    }\r\n  }\r\n  /*****************************************\r\n   *************   Begin Loading Functions  ************\r\n   *****************************************/\r\n  beginFetchPackageData(strPackageID) {\r\n    this.bPackageDataLoadingStarted = true;\r\n    $.get(gc_BranchPath + \"/--ajax-get-package-info/\" + strPackageID, function(\r\n      data\r\n    ) {\r\n      let tempData = jQuery.parseJSON(data);\r\n      if (tempData.packageError === \"\") {\r\n        thePlayer.thePackage.setEntryID(tempData.packageID);\r\n        thePlayer.thePackage.setTitle(tempData.packageTitle);\r\n        thePlayer.thePackage.setChannelName(tempData.packageChannel);\r\n        thePlayer.thePackage.setChannelShortName(tempData.packageChannelSlug);\r\n        thePlayer.thePackage.setDate(tempData.packageDate);\r\n        thePlayer.thePackage.setDefaultSegmentEntryID(\r\n          tempData.packageDefaultSegmentID\r\n        );\r\n        thePlayer.thePackage.setDescription(tempData.packageDescription);\r\n        thePlayer.thePackage.setOverview(tempData.packageOverview);\r\n        thePlayer.thePackage.setImageURL(tempData.packageImage);\r\n        thePlayer.thePackage.setSections(tempData.sections);\r\n        thePlayer.thePackage.setTuning(tempData.packageTuning);\r\n        thePlayer.thePackage.setLoaded(true);\r\n        thePlayer.bPackageDataLoadingFinished = true;\r\n      } else {\r\n        thePlayer.thePackage.setLoaded(false);\r\n        thePlayer.thePackage.setErrorMessage(tempData.packageError);\r\n      }\r\n    });\r\n  }\r\n  beginFetchSegmentData(strSegmentID) {\r\n    //console.log(\"Beginning Fetch of segment data.\");\r\n    // this.showMediaLoading();\r\n    this.pushSelectedSegmentState(strSegmentID);\r\n    this.bSegmentDataLoadingStarted = true;\r\n    $.get(gc_BranchPath + \"/--ajax-get-segment-info/\" + strSegmentID, function(\r\n      data\r\n    ) {\r\n      //console.log(\"Finished loading segment info;\");\r\n      let tempData = jQuery.parseJSON(data);\r\n      //console.log(tempData);\r\n      thePlayer.theSegment.setEntryID(tempData.segmentEntryID);\r\n      thePlayer.theSegment.setSegmentType(\"entry\");\r\n      thePlayer.theSegment.setVimeoCode(tempData.segmentVimeoCode);\r\n      thePlayer.theSegment.setYouTubeCode(tempData.segmentYouTubeCode);\r\n      thePlayer.theSegment.setMP3Filename(tempData.segmentMP3Filename);\r\n      thePlayer.theSegment.setSoundSliceCode(tempData.segmentSoundSliceCode);\r\n      thePlayer.theSegment.setPDFFilename(tempData.segmentPDFFilename);\r\n      thePlayer.theSegment.setMediaURL(tempData.segmentURL);\r\n      thePlayer.theSegment.setGPXFilename(tempData.segmentGPXFilename);\r\n      thePlayer.theSegment.setTitle(tempData.segmentTitle);\r\n      thePlayer.theSegment.setDisplayName(tempData.segmentDisplayName);\r\n      thePlayer.theSegment.setFullDisplayName(tempData.segmentFullDisplayName);\r\n      thePlayer.theSegment.setChaptersArray(tempData.chaptersArray);\r\n      thePlayer.theSegment.setLoopsArray(tempData.loopsArray);\r\n      thePlayer.theSegment.setMediaStartTime(tempData.mediaStartTime);\r\n      thePlayer.theSegment.setHTMLContent(tempData.segmentHTML);\r\n      thePlayer.theSegment.setDescription(tempData.segmentShortDescription);\r\n      thePlayer.theSegment.setUserLoopsEntryIDsFromString(\r\n        tempData.userLoopEntryIDs\r\n      );\r\n      thePlayer.theSegment.setIsLoaded(true);\r\n      thePlayer.theSegment.inferMediaType();\r\n      thePlayer.bSegmentDataLoadingFinished = true;\r\n    });\r\n  }\r\n  beginFetchYouTubeData(strYTCode) {\r\n    //segment info must be reset prior to calling this function.\r\n    this.showMediaLoading();\r\n    $.get(gc_BranchPath + \"/--ajax-get-yt-info/\" + strYTCode, function(data) {\r\n      //console.log(\"Finished loading YT Info:\");\r\n      let tempData = jQuery.parseJSON(data);\r\n      //console.log(tempData);\r\n      thePlayer.theSegment.setYTMatchingEntryID(tempData.matchingYTEntryID);\r\n      thePlayer.theSegment.setSegmentType(\"other\");\r\n      thePlayer.theSegment.setPrimaryMediaType(\"youtube\");\r\n      thePlayer.theSegment.setYouTubeCode(tempData.segmentYouTubeCode);\r\n      thePlayer.theSegment.setFullDisplayName(tempData.segmentFullDisplayName);\r\n      thePlayer.theSegment.setDescription(tempData.segmentShortDescription);\r\n      thePlayer.theSegment.setIsLoaded(true);\r\n      thePlayer.bSegmentDataLoadingFinished = true;\r\n    });\r\n  }\r\n  beginFetchFacebookData(strFBUser, strFBCode) {\r\n    //segment info must be reset prior to calling this function.\r\n    this.showMediaLoading();\r\n    this.theSegment.setFacebookUser(strFBUser);\r\n    this.theSegment.setFacebookVideoCode(strFBCode);\r\n    this.theSegment.setSegmentType(\"other\");\r\n    this.theSegment.setPrimaryMediaType(\"facebook\");\r\n    this.theSegment.setIsLoaded(true);\r\n    thePlayer.theSegment.inferMediaType();\r\n    this.bSegmentDataLoadingFinished = true;\r\n  }\r\n  beginFetchInstagramData(strInstgramID) {\r\n    //segment info must be reset prior to calling this function.\r\n    this.showMediaLoading();\r\n    this.theSegment.setInstagramID(strInstgramID);\r\n    this.theSegment.setSegmentType(\"other\");\r\n    this.theSegment.setPrimaryMediaType(\"instagram\");\r\n    this.theSegment.setIsLoaded(true);\r\n    thePlayer.theSegment.inferMediaType();\r\n    this.bSegmentDataLoadingFinished = true;\r\n  }\r\n  /*****************************************\r\n   *************   WAITING FUNCTIONS  ************\r\n   *****************************************/\r\n  waitForPackageData() {\r\n    if (this.bPackageDataLoadingFinished) {\r\n      if (!this.thePackage.getErrorMessage()) {\r\n        this.processOnlyNewPackageData();\r\n      } else {\r\n        this.bailOut();\r\n      }\r\n    } else {\r\n      setTimeout(function() {\r\n        thePlayer.waitForPackageData();\r\n      }, 250);\r\n    }\r\n  }\r\n  waitForSegmentData() {\r\n    // if (this.bSegmentDataLoadingFinished) {\r\n      this.processOnlyNewSegmentData();\r\n    // } else {\r\n    //   setTimeout(function() {\r\n    //     thePlayer.waitForSegmentData();\r\n    //   }, 250);\r\n    // }\r\n  }\r\n  waitForPackageAndSegmentData() {\r\n    if (this.bPackageDataLoadingFinished && this.bSegmentDataLoadingFinished) {\r\n      if (!this.thePackage.getErrorMessage()) {\r\n        this.processBothNewPackageAndSegmentData();\r\n      } else {\r\n        this.bailOut();\r\n      }\r\n    } else {\r\n      setTimeout(function() {\r\n        thePlayer.waitForPackageAndSegmentData();\r\n      }, 250);\r\n    }\r\n  }\r\n  waitForYouTubeData() {\r\n    if (this.bSegmentDataLoadingFinished) {\r\n      //console.log(\"YouTube Data Loaded.\");\r\n      this.processNewYouTubeData();\r\n    } else {\r\n      setTimeout(function() {\r\n        thePlayer.waitForYouTubeData();\r\n      }, 250);\r\n    }\r\n  }\r\n  waitForFacebookData() {\r\n    if (this.bSegmentDataLoadingFinished) {\r\n      this.processNewFacebookData();\r\n    } else {\r\n      setTimeout(function() {\r\n        thePlayer.waitForFacebookData();\r\n      }, 250);\r\n    }\r\n  }\r\n  waitForInstagramData() {\r\n    if (this.bSegmentDataLoadingFinished) {\r\n      this.processNewInstagramData();\r\n    } else {\r\n      setTimeout(function() {\r\n        thePlayer.waitForInstagramData();\r\n      }, 250);\r\n    }\r\n  }\r\n  cleanUpLoading() {\r\n    this.pushHomeButtonState();\r\n    this.pushFullscreenButtonState();\r\n    if (this.isIOS()) {\r\n      $(\"body\").toggleClass(\"is-ios\", true);\r\n    }\r\n    if (this.isSafari()) {\r\n      $(\"body\").toggleClass(\"is-safari\", true);\r\n    }\r\n    if (this.isChrome()) {\r\n      $(\"body\").toggleClass(\"is-chrome\", true);\r\n    }\r\n    this.b_LoadingIsFinished = true;\r\n    if (this.b_UpdateURL) {\r\n      this.updateURL();\r\n    }\r\n  }\r\n  /*****************************************/\r\n  /******  New Data Processing Functions ***/\r\n  /*****************************************/\r\n  processOnlyNewPackageData() {\r\n    // This function should only be called when ONLY a new package is being\r\n    // loaded.\r\n    // First, if this package has a default segment, begin opening that so the media\r\n    // can load while we're doing the rest.\r\n    if (this.thePackage.getDefaultSegmentEntryID() !== \"\") {\r\n      this.openSegmentWithinCurrentPackage(\r\n        this.thePackage.getDefaultSegmentEntryID(),\r\n        this.b_UpdateURL\r\n      );\r\n    } else {\r\n      //only load package overview if we're not also loading the default segment.\r\n      this.pushInfoPaneData();\r\n      this.pushPackageOverviewData();\r\n    }\r\n    // this.pushPackageSectionList();\r\n    // this.pushPackageTitle();\r\n    // this.pushInfoPaneData();\r\n    //this function is called after package data has been loaded\r\n    this.commentsManager.setNewPackageID(this.thePackage.getEntryID());\r\n    this.favoritesManager.setNewPackageID(this.thePackage.getEntryID());\r\n    this.favoritesManager.reloadFavorites();\r\n    this.commentsManager.reloadComments();\r\n    // this.openSectionsSidebar();\r\n    // this.openFirstSection();\r\n    // this.cleanUpLoading();\r\n    // this.enableSidebarTabs();\r\n    this.updateLocalHistory();\r\n    // this.updateURL();\r\n    // this.reattachKeyboardEvents();\r\n  }\r\n  processOnlyNewSegmentData() {\r\n    //console.log(\"Processing New Segment Data\");\r\n    this.processOnlyNewSegmentMedia();\r\n    this.pushSelectedSegmentState();\r\n    // this.pushSegmentChapters();\r\n    this.extractSegmentLoops();\r\n    // this.pushSegmentTitle();\r\n    // this.pushSegmentDownloadsMenu();\r\n    // this.pushFullscreenButtonState();\r\n    // this.pushInfoPaneData();\r\n    // this.enableSidebarTabs();\r\n    // this.mobileSidebarCheck();\r\n    this.updateLocalHistory();\r\n    // this.cleanUpLoading();\r\n    this.commentsManager.setNewSegmentID(this.theSegment.getEntryID());\r\n    // this.commentsManager.reloadComments();\r\n    console.log('allowUserData')\r\n    if (this.theSegment.allowUserData()) {\r\n      this.userDataManager.setNewSegmentID(this.theSegment.getEntryID());\r\n      // this.userDataManager.loadUserDataForm();\r\n    }\r\n  }\r\n  processBothNewPackageAndSegmentData() {\r\n    // This function should only be called when processing BOTH\r\n    // a new Package AND a new embedded Segment at the same time.\r\n    //First, start loading the media so that can process while we do the rest.\r\n    // this.processOnlyNewSegmentMedia();\r\n    //Update interface elements related to Package.\r\n    // this.pushPackageSectionList();\r\n    // this.pushPackageTitle();\r\n    // this.pushInfoPaneData();\r\n    //Deal with comments.\r\n    this.commentsManager.setNewPackageID(this.thePackage.getEntryID());\r\n    this.commentsManager.setNewSegmentID(this.theSegment.getEntryID());\r\n\r\n    // TODO: HANDLE COMMENTS\r\n    // this.commentsManager.reloadComments();\r\n\r\n    //this function is called after package data has been loaded\r\n    this.favoritesManager.setNewPackageID(this.thePackage.getEntryID());\r\n\r\n    // TODO: HANDLE FAVS\r\n    // this.favoritesManager.reloadFavorites();\r\n\r\n    //Now open the Sidebar\r\n    // this.openSectionsSidebar();\r\n    // this.openFirstSection();\r\n    //Now do the segment stuff that doesn't overlap with package stuff.\r\n    this.pushSelectedSegmentState();\r\n    // this.pushSegmentChapters();\r\n    this.extractSegmentLoops();\r\n    // this.pushSegmentTitle();\r\n    // this.pushSegmentDownloadsMenu();\r\n    // this.pushFullscreenButtonState();\r\n    this.updateLocalHistory();\r\n    if (this.theSegment.allowUserData()) {\r\n      this.userDataManager.setNewSegmentID(this.theSegment.getEntryID());\r\n      // this.userDataManager.loadUserDataForm();\r\n    }\r\n    this.b_LoadingIsFinished = true;\r\n    // if (this.b_UpdateURL) {\r\n    //   this.updateURL();\r\n    // }\r\n\r\n    // this.cleanUpLoading();\r\n    // this.enableSidebarTabs();\r\n  }\r\n  processNewYouTubeData() {\r\n    //console.log(\"Processing new YouTube Data\");\r\n    if (this.theSegment.getYTMatchingEntryID() !== \"\") {\r\n      var matchingSegmentID = this.theSegment.getYTMatchingEntryID();\r\n      //We just need to open the matching segment as a package, because\r\n      // in the package loading code, the segment will set itself as\r\n      // the default segment, and the package loading code will trigger\r\n      // a load when it finds that data.\r\n      //console.log(\"Matching Entry found for new YouTube Video\");\r\n      this.openPackage(matchingSegmentID, true);\r\n    } else {\r\n      this.processOnlyNewSegmentData();\r\n      this.favoritesManager.reloadFavorites();\r\n      this.loadSaveYouTubeInterface();\r\n      this.enableSidebarTabs();\r\n    }\r\n  }\r\n  processNewFacebookData() {\r\n    //console.log(\"Processing new Facebook Data\");\r\n    this.processOnlyNewSegmentData();\r\n    this.enableSidebarTabs();\r\n  }\r\n  processNewInstagramData() {\r\n    //console.log(\"Processing new Facebook Data\");\r\n    this.processOnlyNewSegmentData();\r\n    this.enableSidebarTabs();\r\n  }\r\n  processOnlyNewSegmentMedia() {\r\n    // this.resetPackageOverview();\r\n    let mediaType = this.theSegment.getPrimaryMediaType();\r\n    //console.log(\"Processing new Segment Media:\" + mediaType);\r\n    switch (mediaType) {\r\n      case \"vimeo\":\r\n        this.mediaLoadVimeo(this.theSegment.getVimeoCode());\r\n        break;\r\n      case \"youtube\":\r\n        this.mediaLoadYouTube(this.theSegment.getYouTubeCode());\r\n        break;\r\n      case \"mp3\":\r\n        this.mediaLoadMP3(this.theSegment.getMP3Filename());\r\n        break;\r\n      case \"soundslice\":\r\n        this.mediaLoadSoundSlice(this.theSegment.getSoundSliceCode());\r\n        break;\r\n      case \"pdf\":\r\n        this.mediaLoadPDFViewer(this.theSegment.getPDFFilename());\r\n        break;\r\n      case \"url\":\r\n        this.mediaLoadURL(this.theSegment.getMediaURL());\r\n        break;\r\n      case \"facebook\":\r\n        this.mediaLoadFacebook(\r\n          this.theSegment.getFacebookUser(),\r\n          this.theSegment.getFacebookVideoCode()\r\n        );\r\n        break;\r\n      case \"instagram\":\r\n        this.mediaLoadInstagram(this.theSegment.getInstagramID());\r\n        break;\r\n      case \"html\":\r\n        this.mediaLoadHTML();\r\n        break;\r\n    }\r\n  }\r\n  extractSegmentLoops() {\r\n    //loops manager is assumed to be reset by this point.\r\n    this.loopsManager.createNewCollection(\"loopList\", \"system\", false);\r\n    this.loopsManager.addListToCollectionFromArray(\r\n      this.theSegment.getLoopsArray(),\r\n      \"system\"\r\n    );\r\n  }\r\n  /******************************/\r\n  /* Interface Update Functions */\r\n  /*****************************\r\n   */\r\n  pushHomeButtonState() {\r\n    if (this.thePackage.isLoaded() || this.theSegment.isLoaded()) {\r\n      $(\"#resetPlayerButton\").toggle(true);\r\n    } else {\r\n      $(\"#resetPlayerButton\").toggle(false);\r\n    }\r\n  }\r\n  pushPackageSectionList() {\r\n    //console.log('Updating sections');\r\n    // this.spinner(\"#sectionList\");\r\n    var sections = this.thePackage.getSections();\r\n    var segmentListString = \"\";\r\n    var bUseSections = sections.length > 1 ? true : false;\r\n    if (bUseSections) {\r\n      segmentListString +=\r\n        '<ul class=\"accordion sidebar-accordion\" id=\"segmentListAccordion\" data-accordion data-allow-all-closed=\"true\" data-multi-expand=\"false\">';\r\n    }\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (bUseSections) {\r\n        segmentListString += '<li class=\"accordion-item ';\r\n        segmentListString += '\" data-accordion-item>';\r\n        segmentListString +=\r\n          '<a class=\"accordion-title\">' +\r\n          sections[i].sectionTitle +\r\n          \" <sup>\" +\r\n          sections[i].segments.length +\r\n          \"</sup></a>\";\r\n        segmentListString +=\r\n          '<div class=\"accordion-content\" id=\"section-' +\r\n          i +\r\n          '\" data-tab-content>';\r\n      }\r\n      segmentListString += '<ul class=\"sidebar-list\">';\r\n      for (let j = 0; j < sections[i].segments.length; j++) {\r\n        var theSegment = sections[i].segments[j];\r\n        segmentListString += '<li class=\"sidebar-list-item segment ';\r\n        segmentListString += this.getSegmentClass(theSegment);\r\n        segmentListString +=\r\n          '\" id=\"segment-item-' + theSegment.segmentID + '\">';\r\n        segmentListString +=\r\n          \"<a onClick=\\\"thePlayer.openSegmentWithinCurrentPackage('\" +\r\n          theSegment.segmentID +\r\n          \"', true); return false;\\\"\";\r\n        segmentListString += 'title=\"' + theSegment.segmentFullTitle + '\">';\r\n        segmentListString += theSegment.segmentTitle + \"</a></li>\";\r\n      }\r\n      segmentListString += \"</ul>\";\r\n      if (bUseSections) {\r\n        segmentListString += \"</div></li>\";\r\n      }\r\n    }\r\n    if (bUseSections) {\r\n      segmentListString += \"</ul>\";\r\n    }\r\n    $(\"#sectionList\").html(segmentListString);\r\n    if (bUseSections) {\r\n      //console.log('Setting up Accordion for the first time');\r\n      $(\"#segmentListAccordion\").foundation();\r\n    }\r\n    if ($(\"#sectionList\").children().length === 0) {\r\n      $(\"#sectionListEmpty\").text(\"No segments to show.\");\r\n      $(\"#sectionListEmpty\").toggle(true);\r\n    } else {\r\n      $(\"#sectionListEmpty\").toggle(false);\r\n    }\r\n  }\r\n  pushPackageTitle(strTitleOverride) {\r\n    if (typeof strTitleOverride != \"undefined\") {\r\n      $(\".packageTitle\").html(strTitleOverride);\r\n    } else if (this.thePackage.isLoaded()) {\r\n      $(\".packageTitle\").html(this.thePackage.getTitle());\r\n      $(\"#proPlayerWrapper\").toggleClass(\"has-info\", true);\r\n    } else {\r\n      $(\".packageTitle\").html(\"TXBA Pro Player\");\r\n      $(\"#proPlayerWrapper\").toggleClass(\"has-info\", false);\r\n    }\r\n  }\r\n  pushPackageOverviewData() {\r\n    $(\"#packageTitle\").html(\"<h1>\" + this.thePackage.getTitle() + \"</h1>\");\r\n    $(\"#packageImage\").html(\r\n      \"<img class='bordered' src='\" + this.thePackage.getImageURL() + \"'/>\"\r\n    );\r\n    $(\"#packageDescription\").html(this.thePackage.getDescription());\r\n    $(\"#packageOverview\").html(this.thePackage.getOverview());\r\n    $(\"#packageOverviewWrapper\").appendTo(\"#mediaWrapper\");\r\n    $(\"#packageOverviewWrapper\").toggle(true);\r\n  }\r\n  pushSegmentTitle(strTitle) {\r\n    if (typeof strTitle != \"undefined\") {\r\n      $(\".segmentTitle\").html(strTitle);\r\n    } else {\r\n      $(\".segmentTitle\").html(this.theSegment.getFullDisplayName());\r\n      $(\"#proPlayerWrapper\").toggleClass(\"has-info\", true);\r\n    }\r\n  }\r\n  pushInfoPaneData() {\r\n    $(\"#proPlayerWrapper\").toggleClass(\"has-info\", true);\r\n    $(\"#info-package-name\").html(this.thePackage.getTitle());\r\n    $(\"#info-segment-name\").html(this.theSegment.getFullDisplayName());\r\n    $(\"#info-package-tuning\").html(\r\n      \"<strong>Tuning</strong>: \" + this.thePackage.getTuning()\r\n    );\r\n    if (!this.theSegment.isLoaded()) {\r\n      $(\"#info-package-description\").html(this.thePackage.getDescription());\r\n      $(\"#info-segment-overview\").html(this.thePackage.getOverview());\r\n    } else {\r\n      $(\"#info-package-description\").html(\"\");\r\n      $(\"#info-segment-overview\").html(this.theSegment.getDescription());\r\n    }\r\n  }\r\n  pushSelectedSegmentState(nForceSegment) {\r\n    // this.resetSelectedSegment();\r\n    if (!nForceSegment && !this.theSegment.isLoaded()) {\r\n      return;\r\n    }\r\n    var newSegmentElementID = \"#segment-item-\";\r\n    if (nForceSegment) {\r\n      newSegmentElementID += nForceSegment;\r\n    } else if (this.theSegment.isLoaded()) {\r\n      newSegmentElementID += this.theSegment.getEntryID();\r\n    }\r\n    console.log(\"Setting active segment ID: \" + newSegmentElementID);\r\n    // $(newSegmentElementID).toggleClass(\"active\", true);\r\n    // var parentElement = $(newSegmentElementID).closest(\".accordion-content\");\r\n    // var parentLink = $(newSegmentElementID).closest(\".accordion-item\");\r\n    // if (parentElement.length !== 0 && !$(parentLink).hasClass(\"is-active\")) {\r\n    //   $(\"#segmentListAccordion\").foundation(\"toggle\", parentElement);\r\n    // }\r\n  }\r\n  pushSegmentDownloadsMenu() {\r\n    $(\"#downloads-list\").empty();\r\n    if (this.theSegment.isLoaded() && this.theSegment.getMP3Filename() !== \"\") {\r\n      $(\"#downloadsToggle\").toggle(true);\r\n      $(\"#downloadsToggle\").toggle(true);\r\n      var newItem = \"<li class='sidebar-list-item segment download'><a href='\";\r\n      newItem +=\r\n        \"https://cdn.texasbluesalley.com/audio/\" +\r\n        this.theSegment.getMP3Filename();\r\n      newItem +=\r\n        \"' download='\" +\r\n        this.theSegment.getMP3Filename() +\r\n        \"'>Download MP3</a></li>\";\r\n      $(\"#downloads-list\").append(newItem);\r\n    } else {\r\n      $(\"#downloadsToggle\").toggle(false);\r\n    }\r\n  }\r\n  pushFullscreenButtonState() {\r\n    if (\r\n      this.theSegment.isLoaded() &&\r\n      (this.theSegment.getVimeoCode() !== \"\" ||\r\n        this.theSegment.getYouTubeCode() !== \"\" ||\r\n        this.theSegment.getMP3Filename() !== \"\" ||\r\n        this.theSegment.getSoundSliceCode() !== \"\")\r\n    ) {\r\n      $(\"#fullscreenButton\").toggle(true);\r\n    } else {\r\n      $(\"#fullscreenButton\").toggle(false);\r\n    }\r\n  }\r\n  pushSegmentChapters() {\r\n    if (!this.theSegment.isLoaded()) {\r\n      $(\"#chapterListEmpty\").text(\"No segment loaded.\");\r\n      $(\"#chapterListEmpty\").toggle(true);\r\n    } else if (this.theSegment.getChaptersArray().length === 0) {\r\n      $(\"#chapterListEmpty\").text(\r\n        \"This segment does not have any chapter markers.\"\r\n      );\r\n      $(\"#chapterListEmpty\").toggle(true);\r\n    } else {\r\n      $(\"#chapterListEmpty\").toggle(false);\r\n      //this function assumes the chapter list has already been reset\r\n      var chapters = this.theSegment.getChaptersArray();\r\n      for (let i = 0; i < chapters.length; i++) {\r\n        var chapterItem =\r\n          '<li class=\"sidebar-list-item chapter\" id=\"chapterItem-' + i + '\">';\r\n        chapterItem +=\r\n          '<a onClick=\"thePlayer.chapterSelected(this,' + i + ')\">';\r\n        chapterItem += chapters[i][0];\r\n        chapterItem += \"</a></li>\";\r\n        $(\"#chapterList\").append(chapterItem);\r\n      }\r\n    }\r\n  }\r\n  getEngineLoop() {\r\n    if (\r\n      typeof this.theEngine !== \"undefined\" &&\r\n      this.theEngine.getLoopDefined()\r\n    ) {\r\n      return new InstantLoop(\r\n        \"\",\r\n        this.theEngine.getLoopStart(),\r\n        this.theEngine.getLoopEnd()\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  /*****************************************\r\n   ********  Media Loading Functions\t******\r\n   *****************************************/\r\n  mediaLoadDefaultPage() {\r\n    $(\"#mediaWrapper\").load(gc_BranchPath + \"/--ajax-load-default-page\");\r\n  }\r\n  mediaLoadVimeo(nVimeoID) {\r\n    $(\"#mediaWrapper\").load(\r\n      gc_BranchPath + \"/--ajax-load-media/vimeo/\" + nVimeoID,\r\n      function() {\r\n        thePlayer.reattachKeyboardEvents();\r\n      }\r\n    );\r\n  }\r\n  mediaLoadYouTube(strYouTubeCode) {\r\n    this.showMediaLoading();\r\n    $(\"#mediaWrapper\").load(\r\n      gc_BranchPath + \"/--ajax-load-media/youtube/\" + strYouTubeCode,\r\n      function() {\r\n        thePlayer.reattachKeyboardEvents();\r\n      }\r\n    );\r\n  }\r\n  mediaLoadFacebook(strFacebookUser, strFacebookCode) {\r\n    //console.log(\"About to load FB video for user/id: \" + strFacebookUser + \",\" + strFacebookCode);\r\n    this.showMediaLoading();\r\n    $(\"#mediaWrapper\").load(\r\n      gc_BranchPath +\r\n        \"/--ajax-load-media/facebook/\" +\r\n        strFacebookUser +\r\n        \"/\" +\r\n        strFacebookCode,\r\n      function() {\r\n        thePlayer.reattachKeyboardEvents();\r\n      }\r\n    );\r\n  }\r\n  mediaLoadInstagram(strInstagramID) {\r\n    //console.log(\"About to load FB video for user/id: \" + strFacebookUser + \",\" + strFacebookCode);\r\n    this.showMediaLoading();\r\n    $(\"#mediaWrapper\").load(\r\n      gc_BranchPath + \"/--ajax-load-media/instagram/\" + strInstagramID,\r\n      function() {\r\n        thePlayer.reattachKeyboardEvents();\r\n      }\r\n    );\r\n  }\r\n  mediaLoadMP3(strMP3Filename) {\r\n    $(\"#mediaWrapper\").load(\r\n      gc_BranchPath + \"/--ajax-load-media/audio/\" + strMP3Filename,\r\n      function() {\r\n        thePlayer.reattachKeyboardEvents();\r\n      }\r\n    );\r\n  }\r\n  mediaLoadSoundSlice(strSoundSliceCode) {\r\n    $(\"#mediaWrapper\").load(\r\n      gc_BranchPath + \"/--ajax-load-soundslice/\" + strSoundSliceCode\r\n    );\r\n  }\r\n  mediaLoadPDFViewer(strPDFFilename) {\r\n    //console.log('Trying to load ' + strPDFFilename );\r\n    $(\"#mediaWrapper\").load(\r\n      gc_BranchPath + \"/--ajax-load-pdf/\" + strPDFFilename\r\n    );\r\n  }\r\n  mediaLoadURL(theURL) {\r\n    var contentString = \"<iframe id='content-frame' src='\";\r\n    contentString += decodeURIComponent(theURL) + \"' frameBorder='0'></iframe>\";\r\n    $(\"#mediaWrapper\").html(contentString);\r\n  }\r\n  mediaLoadHTML() {\r\n    var contentString = \"<div class='media-content-wrapper'>\";\r\n    contentString += this.theSegment.getHTMLContent();\r\n    contentString += \"</div>\";\r\n    $(\"#mediaWrapper\").html(contentString);\r\n  }\r\n  triggerSaveUserData() {\r\n    this.loopsManager.savingUserData();\r\n    this.userDataManager.saveUserData();\r\n  }\r\n  /**********************************/\r\n  /*** Chapter And Loop Related Functions ***/\r\n  /**********************************/\r\n  chapterSelected(sender, nChapterIndex) {\r\n    var theChapter = this.theSegment.getChaptersArray()[nChapterIndex];\r\n    //console.log('Chapter Selected: ' + nChapterIndex);\r\n    //console.log( this.theSegment.chapters[ nChapterIndex] );\r\n    //console.log( \"Calling engine gotoChapter\" );\r\n    this.loopsManager.clearAllActiveLoops();\r\n    var chapterParentItemID = \"#chapterItem-\" + nChapterIndex;\r\n    $(chapterParentItemID).toggleClass(\"active\", true);\r\n    this.theEngine.goToChapter(theChapter[1]);\r\n    window.setTimeout(function() {\r\n      $(\".sidebar-list-item.chapter.active\").toggleClass(\"active\", false);\r\n    }, 200);\r\n  }\r\n  engineLoopHasChanged() {\r\n    this.loopsManager.pushUserLoopInterfaceState();\r\n  }\r\n  /*****************************************\r\n   *************\tTool Window Functions ************\r\n   *****************************************/\r\n  toolsShowBrowser() {\r\n    this.closeInfoPane();\r\n    //console.log('Opening Browser');\r\n    if (typeof this.theEngine !== \"undefined\") {\r\n      this.theEngine.stopPlayback();\r\n    }\r\n    if (thePlayer.browserTool.b_BrowserLoaded === true) {\r\n      $(\"#browser-wrapper\").appendTo(\"#toolWindowInnerWrapper\");\r\n      $(\"#browser-wrapper\").toggle(true);\r\n      this.browserTool.reloadResultsFavoritesForms();\r\n    } else {\r\n      $(\"#toolWindowInnerWrapper\").load(\r\n        gc_BranchPath + \"/--ajax-browser\",\r\n        function() {\r\n          thePlayer.browserTool.b_BrowserLoaded = true;\r\n          thePlayer.browserTool.browserReset();\r\n        }\r\n      );\r\n    }\r\n    $(\"#toolWindowTitle\").text(\"Browser\");\r\n    $(\"#toolWindowOuterWrapper\").data(\"tool\", \"browser\");\r\n    $(\"#toolWindowOuterWrapper\").toggle(true);\r\n  }\r\n  toolsShowTuner() {\r\n    this.closeInfoPane();\r\n    if (typeof this.theEngine !== \"undefined\") {\r\n      this.theEngine.stopPlayback();\r\n    }\r\n    var contentString = \"<iframe src='/dev/tuner'></iframe>\";\r\n    $(\"#toolWindowInnerWrapper\").html(contentString);\r\n    $(\"#toolWindowTitle\").text(\"Tuner\");\r\n    $(\"#toolWindowOuterWrapper\").data(\"tool\", \"tuner\");\r\n    $(\"#toolWindowOuterWrapper\").toggle(true);\r\n  }\r\n  toolsShowSpiderTool() {\r\n    this.closeInfoPane();\r\n    if (typeof this.theEngine !== \"undefined\") {\r\n      this.theEngine.stopPlayback();\r\n    }\r\n    var contentString = \"<iframe src='/dev/spider'></iframe>\";\r\n    $(\"#toolWindowInnerWrapper\").html(contentString);\r\n    $(\"#toolWindowTitle\").text(\"Spider Drills Tool\");\r\n    $(\"#toolWindowOuterWrapper\").data(\"tool\", \"spider\");\r\n    $(\"#toolWindowOuterWrapper\").toggle(true);\r\n  }\r\n  toolsShowFretboardTool() {\r\n    this.closeInfoPane();\r\n    if (typeof this.theEngine !== \"undefined\") {\r\n      this.theEngine.stopPlayback();\r\n    }\r\n    var contentString = \"<iframe src='/dev/fretboard'></iframe>\";\r\n    $(\"#toolWindowInnerWrapper\").html(contentString);\r\n    $(\"#toolWindowTitle\").text(\"Fretboard Tool\");\r\n    $(\"#toolWindowOuterWrapper\").data(\"tool\", \"fretboard\");\r\n    $(\"#toolWindowOuterWrapper\").toggle(true);\r\n  }\r\n  toolsCloseToolWindow() {\r\n    $(\"#toolWindowOuterWrapper\").toggle(false);\r\n    if ($(\"#toolWindowOuterWrapper\").data(\"tool\") == \"browser\") {\r\n      $(\"#browser-wrapper\").toggle(false);\r\n      $(\"#browser-wrapper\").appendTo(\"body\");\r\n      this.favoritesManager.fullRefresh();\r\n    }\r\n    $(\"#toolWindowInnerWrapper\").empty();\r\n    $(\"#toolWindowTitle\").text(\"\");\r\n  }\r\n  /**********************************/\r\n  /*** From here on down, it's a mishmosh of functions ***/\r\n  /**********************************/\r\n  getSegmentClass(theSegment) {\r\n    if (\r\n      theSegment.segmentVimeoCode !== \"\" ||\r\n      theSegment.segmentYouTubeCode !== \"\"\r\n    ) {\r\n      return \"video\";\r\n    } else if (theSegment.segmentMP3Filename !== \"\") {\r\n      return \"audio\";\r\n    } else if (theSegment.segmentSoundSliceCode !== \"\") {\r\n      return \"tablature\";\r\n    } else if (theSegment.segmentPDFCode !== \"\") {\r\n      return \"pdf\";\r\n    } else if (theSegment.segmentURL !== \"\") {\r\n      return \"url\";\r\n    } else if (theSegment.segmentGPXFilename !== \"\") {\r\n      return \"gpx\";\r\n    } else {\r\n      return \"html\";\r\n    }\r\n  }\r\n  /*****************************************\r\n   ********* Window Related Stuff\t   ************\r\n   *****************************************/\r\n  toggleSidebar() {\r\n    clearTimeout(this.n_SidebarToggleTimerID);\r\n    $(\"#proPlayerWrapper\").toggleClass(\"sidebar-closed\");\r\n    if ($(\"#proPlayerWrapper\").hasClass(\"sidebar-closed\")) {\r\n      //in all cases, if (after toggling) the sidebar is closed\r\n      //we turn off the keep sidebar open flag so that the side hover\r\n      //area will work to open it again.\r\n      this.b_KeepSidebarOpen = false;\r\n      $(\"#proPlayerWrapper\").toggleClass(\"sidebar-sticky\", false);\r\n    }\r\n  }\r\n  toggleSidebarButtonCallback() {\r\n    if ($(\"#proPlayerWrapper\").hasClass(\"sidebar-closed\")) {\r\n      //BEFORE toggling, if the sidebar is close, we enable the\r\n      //keep open flag so that hovinger will be disabled. We only\r\n      //do this when the top button is clicked to open the sidebar.\r\n      this.b_KeepSidebarOpen = true;\r\n      $(\"#proPlayerWrapper\").toggleClass(\"sidebar-sticky\", true);\r\n    }\r\n    this.toggleSidebar();\r\n  }\r\n  openSidebar() {\r\n    $(\"#proPlayerWrapper\").toggleClass(\"sidebar-closed\", false);\r\n  }\r\n  closeSidebar() {\r\n    $(\"#proPlayerWrapper\").toggleClass(\"sidebar-closed\", true);\r\n  }\r\n  enableSidebarTabs() {\r\n    //console.log(\"Enabling sidebar tabs\");\r\n    $(\"#sectionsTab\").toggleClass(\"enabled\", this.thePackage.isLoaded());\r\n    $(\"#chaptersTab\").toggleClass(\"enabled\", this.theSegment.allowChapters());\r\n    $(\"#loopsTab\").toggleClass(\"enabled\", this.theSegment.allowLoops());\r\n    $(\"#commentsTab\").toggleClass(\"enabled\", this.thePackage.isLoaded());\r\n    $(\"#importTab\").toggleClass(\"enabled\", this.theSegment.allowImport());\r\n    $(\"#sidebarPanelTabs li.enabled:first a\").trigger(\"click\");\r\n  }\r\n  toggleKeyboardShortcuts() {\r\n    $(\"#keyboardShortcuts\").toggle();\r\n    $(\"#keyboardShortcutsButton\").toggleClass(\"active\");\r\n  }\r\n  openFirstSection() {\r\n    var sectionAccordionItems = $(\"#segmentListAccordion .accordion-content\");\r\n    if (\r\n      typeof sectionAccordionItems !== \"undefined\" &&\r\n      sectionAccordionItems.length > 0\r\n    ) {\r\n      $(\"#segmentListAccordion\").foundation(\r\n        \"toggle\",\r\n        $(sectionAccordionItems[0])\r\n      );\r\n    }\r\n  }\r\n  openSectionsSidebar() {\r\n    this.openSidebar();\r\n    $(\"#sidebarPanelTabs\").foundation(\"selectTab\", \"segmentsPanel\");\r\n  }\r\n  openChaptersSidebar() {\r\n    this.openSidebar();\r\n    $(\"#sidebarPanelTabs\").foundation(\"selectTab\", \"chaptersPanel\");\r\n  }\r\n  openLoopsSidebar() {\r\n    this.openSidebar();\r\n    $(\"#sidebarPanelTabs\").foundation(\"selectTab\", \"loopsPanel\");\r\n  }\r\n  showLoopsSidebarList(nListIndex) {\r\n    this.openLoopsSidebar();\r\n    let listTab = $(\"#loopListsTabsContent\").children(\".tabs-panel\")[\r\n      nListIndex\r\n    ];\r\n    let tabID = $(listTab).attr(\"id\");\r\n    $(\"#loopsPanelTabs\").foundation(\"selectTab\", tabID);\r\n  }\r\n  openFavoritesSidebar() {\r\n    this.openSidebar();\r\n    $(\"#sidebarPanelTabs\").foundation(\"selectTab\", \"favoritesPanel\");\r\n  }\r\n  openCommentsSidebar() {\r\n    this.openSidebar();\r\n    $(\"#sidebarPanelTabs\").foundation(\"selectTab\", \"commentsPanel\");\r\n  }\r\n  mobileSidebarCheck() {\r\n    if (!Foundation.MediaQuery.atLeast(\"large\")) {\r\n      this.toggleSidebar();\r\n    }\r\n  }\r\n  updateURL() {\r\n    let theURL = \"/watch/\";\r\n    let theState = {};\r\n    let theTitle = \"\";\r\n    let currentState = history.state;\r\n    let bPushNewState = true;\r\n    // debugger;\r\n    //First, check if we're pushing the same state that we already have loaded.\r\n    console.log(\"Checking: \" + JSON.stringify(currentState));\r\n    if (currentState !== null) {\r\n      if (\r\n        currentState.type == \"package\" &&\r\n        currentState.segment1 == this.thePackage.getEntryID() &&\r\n        currentState.segment2 == this.theSegment.getEntryID()\r\n      ) {\r\n        //we have a match, get out of here.\r\n        bPushNewState = false;\r\n      } else if (\r\n        currentState.type == \"youtube\" &&\r\n        this.theSegment.getSegmentType() == \"other\" &&\r\n        currentState.segment2 == this.theSegment.getYouTubeCode()\r\n      ) {\r\n        //It's a matching YouTube video\r\n        bPushNewState = false;\r\n      } else if (\r\n        currentState.type == \"facebook\" &&\r\n        this.theSegment.getSegmentType() == \"other\" &&\r\n        currentState.segment2 == this.theSegment.getFacebookUser() &&\r\n        currentState.segment3 == this.theSegment.getFacebookVideoCode()\r\n      ) {\r\n        //Matching facebook video.\r\n        bPushNewState = false;\r\n      }\r\n    }\r\n    if (bPushNewState) {\r\n      if (this.thePackage.isLoaded()) {\r\n        theState.type = \"package\";\r\n        theState.segment1 = this.thePackage.getEntryID();\r\n        theTitle += this.thePackage.getTitle();\r\n        theURL += this.thePackage.getEntryID();\r\n        if (this.theSegment.isLoaded()) {\r\n          theState.segment2 = this.theSegment.getEntryID();\r\n          theURL += \"/\" + this.theSegment.getEntryID();\r\n          theTitle += \":\" + this.theSegment.getTitle();\r\n        } else {\r\n          theState.segment2 = \"\";\r\n        }\r\n        theState.segment3 = \"\";\r\n      } else if (\r\n        this.theSegment.isLoaded() &&\r\n        this.theSegment.getSegmentType() == \"other\"\r\n      ) {\r\n        if (this.theSegment.getPrimaryMediaType() == \"youtube\") {\r\n          theState.type = \"youtube\";\r\n          theState.segment1 = \"youtube\";\r\n          theState.segment2 = this.theSegment.getYouTubeCode();\r\n          theState.segment3 = \"\";\r\n          theURL += \"youtube/\" + this.theSegment.getYouTubeCode();\r\n          theTitle = \"YouTube: \" + this.theSegment.getDisplayName();\r\n        } else if (this.theSegment.getPrimaryMediaType() == \"facebook\") {\r\n          theState.type = \"facebook\";\r\n          theState.segment1 = \"facebook\";\r\n          theState.segment2 = this.theSegment.getFacebookUser();\r\n          theState.segment3 = this.theSegment.getFacebookVideoCode();\r\n          theTitle = \"Facebook Video\";\r\n          theURL +=\r\n            theState.segment1 +\r\n            \"/\" +\r\n            theState.segment2 +\r\n            \"/\" +\r\n            theState.segment3;\r\n        }\r\n      } else {\r\n        theState.segment1 = \"\";\r\n        theState.segment2 = \"\";\r\n        theState.segment3 = \"\";\r\n        theState.type = \"empty\";\r\n        theTitle = \"TXBA Pro Player\";\r\n      }\r\n      //console.log(\"Pushing: \" + JSON.stringify(theState));\r\n      //console.log(\"Title is: \" + theTitle);\r\n      history.pushState(theState, theTitle, theURL);\r\n    }\r\n  }\r\n\r\n  setupMobileiOS() {\r\n    if (isIOS()) {\r\n      var viewportmeta = document.querySelector('meta[name=\"viewport\"]');\r\n      if (viewportmeta) {\r\n        viewportmeta.content =\r\n          \"width=device-width, minimum-scale=1.0, maximum-scale=1.0\";\r\n        document.body.addEventListener(\r\n          \"gesturestart\",\r\n          function() {\r\n            viewportmeta.content =\r\n              \"width=device-width, minimum-scale=.6, maximum-scale=1.6\";\r\n          },\r\n          false\r\n        );\r\n      }\r\n    }\r\n    if (isIPhone()) {\r\n      $(\".not-on-iPhones\").toggle(false);\r\n    }\r\n  }\r\n  isIOS() {\r\n    return (\r\n      this.theMobileDetect.is(\"iphone\") ||\r\n      this.theMobileDetect.is(\"ipad\") ||\r\n      this.theMobileDetect.is(\"ipod\")\r\n    );\r\n  }\r\n  isIPhone() {\r\n    return this.theMobileDetect.is(\"iphone\") || this.theMobileDetect.is(\"ipod\");\r\n  }\r\n  isIE() {\r\n    strUserAgent = window.navigator.userAgent;\r\n    return (\r\n      strUserAgent.search(\"Trident\") > -1 || strUserAgent.search(\"Edge\") > -1\r\n    );\r\n  }\r\n  isSafari() {\r\n    strUserAgent = window.navigator.userAgent;\r\n    return (\r\n      strUserAgent.search(\"Safari\") > -1 && strUserAgent.search(\"Chrome\") == -1\r\n    );\r\n  }\r\n  isChrome() {\r\n    strUserAgent = window.navigator.userAgent;\r\n    return strUserAgent.search(\"Chrome\") > -1;\r\n  }\r\n  isWindows10() {\r\n    strUserAgent = window.navigator.userAgent;\r\n    return strUserAgent.search(\"Windows NT 10\") > -1;\r\n  }\r\n  getChannelTypeString(strChannelShortName) {\r\n    var strType = \"Item\";\r\n    switch (strChannelShortName) {\r\n      case \"pro_player_packages\":\r\n        strType = \"Course\";\r\n        break;\r\n      case \"free_lesson_friday\":\r\n        strType = \"Lesson\";\r\n        break;\r\n      case \"tone_tuesday\":\r\n      case \"performances\":\r\n      case \"youtube_video\":\r\n        strType = \"Video\";\r\n        break;\r\n      case \"backing_tracks\":\r\n        strType = \"Track\";\r\n        break;\r\n    }\r\n    return strType;\r\n  }\r\n  fullscreenToggle() {\r\n    if (typeof this.theEngine !== \"undefined\") {\r\n      this.theEngine.MediaPlayer.enterFullScreen();\r\n    } else if (this.theSegment.getPrimaryMediaType() === \"soundslice\") {\r\n      $(\"iframe#ssembed\")[0].requestFullscreen();\r\n    }\r\n  }\r\n  spinner(elementID) {\r\n    //console.log('Activating spinner on ' + elementID);\r\n    var strSpinner =\r\n      \"<div id='spinner'><i class='fa fa-spinner fa-spin fa-2x'></i></div>\";\r\n    $(elementID).html(strSpinner);\r\n  }\r\n  closeBrowserRequested() {\r\n    this.toolsCloseToolWindow();\r\n    this.favoritesManager.fullRefresh();\r\n  }\r\n  updateLocalHistory() {\r\n    if (\r\n      this.thePackage.isLoaded() &&\r\n      this.theSegment.isLoaded() &&\r\n      this.theSegment.getSegmentType() !== \"other\"\r\n    ) {\r\n      console.log(\"Updating history\");\r\n      this.historyManager.addHistoryItem(\r\n        this.thePackage.getEntryID(),\r\n        this.theSegment.getEntryID(),\r\n        this.thePackage.getTitle(),\r\n        this.thePackage.getChannelName(),\r\n        this.theSegment.getFullDisplayName(),\r\n        \"entry\"\r\n      );\r\n    }\r\n  }\r\n  toggleInfoPane() {\r\n    if (this.theSegment.isLoaded() || this.thePackage.isLoaded()) {\r\n      $(\"#infoPane\").slideToggle();\r\n    }\r\n  }\r\n  showInfoPane() {\r\n    if (this.theSegment.isLoaded() || this.thePackage.isLoaded()) {\r\n      $(\"#infoPane\").toggle(true);\r\n    }\r\n  }\r\n  closeInfoPane() {\r\n    $(\"#infoPane\").toggle(false);\r\n  }\r\n  showMediaLoading() {\r\n    this.resetPackageOverview();\r\n    $(\"#mediaWrapper\").html(this.spinnerDiv);\r\n  }\r\n  triggerNextLoop() {\r\n    let listIndex = this.loopsManager.activateNextLoop();\r\n    if (listIndex > -1 && this.isSidebarOpen()) {\r\n      this.showLoopsSidebarList(listIndex);\r\n    }\r\n  }\r\n  triggerPreviousLoop() {\r\n    let listIndex = this.loopsManager.activatePreviousLoop();\r\n    if (listIndex > -1 && this.isSidebarOpen()) {\r\n      this.showLoopsSidebarList(listIndex);\r\n    }\r\n  }\r\n  isSidebarOpen() {\r\n    return !$(\"#proPlayerWrapper\").hasClass(\"sidebar-closed\");\r\n  }\r\n  reattachKeyboardEvents() {\r\n    //console.log('Reattaching Mouse Events');\r\n    Mousetrap.bind(\"s\", function() {\r\n      thePlayer.toggleSidebar();\r\n    });\r\n    if (this.thePackage.isLoaded()) {\r\n      Mousetrap.bind(\"1\", function() {\r\n        thePlayer.openSectionsSidebar();\r\n      });\r\n      Mousetrap.bind(\"5\", function() {\r\n        thePlayer.openCommentsSidebar();\r\n      });\r\n    }\r\n    if (this.theSegment.allowChapters()) {\r\n      Mousetrap.bind(\"2\", function() {\r\n        thePlayer.openChaptersSidebar();\r\n      });\r\n    }\r\n    if (this.theSegment.allowLoops()) {\r\n      Mousetrap.bind(\"3\", function() {\r\n        thePlayer.openLoopsSidebar();\r\n      });\r\n      Mousetrap.bind(\"j\", function() {\r\n        thePlayer.triggerNextLoop();\r\n      });\r\n      Mousetrap.bind(\"k\", function() {\r\n        thePlayer.triggerPreviousLoop();\r\n      });\r\n    }\r\n    Mousetrap.bind(\"4\", function() {\r\n      thePlayer.openFavoritesSidebar();\r\n    });\r\n    Mousetrap.bind(\"?\", function() {\r\n      thePlayer.toggleKeyboardShortcuts();\r\n    });\r\n    if (typeof this.theEngine !== \"undefined\") {\r\n      Mousetrap.bind(\"space\", function() {\r\n        thePlayer.theEngine.onButtonTogglePlayback();\r\n      });\r\n      Mousetrap.bind(\"right\", function() {\r\n        thePlayer.theEngine.onButtonPlaybackForward1();\r\n      });\r\n      Mousetrap.bind(\"left\", function() {\r\n        thePlayer.theEngine.onButtonPlaybackRewind1();\r\n      });\r\n      Mousetrap.bind(\"alt+right\", function() {\r\n        thePlayer.theEngine.onButtonPlaybackForward5();\r\n      });\r\n      Mousetrap.bind(\"alt+left\", function() {\r\n        thePlayer.theEngine.onButtonPlaybackRewind5();\r\n      });\r\n      Mousetrap.bind(\"i\", function() {\r\n        thePlayer.theEngine.onButtonRestartLoop();\r\n      });\r\n      Mousetrap.bind(\"shift+right\", function() {\r\n        thePlayer.theEngine.onButtonPlaybackForwardPoint5();\r\n      });\r\n      Mousetrap.bind(\"shift+left\", function() {\r\n        thePlayer.theEngine.onButtonPlaybackRewindPoint5();\r\n      });\r\n      Mousetrap.bind(\"shift+up\", function() {\r\n        thePlayer.theEngine.onButtonPlaybackRestart();\r\n      });\r\n      Mousetrap.bind(\"a\", function() {\r\n        thePlayer.theEngine.onButtonSetLoopStart();\r\n      });\r\n      Mousetrap.bind(\"b\", function() {\r\n        thePlayer.theEngine.onButtonSetLoopEnd();\r\n      });\r\n      Mousetrap.bind(\"l\", function() {\r\n        thePlayer.theEngine.onButtonToggleLooping();\r\n      });\r\n      Mousetrap.bind(\"s+up\", function() {\r\n        thePlayer.theEngine.increasePlaybackRate();\r\n      });\r\n      Mousetrap.bind(\"s+down\", function() {\r\n        thePlayer.theEngine.decreasePlaybackRate();\r\n      });\r\n      Mousetrap.bind(\"z\", function() {\r\n        thePlayer.theEngine.toggleZoomEnabled();\r\n      });\r\n      Mousetrap.bind(\"/\", function() {\r\n        thePlayer.theEngine.toggleVideoControls();\r\n      });\r\n      $(\"#playback-play\").keydown(function(event) {\r\n        event.preventDefault();\r\n      });\r\n    }\r\n    $(\"body\").keydown(function(event) {\r\n      //console.log('Body receivedkey: ' + event.which);\r\n      //console.log(event);\r\n      if (\r\n        event.which === 32 &&\r\n        (event.target.nodeName === \"BODY\" || event.target.nodeName === \"A\")\r\n      ) {\r\n        event.preventDefault();\r\n      }\r\n    });\r\n  }\r\n  convertOldCookies() {\r\n    //Resolution\r\n    var savedResolution = Cookies.get(\"resolution\");\r\n    if (typeof savedResolution != \"undefined\") {\r\n      localStorage.setItem(\"proPlayerResolution\", savedResolution);\r\n      Cookies.remove(\"resolution\");\r\n    }\r\n    var savedVolume = Cookies.get(\"volume\");\r\n    if (typeof savedVolume != \"undefined\") {\r\n      localStorage.setItem(\"proPlayerVolume\", savedVolume);\r\n      Cookies.remove(\"volume\");\r\n    }\r\n    var savedFlip = Cookies.get(\"playerFlipped\");\r\n    if (typeof savedFlip != \"undefined\") {\r\n      localStorage.setItem(\"proPlayerFlipped\", savedFlip);\r\n      Cookies.remove(\"playerFlipped\");\r\n    }\r\n    var savedHistory = Cookies.getJSON(\"proPlayerHistory\");\r\n    if (typeof savedHistory != \"undefined\") {\r\n      localStorage.setItem(\"proPlayerHistory\", JSON.stringify(savedHistory));\r\n      Cookies.remove(\"proPlayerHistory\");\r\n    }\r\n    Cookies.remove(\"packageResumeItems\");\r\n    Cookies.remove(\"savedResumeItems\");\r\n    Cookies.remove(\"recentlyViewed\");\r\n    Cookies.remove(\"savedPlaybackPositions\");\r\n  }\r\n  showPlayerError() {\r\n    //console.log(\"Player Error\");\r\n  }\r\n  /*****************************************\r\n   *************   External Video Code  ************\r\n   *****************************************/\r\n  loadSaveYouTubeInterface() {\r\n    $(\"#saveYTSegmentFormWrapper\").load(\r\n      gc_BranchPath + \"/--ajax-load-save-YT-segment-form\",\r\n      function() {\r\n        thePlayer.pushLoadYTInfo();\r\n      }\r\n    );\r\n  }\r\n  pushLoadYTInfo() {\r\n    $(\"form#saveYouTubeSegmentForm input[name=title]\").val(\r\n      \"YouTube: \" + this.theSegment.getYouTubeCode()\r\n    );\r\n    $(\"form#saveYouTubeSegmentForm input[name=cf_media_display_name]\").val(\r\n      this.theSegment.getFullDisplayName()\r\n    );\r\n    $(\"form#saveYouTubeSegmentForm input[name=cf_media_yt_code]\").val(\r\n      this.theSegment.getYouTubeCode()\r\n    );\r\n    $(\"form#saveYouTubeSegmentForm input[name=cf_media_short_description]\").val(\r\n      this.theSegment.getDescription()\r\n    );\r\n  }\r\n  submitSaveYouTubeForm() {\r\n    let theName = $(\"form#saveYouTubeSegmentForm input[name=title]\").val();\r\n    let theDisplayName = $(\r\n      \"form#saveYouTubeSegmentForm input[name=cf_media_display_name]\"\r\n    ).val();\r\n    let theYTCode = $(\r\n      \"form#saveYouTubeSegmentForm input[name=cf_media_yt_code]\"\r\n    ).val();\r\n    if (theName !== \"\" && theDisplayName !== \"\" && theYTCode !== \"\") {\r\n      var theForm = $(\"form#saveYouTubeSegmentForm\");\r\n      formData = $(theForm).serialize();\r\n      //console.log(formData);\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: $(theForm).attr(\"action\"),\r\n        data: formData\r\n      }).done(function(response) {\r\n        //console.log(response);\r\n        $(\"#saveYTSegmentFormWrapper\").empty();\r\n        thePlayer.reloadYouTube();\r\n      });\r\n    }\r\n  }\r\n  reloadYouTube() {\r\n    this.openExternalYouTubeVideo(this.theSegment.getYouTubeCode(), false);\r\n  }\r\n  showYouTubeLinkPrompt() {\r\n    var url = prompt(\"Enter the YouTube Video Link\");\r\n    if (typeof url !== \"undefined\" || url !== \"\") {\r\n      var regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=|\\?v=)([^#\\&\\?]*).*/;\r\n      var match = url.match(regExp);\r\n      if (match && match[2].length === 11) {\r\n        this.openExternalYouTubeVideo(match[2], true);\r\n      } else {\r\n        alert(\"The YouTube link provided was not valid.\");\r\n      }\r\n    }\r\n  }\r\n  showFacebookLinkPrompt() {\r\n    var url = prompt(\"Enter the Facebook Video Link\");\r\n    if (typeof url !== \"undefined\" || url !== \"\") {\r\n      var regExp = /^(?:(?:https?:)?\\/\\/)?(?:www\\.)?facebook\\.com\\/([a-zA-Z0-9\\.]+)\\/videos\\/(?:[a-zA-Z0-9\\.]+\\/)?([0-9]+)/;\r\n      var match = url.match(regExp);\r\n      //console.log(match);\r\n      if (match) {\r\n        this.openExternalFBVideo(match[1], match[2]);\r\n      } else {\r\n        alert(\"The Facebook Video link provided was not valid.\");\r\n      }\r\n    }\r\n  }\r\n  showInstagramLinkPrompt() {\r\n    var url = prompt(\"Enter the Instagram Video Link\");\r\n    if (typeof url !== \"undefined\" || url !== \"\") {\r\n      var regExp = /^(?:https?:\\/\\/(?:www\\.)?)?instagram\\.com(?:\\/p\\/(\\w+)\\/?)/;\r\n      var match = url.match(regExp);\r\n      //console.log(match);\r\n      if (match) {\r\n        this.openExternalInstagramVideo(match[1]);\r\n      } else {\r\n        alert(\"The Instagram Video link provided was not valid.\");\r\n      }\r\n    }\r\n  }\r\n  testFetchYouTubeData(strYTCode) {\r\n    $.get(gc_BranchPath + \"/--ajax-get-yt-info/\" + strYTCode, function(data) {\r\n      var theData = jQuery.parseJSON(data);\r\n      //console.log(theData);\r\n    });\r\n  }\r\n  startSidebarToggleHover() {\r\n    if (!this.b_KeepSidebarOpen) {\r\n      this.n_SidebarToggleTimerID = setTimeout(function() {\r\n        thePlayer.toggleSidebar();\r\n      }, 250);\r\n    }\r\n  }\r\n  cancelSidebarToggleHover() {\r\n    clearTimeout(this.n_SidebarToggleTimerID);\r\n    n_SidebarToggleTimerID = -1;\r\n  }\r\n  enginePlaybackToggled(bIsPlaying) {\r\n    $(\"#mediaPlayerWrapper\").toggleClass(\"paused\", !bIsPlaying);\r\n    $(\"#mediaPlayerWrapper\").toggleClass(\"playing\", bIsPlaying);\r\n  }\r\n}\r\n\r\nexport class Engine {\r\n  constructor() {\r\n    /*****************************************\r\n     ************* Global Variables  ************\r\n     *****************************************/\r\n    this.MediaPlayer = {};\r\n    this.media = {};\r\n\r\n    this.obj_ProgressSlider = {};\r\n    this.obj_SpeedSlider = {};\r\n    this.obj_VolumeSlider = {};\r\n    this.obj_ZoomSlider = {};\r\n    this.PitchShifter = null;\r\n    this.str_MediaCode = \"\";\r\n    this.str_MediaType = \"\";\r\n    this.b_PlayerFlipped = false;\r\n    this.f_CurrentTime = 0;\r\n    this.f_PlaybackRate = 1.0;\r\n    this.f_VideoDuration = 0;\r\n    this.f_LoopStartTime = 0;\r\n    this.str_PosterImage = \"\";\r\n    this.a_Chapters = [];\r\n    this.b_LoopStartTimeSet = false;\r\n    this.f_LoopEndTime = 0;\r\n    this.b_LoopEndTimeSet = false;\r\n    this.b_LoopingActivated = false;\r\n    this.b_ProcessingUserPlaybackToggle = false;\r\n    this.b_IsPlaying = false;\r\n    this.f_CurrentPercent = 0;\r\n    this.b_LoopIsDefined = false;\r\n    this.b_SliderIsUpdating = false;\r\n    this.b_LoopNeedsUpdate = false;\r\n    this.b_PlayerIsReady = false;\r\n    this.b_UserIsDraggingSlider = false;\r\n    this.b_PlayOnLoad = false;\r\n    this.f_LastProgressTime = 10000;\r\n    this.b_RestartingLoop = false;\r\n    this.f_Volume = 0;\r\n    this.b_PlayedOnce = false;\r\n    this.f_StartTime = 0;\r\n    this.a_VideoSources = [];\r\n    this.a_PlaybackSpeeds = [];\r\n    this.f_StartTime = 0;\r\n    this.f_SavedTime = 0;\r\n    this.b_ResumePlaying = false;\r\n    this.b_BlockProgressUpdates = false;\r\n    this.obj_LoadedLoop = {};\r\n    this.obj_PanZoom = {};\r\n    this.obj_Safety = {};\r\n    this.obj_Safety.IWillNotUseThisInPlugins = true;\r\n    this.f_ZoomFactor = 1;\r\n    this.b_ZoomEnabled = false;\r\n    this.f_StartTime = 0;\r\n    this.array_SavedZoom = \"matrix(1,0,0,1,0,0)\";\r\n    this.str_SavedResolution = \"\";\r\n    this.f_SavedTime = 0;\r\n    this.b_ProcessingUserPlayback = false;\r\n    this.b_ZoomSliderActivated = false;\r\n    this.b_PitchShiftActivated = false;\r\n    this.getLoopDefined = function() {\r\n      return this.b_LoopIsDefined;\r\n    };\r\n    this.getLoopStart = function() {\r\n      return this.f_LoopStartTime;\r\n    };\r\n    this.getLoopEnd = function() {\r\n      return this.f_LoopEndTime;\r\n    };\r\n\r\n    this.initializeProPlayerEngine = function(\r\n      mediaType,\r\n      mediaCode,\r\n      mediaStartTime,\r\n      posterImage,\r\n      sourcesArray,\r\n      chaptersArray\r\n    ) {\r\n      //console.log('initializeProPlayerEngine called');\r\n      this.str_MediaType = mediaType;\r\n      this.f_MediaStartTime = Math.max(mediaStartTime, 0);\r\n      this.str_PosterImage = posterImage;\r\n      this.str_MediaCode = mediaCode;\r\n      // this.setChaptersArray(chaptersArray);\r\n\r\n      this.a_VideoSources = sourcesArray;\r\n\r\n      if (this.isVimeo()) {\r\n        this.sortSourcesArray();\r\n      }\r\n\r\n      this.initializeProgressSlider();\r\n      this.initializeVolumeSlider();\r\n      this.initializeSpeedSlider();\r\n      this.initializeZoomSlider();\r\n      // this.initializePanZoom();\r\n      //this.initializePlaybackSpeeds();\r\n      this.createResolutionRadioButtons();\r\n      //this.createPlaybackRateButtons();\r\n      this.restorePlayerCookieSettings();\r\n      //this is the final step. All the necessary variables have been setup.\r\n      //Now we're going to initialize VideoJS\r\n      this.initializePlayer();\r\n\r\n      this.setVolumeSliderPosition(this.f_Volume);\r\n      this.playerSetVolume(this.f_Volume);\r\n\r\n      if (this.f_CurrentTime > 0) {\r\n        this.playerSeekTo(this.f_CurrentTime);\r\n      }\r\n    };\r\n\r\n    this.initializePlayer = function() {\r\n      if (this.str_MediaType == \"vimeo\" || this.str_MediaType == \"audio\") {\r\n        //console.log('Initializing Vimeo Player');\r\n        theItem = new MediaElementPlayer(\"videoPlayer\", {\r\n          preload: \"auto\",\r\n          autoplay: false,\r\n          poster: this.str_PosterImage,\r\n          features: [\"fullscreen\"],\r\n\r\n          success: function(mediaElement, originalNode, instance) {\r\n            thePlayer.theEngine.MediaPlayer = instance;\r\n            thePlayer.theEngine.media = mediaElement;\r\n            if (!thePlayer.theEngine.b_PlayerIsReady) {\r\n              thePlayer.theEngine.playerIsReady();\r\n            }\r\n          }\r\n        });\r\n\r\n        if (!thePlayer.isIOS() && !thePlayer.isSafari()) {\r\n          this.PitchShifter = new PitchShifter();\r\n        }\r\n      } else if (this.str_MediaType == \"youtube\") {\r\n        theItem = new MediaElementPlayer(\"videoPlayer\", {\r\n          preload: \"none\",\r\n          autoplay: 0,\r\n          poster: this.str_PosterImage,\r\n          features: [\"fullscreen\"],\r\n          success: function(mediaElement, originalNode, instance) {\r\n            thePlayer.theEngine.MediaPlayer = instance;\r\n            thePlayer.theEngine.media = mediaElement;\r\n            if (!thePlayer.theEngine.b_PlayerIsReady) {\r\n              thePlayer.theEngine.playerIsReady();\r\n            }\r\n          }\r\n        });\r\n      } else if (this.str_MediaType == \"facebook\") {\r\n        theItem = new MediaElementPlayer(\"videoPlayer\", {\r\n          preload: \"auto\",\r\n          autoplay: false,\r\n          poster: this.str_PosterImage,\r\n          renderers: [\"facebook\"],\r\n          videoWidth: \"100%\",\r\n          videoHeight: \"100%\",\r\n          features: [\"fullscreen\"],\r\n          success: function(mediaElement, originalNode, instance) {\r\n            thePlayer.theEngine.MediaPlayer = instance;\r\n            thePlayer.theEngine.media = mediaElement;\r\n            if (!thePlayer.theEngine.b_PlayerIsReady) {\r\n              thePlayer.theEngine.playerIsReady();\r\n            }\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    this.setChaptersArray = function(theChaptersArray) {\r\n      if (typeof theChaptersArray !== \"undefined\") {\r\n        this.a_Chapters = theChaptersArray;\r\n\r\n        var chapterString = \"\";\r\n        for (let i = 0; i < this.a_Chapters.length; i++) {\r\n          chapterString +=\r\n            \"<div class='chapter-marker' id='chapter-\" + i + \"'></div>\";\r\n        }\r\n        $(\"#chapters-wrapper\").html(chapterString);\r\n      }\r\n    };\r\n    this.prepareForDestruction = function() {\r\n      this.saveCookieValues();\r\n\r\n      if (!this.MediaPlayer.paused) {\r\n        this.MediaPlayer.pause();\r\n      }\r\n      $(\"#videoPlayer\").off(\"play\");\r\n      $(\"#videoPlayer\").off(\"pause\");\r\n      $(\"#videoPlayer\").off(\"loadedmetadata\");\r\n      $(\"#videoPlayer\").off(\"timeupdate\");\r\n      $(\"#videoPlayer\").off(\"ended\");\r\n      $(\"#videoPlayer\").off(\"error\");\r\n      $(\"#videoPlayer\").off(\"canplay\");\r\n\r\n      this.MediaPlayer.remove();\r\n      $(\"#mediaPlayerWrapper\").remove();\r\n\r\n      if (this.PitchShifter !== null) {\r\n        this.PitchShifter.prepareForDestruction();\r\n        delete this.PitchShifter;\r\n      }\r\n    };\r\n    this.playerIsReady = function() {\r\n      //console.log('playerIsReady function called.');\r\n      //console.log('Setting Poster Image To ' + this.str_PosterImage);\r\n      //console.log('Poster Image Is: ' + this.MediaPlayer.poster);\r\n      // Setup callbacks\r\n      $(\"#videoPlayer\").on(\"play\", function() {\r\n        thePlayer.theEngine.playerPlayEventCallback(event);\r\n      });\r\n      $(\"#videoPlayer\").on(\"pause\", function() {\r\n        thePlayer.theEngine.playerPauseEventCallback();\r\n      });\r\n\r\n      //Plyr has no durationchanged event so trying loadstart instead.\r\n      $(\"#videoPlayer\").on(\"loadedmetadata\", function() {\r\n        thePlayer.theEngine.playerDurationChangedCallback();\r\n      });\r\n      //$('#videoPlayer').on(\"volumechange\", function(){ thePlayer.theEngine.playerVolumeChangedCallback() });\r\n      $(\"#videoPlayer\").on(\"timeupdate\", function() {\r\n        thePlayer.theEngine.playerTimeUpdateCallback();\r\n      });\r\n      $(\"#videoPlayer\").on(\"ended\", function() {\r\n        thePlayer.theEngine.playerEndCallback();\r\n      });\r\n      $(\"#videoPlayer\").on(\"error\", function(event) {\r\n        thePlayer.theEngine.playerErrorCallback(event);\r\n      });\r\n      $(\"#videoPlayer\").on(\"canplay\", function() {\r\n        thePlayer.theEngine.playerSourceDataChanged();\r\n      });\r\n\r\n      //Duration changed callback doesn't fire for audio, so set the duration here.\r\n      this.f_VideoDuration = this.MediaPlayer.duration;\r\n\r\n      if (this.str_MediaType == \"youtube\") {\r\n        //this.MediaPlayer.setSrc( \"https://youtube.com/watch?v=\" + this.str_MediaCode );\r\n        //this.MediaPlayer.load();\r\n        this.refreshChapterMarkerPositions();\r\n        if (this.b_PlayerFlipped) {\r\n          this.setPlayerFlipped(true);\r\n        }\r\n        $(\"iframe\").bind(\"contextmenu\", function() {\r\n          return false;\r\n        });\r\n        $(\".mejs__mediaelement\").bind(\"contextmenu\", function() {\r\n          return false;\r\n        });\r\n      } else if (this.str_MediaType == \"facebook\") {\r\n        //console.log('Setting Facebook Source: https://facebook.com/' + this.str_MediaCode);\r\n        //this.MediaPlayer.setSrc( \"https://facebook.com/\" + this.str_MediaCode );\r\n        this.MediaPlayer.load();\r\n\r\n        this.refreshChapterMarkerPositions();\r\n        if (this.b_PlayerFlipped) {\r\n          this.setPlayerFlipped(true);\r\n        }\r\n        $(\"iframe\").bind(\"contextmenu\", function() {\r\n          return false;\r\n        });\r\n        $(\".mejs__mediaelement\").bind(\"contextmenu\", function() {\r\n          return false;\r\n        });\r\n      } else if (this.str_MediaType == \"vimeo\") {\r\n        this.selectInitialSource();\r\n\r\n        if (this.b_PlayerFlipped) {\r\n          this.setPlayerFlipped(true);\r\n        }\r\n        $(\"video\").bind(\"contextmenu\", function() {\r\n          return false;\r\n        });\r\n        $(\".mejs__mediaelement\").bind(\"contextmenu\", function() {\r\n          return false;\r\n        });\r\n      }\r\n\r\n      this.playerSetVolume(this.f_Volume);\r\n\r\n      this.updateTransportButtons();\r\n      this.b_PlayerIsReady = true;\r\n    };\r\n\r\n    this.initializeProgressSlider = function() {\r\n      //console.log('initializeProgressSlider called');\r\n      /***** Initialize Progress Slider *****/\r\n      this.obj_ProgressSlider = document.getElementById(\"progressSlider\");\r\n      noUiSlider.create(this.obj_ProgressSlider, {\r\n        animate: false,\r\n        start: [0],\r\n        range: {\r\n          min: 0,\r\n          max: 1000\r\n        }\r\n      });\r\n      this.obj_ProgressSlider.noUiSlider.on(\"slide\", function() {\r\n        thePlayer.theEngine.progressSliderSliding();\r\n      });\r\n      this.obj_ProgressSlider.noUiSlider.on(\"change\", function() {\r\n        thePlayer.theEngine.progressSliderChanged();\r\n      });\r\n    };\r\n\r\n    this.initializeVolumeSlider = function() {\r\n      //console.log('initializeVolumeSlider called');\r\n      /***** Initialize Volume Slider *****/\r\n      this.obj_VolumeSlider = document.getElementById(\"volumeSlider\");\r\n      noUiSlider.create(this.obj_VolumeSlider, {\r\n        animate: false,\r\n        start: 1,\r\n        step: 0.005,\r\n        connect: [true, false],\r\n        orientation: \"horizontal\",\r\n        direction: \"ltr\",\r\n        range: {\r\n          min: 0,\r\n          max: 1\r\n        }\r\n      });\r\n      this.obj_VolumeSlider.noUiSlider.on(\"slide\", function() {\r\n        thePlayer.theEngine.volumeSliderChanged();\r\n      });\r\n    };\r\n\r\n    this.initializeZoomSlider = function() {\r\n      if (this.str_MediaType !== \"audio\") {\r\n        /***** Initialize Zoom Slider *****/\r\n        this.obj_ZoomSlider = document.getElementById(\"zoomSlider\");\r\n        noUiSlider.create(this.obj_ZoomSlider, {\r\n          animate: false,\r\n          start: 1,\r\n          step: 0.005,\r\n          connect: [true, false],\r\n          orientation: \"horizontal\",\r\n          direction: \"ltr\",\r\n          range: {\r\n            min: 1,\r\n            max: 4\r\n          }\r\n        });\r\n\r\n        this.obj_ZoomSlider.noUiSlider.on(\"slide\", function() {\r\n          thePlayer.theEngine.zoomSliderChanged();\r\n        });\r\n\r\n        //disable zoom until user enables it\r\n        $(this.obj_ZoomSlider).attr(\"disabled\", true);\r\n      }\r\n    };\r\n\r\n    this.initializePanZoom = function() {\r\n      //console.log('initializePanZoom called');\r\n      if (this.str_MediaType != \"audio\") {\r\n        //setup the panzoom object.\r\n        this.obj_PanZoom = $(\"#mediaPanZoomWrapper\");\r\n        this.obj_PanZoom.panzoom({\r\n          contain: \"invert\",\r\n          minScale: 1,\r\n          maxScale: 4,\r\n          increment: 0.005,\r\n          startTransform: \"none\"\r\n        });\r\n\r\n        this.b_ZoomEnabled = false;\r\n        //console.log('Setting Panzoom transform...');\r\n        this.obj_PanZoom.panzoom(\"enable\");\r\n        this.obj_PanZoom.panzoom(\"setTransform\", \"matrix(1,0,0,1,0,0)\");\r\n\r\n        this.obj_PanZoom.panzoom(\"disable\");\r\n        $(this.obj_ZoomSlider).attr(\"disabled\", true);\r\n\r\n        //setup the scroll wheel callback\r\n        $(this.obj_PanZoom)\r\n          .parent()\r\n          .on(\"mousewheel.focal\", function(event) {\r\n            if (thePlayer.theEngine.b_ZoomEnabled) {\r\n              event.preventDefault();\r\n              var delta = event.delta || event.originalEvent.wheelDelta;\r\n\r\n              var zoomOut = delta ? delta < 0 : event.originalEvent.deltaY > 0;\r\n\r\n              //console.log(\"Doing mousewheel panzoom\");\r\n              thePlayer.theEngine.obj_PanZoom.panzoom(\"zoom\", zoomOut, {\r\n                increment: -0.1,\r\n                animate: true,\r\n                focal: event,\r\n                linearZoom: true,\r\n                rangeStep: 0.01,\r\n                duration: 500\r\n              });\r\n            }\r\n          });\r\n\r\n        $(this.obj_PanZoom).on(\"panzoomzoom\", function(e, panzoom) {\r\n          thePlayer.theEngine.syncZoomSliderPosition();\r\n        });\r\n      } else {\r\n        $(this.obj_ZoomSlider).attr(\"disabled\", true);\r\n        $(\"#enableZoom\").attr(\"disabled\", true);\r\n      }\r\n    };\r\n\r\n    /*****************************************\r\n     *************  Engine Setters & Getters  ************\r\n     *****************************************/\r\n    this.setIsPlaying = function(newValue) {\r\n      //console.log(\"setIsPlaying: \" + newValue);\r\n      this.b_IsPlaying = newValue;\r\n      thePlayer.enginePlaybackToggled(newValue);\r\n    };\r\n\r\n    this.isPlaying = function() {\r\n      return this.b_IsPlaying;\r\n    };\r\n\r\n    this.isVimeo = function() {\r\n      return this.str_MediaType == \"vimeo\";\r\n    };\r\n\r\n    this.isAudio = function() {\r\n      return this.str_MediaType == \"audio\";\r\n    };\r\n\r\n    this.isYoutube = function() {\r\n      return this.str_MediaType == \"youtube\";\r\n    };\r\n\r\n    this.togglePitchShiftActivated = function() {\r\n      if (\r\n        this.PitchShifter !== null &&\r\n        !thePlayer.isIOS() &&\r\n        !thePlayer.isSafari()\r\n      ) {\r\n        if (this.b_PitchShiftActivated) {\r\n          console.log(\"Disconnecting pitch shifter\");\r\n          this.PitchShifter.disconnectVideo();\r\n          this.b_PitchShiftActivated = false;\r\n        } else {\r\n          console.log(\"Activating pitch shifter\");\r\n          this.PitchShifter.initVideoObservers();\r\n          this.b_PitchShiftActivated = true;\r\n        }\r\n      }\r\n    };\r\n\r\n    this.toggleZoomEnabled = function() {\r\n      //console.log('Toggling zoom enabled...');\r\n      if (this.b_ZoomEnabled) {\r\n        this.array_SavedZoom = this.obj_PanZoom.panzoom(\"getTransform\");\r\n        this.obj_PanZoom.panzoom(\"setTransform\", \"matrix(1,0,0,1,0,0)\");\r\n        this.obj_PanZoom.panzoom(\"disable\");\r\n        $(this.obj_ZoomSlider).attr(\"disabled\", true);\r\n        $(\"#videoPlayer\").toggleClass(\"clickDisabled\", false);\r\n        $(\"#mediaPlayerWrapper\").toggleClass(\"zoomed\", false);\r\n        $(\"#enableZoom\").prop(\"checked\", false);\r\n        this.b_ZoomEnabled = false;\r\n      } else {\r\n        //console.log(\"Toggling zoom ON\");\r\n        this.obj_PanZoom.panzoom(\"enable\");\r\n        this.b_ZoomEnabled = true;\r\n        $(\"#enableZoom\").prop(\"checked\", true);\r\n        $(\"#videoPlayer\").toggleClass(\"clickDisabled\", true);\r\n        $(this.obj_ZoomSlider).removeAttr(\"disabled\");\r\n        $(\"#mediaPlayerWrapper\").toggleClass(\"zoomed\", true);\r\n        this.obj_PanZoom.panzoom(\"setTransform\", this.array_SavedZoom);\r\n        this.syncZoomSliderPosition();\r\n      }\r\n    };\r\n\r\n    this.sortSourcesArray = function() {\r\n      //first we'll filter out the HLS source for everything but iOS, but filter\r\n      //out everything else for iOS.\r\n      let newArray = [];\r\n      for (let i = 0; i < this.a_VideoSources.length; ++i) {\r\n        if (thePlayer.isIOS()) {\r\n          if (this.a_VideoSources[i][\"resolution\"] == \"Auto\") {\r\n            //newSource = this.a_VideoSources[i];\r\n            //newArray.push( newSource );\r\n          } else {\r\n            newSource = this.a_VideoSources[i];\r\n\r\n            if (\r\n              newSource[\"resolution\"] == \"720\" ||\r\n              newSource[\"resolution\"] == \"720p60\" ||\r\n              newSource[\"resolution\"] == \"1080\" ||\r\n              newSource[\"resolution\"] == \"1080p60\"\r\n            ) {\r\n              newSource[\"hd\"] = \"hd\";\r\n            } else {\r\n              newSource[\"hd\"] = \"\";\r\n            }\r\n            newArray.push(newSource);\r\n          }\r\n        } else {\r\n          if (this.a_VideoSources[i][\"resolution\"] != \"Auto\") {\r\n            newSource = this.a_VideoSources[i];\r\n\r\n            if (\r\n              newSource[\"resolution\"] == \"720\" ||\r\n              newSource[\"resolution\"] == \"720p60\" ||\r\n              newSource[\"resolution\"] == \"1080\" ||\r\n              newSource[\"resolution\"] == \"1080p60\"\r\n            ) {\r\n              newSource[\"hd\"] = \"hd\";\r\n            } else {\r\n              newSource[\"hd\"] = \"\";\r\n            }\r\n            newArray.push(newSource);\r\n          }\r\n        }\r\n      }\r\n\r\n      //Now we have an array of sources that only contains the sources\r\n      //appropriate for this platform.\r\n      this.a_VideoSources = newArray;\r\n\r\n      //Now, if we're not on iOS, scan through the sources and add p60\r\n      //where necessary.\r\n      this.a_VideoSources.sort(function(a, b) {\r\n        return b[\"size\"] - a[\"size\"];\r\n      });\r\n\r\n      for (let i = 1; i < this.a_VideoSources.length; ++i) {\r\n        var src1 = this.a_VideoSources[i];\r\n        var src2 = this.a_VideoSources[i - 1];\r\n        if (src1[\"resolution\"] == src2[\"resolution\"]) {\r\n          if (src1[\"size\"] > src2[\"size\"]) {\r\n            src1[\"resolution\"] += \"p60\";\r\n          } else {\r\n            src2[\"resolution\"] += \"p60\";\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.selectInitialSource = function() {\r\n      var srcURL = \"\";\r\n      var selectedSourceIndex = 0;\r\n\r\n      if (this.str_SavedResolution != \"\") {\r\n        for (let i = 0; i < this.a_VideoSources.length; ++i) {\r\n          if (\r\n            this.str_SavedResolution == this.a_VideoSources[i][\"resolution\"]\r\n          ) {\r\n            srcURL = this.a_VideoSources[i][\"url\"];\r\n            selectedSourceIndex = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        //if we couldn't find an exact match, find the next closest\r\n        if (srcURL == \"\") {\r\n          for (let i = 0; i < this.a_VideoSources.length; ++i) {\r\n            //trim off p60\r\n            strBaseResolution = this.str_SavedResolution\r\n              .toString()\r\n              .substring(0, 3);\r\n            strSourceResolution = this.a_VideoSources[i][\"resolution\"];\r\n            if (strSourceResolution.search(strBaseResolution) > -1) {\r\n              srcURL = this.a_VideoSources[i][\"url\"];\r\n              selectedSourceIndex = i;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        //if we still didn't find a match, default to the lowest\r\n        if (srcURL == \"\") {\r\n          srcURL = this.a_VideoSources[this.a_VideoSources.length - 1][\"url\"];\r\n          selectedSourceIndex = this.a_VideoSources.length - 1;\r\n        }\r\n      } else {\r\n        srcURL = this.a_VideoSources[this.a_VideoSources.length - 1][\"url\"];\r\n        selectedSourceIndex = this.a_VideoSources.length - 1;\r\n      }\r\n\r\n      this.playerSetActiveSource(selectedSourceIndex);\r\n    };\r\n\r\n    this.loadYTSourcesArray = function() {\r\n      //console.log(\"loadYTSourcesArray called.\");\r\n      return;\r\n      /*\r\n          if( this.isYoutube() )\r\n          {\r\n              var videoQualities = this.MediaPlayer.sources;//tech(this.obj_Safety).ytPlayer.getAvailableQualityLevels();\r\n              var iResolutionIndex = 0;\r\n              for(let i = 0; i < videoQualities.length; i++)\r\n              {\r\n                  //console.log(\"Found YT Quality named: \" + videoQualities[i]);\r\n                  var sourceObject = {};\r\n                  var resolutionString = this.convertYTString( videoQualities[i] )\r\n                  if( resolutionString != '144' && resolutionString != '240')\r\n                  {\r\n                      sourceObject[\"resolution\"] = resolutionString;\r\n                      if(resolutionString == \"720\" || resolutionString == \"720p60\" || resolutionString == \"1080\" || resolutionString == \"1080p60\")\r\n                      {\r\n                          sourceObject[\"hd\"] = \"hd\";\r\n                      }\r\n                      else\r\n                      {\r\n                          sourceObject[\"hd\"] = \"\";\r\n                      }\r\n                      this.a_VideoSources[iResolutionIndex] = sourceObject;\r\n                      iResolutionIndex++;\r\n                  }\r\n              }\r\n          }\r\n          */\r\n    };\r\n\r\n    this.initializeSpeedSlider = function() {\r\n      if (this.str_MediaType == \"vimeo\" || this.str_MediaType == \"audio\") {\r\n        //console.log('initializeSpeedSlider called');\r\n        /***** Initialize Volume Slider *****/\r\n        this.obj_SpeedSlider = document.getElementById(\"speedSlider\");\r\n        noUiSlider.create(this.obj_SpeedSlider, {\r\n          animate: false,\r\n          start: 1,\r\n          step: 0.1,\r\n          connect: [true, false],\r\n          orientation: \"horizontal\",\r\n          direction: \"ltr\",\r\n          range: {\r\n            min: 0.3,\r\n            max: 1.5\r\n          }\r\n        });\r\n        this.obj_SpeedSlider.noUiSlider.on(\"slide\", function() {\r\n          thePlayer.theEngine.speedSliderChanged();\r\n        });\r\n      } else if (this.str_MediaType == \"youtube\") {\r\n        this.obj_SpeedSlider = document.getElementById(\"speedSlider\");\r\n        noUiSlider.create(this.obj_SpeedSlider, {\r\n          animate: false,\r\n          start: 1,\r\n          step: 0.25,\r\n          connect: [true, false],\r\n          orientation: \"horizontal\",\r\n          direction: \"ltr\",\r\n          range: {\r\n            min: 0.25,\r\n            max: 1.5\r\n          }\r\n        });\r\n        this.obj_SpeedSlider.noUiSlider.on(\"slide\", function() {\r\n          thePlayer.theEngine.speedSliderChanged();\r\n        });\r\n      } else if (this.str_MediaType == \"youtube\") {\r\n        //Facebook doesn't support slowing down of videos yet.\r\n      }\r\n    };\r\n\r\n    /*\r\n      this.initializePlaybackSpeeds = function()\r\n      {\r\n          if( this.str_MediaType == 'vimeo' || this.str_MediaType == 'audio')\r\n          {\r\n              var speedItem = {};\r\n              \r\n              speedItem[\"label\"] = \"125%\";\r\n              speedItem[\"factor\"] = 1.25;\r\n              this.a_PlaybackSpeeds[0] = speedItem;\r\n              \r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"100%\";\r\n              speedItem[\"factor\"] = 1.0;\r\n              this.a_PlaybackSpeeds[1] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"85%\";\r\n              speedItem[\"factor\"] = .85;\r\n              this.a_PlaybackSpeeds[2] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"75%\";\r\n              speedItem[\"factor\"] = .75;\r\n              this.a_PlaybackSpeeds[3] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"60%\";\r\n              speedItem[\"factor\"] = .6;\r\n              this.a_PlaybackSpeeds[4] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"50%\";\r\n              speedItem[\"factor\"] = .5;\r\n              this.a_PlaybackSpeeds[5] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"25%\";\r\n              speedItem[\"factor\"] = .25;\r\n              this.a_PlaybackSpeeds[6] = speedItem;\r\n          }\r\n          else if( this.str_MediaType == 'youtube')\r\n          {\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"150%\";\r\n              speedItem[\"factor\"] = 1.5;\r\n              this.a_PlaybackSpeeds[0] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"125%\";\r\n              speedItem[\"factor\"] = 1.25;\r\n              this.a_PlaybackSpeeds[1] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"100%\";\r\n              speedItem[\"factor\"] = 1.0;\r\n              this.a_PlaybackSpeeds[2] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"75%\";\r\n              speedItem[\"factor\"] = .75;\r\n              this.a_PlaybackSpeeds[3] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"50%\";\r\n              speedItem[\"factor\"] = .5;\r\n              this.a_PlaybackSpeeds[4] = speedItem;\r\n              speedItem = {};\r\n              speedItem[\"label\"] = \"25%\";\r\n              speedItem[\"factor\"] = .25;\r\n              this.a_PlaybackSpeeds[5] = speedItem;\r\n          }\r\n      }\r\n      */\r\n    /*****************************************\r\n     *************  Callback Functions   ************\r\n     *****************************************/\r\n    this.playerPauseEventCallback = function() {\r\n      //console.log('playerPauseEventCallback called.');\r\n      //console.log('Proccesing user input is ' + this.b_ProcessingUserPlaybackToggle);\r\n      if (!this.b_ProcessingUserPlaybackToggle) {\r\n        this.setIsPlaying(false);\r\n      } else {\r\n        this.b_ProcessingUserPlaybackToggle = false;\r\n      }\r\n\r\n      this.updateTransportButtons();\r\n    };\r\n\r\n    this.playerPlayEventCallback = function(event) {\r\n      if (!this.b_PlayedOnce) {\r\n        this.refreshChapterMarkerPositions();\r\n        this.updateSelectedSpeed();\r\n        this.updateSelectedResolution();\r\n        this.b_PlayedOnce = true;\r\n      }\r\n\r\n      if (!this.b_ProcessingUserPlaybackToggle) {\r\n        this.setIsPlaying(true);\r\n      } else {\r\n        this.b_ProcessingUserPlaybackToggle = false;\r\n      }\r\n\r\n      this.updateTransportButtons();\r\n\r\n      // Only used for videos with a hard coded start time that is not 0;\r\n      if (this.isPlaying() && this.f_CurrentTime < this.f_StartTime) {\r\n        this.playerSeekTo(this.f_StartTime);\r\n      }\r\n    };\r\n\r\n    this.playerDurationChangedCallback = function() {\r\n      //console.log('playerDurationChangedCallback called.');\r\n      this.f_VideoDuration = this.MediaPlayer.duration;\r\n      this.refreshChapterMarkerPositions();\r\n    };\r\n\r\n    this.playerVolumeChangedCallback = function() {\r\n      /*\r\n          //console.log(\"playerVolumeChangedCallback called.\");\r\n          this.f_Volume = this.MediaPlayer.volume;\r\n          this.setVolumeSliderPosition(this.f_Volume);\r\n          //console.log(\"Saving Volume During Callback: \" + this.f_Volume);\r\n          localStorage.setItem('proPlayerVolume', this.f_Volume);\r\n          */\r\n      //Why would we take volume changes from the player?\r\n    };\r\n\r\n    this.playerTimeUpdateCallback = function() {\r\n      //console.log(\"timeUpdateCalled\");\r\n      if (!this.b_BreakProgressUpdates && !this.b_UserIsDraggingSlider) {\r\n        if (!this.b_RestartingLoop) {\r\n          this.f_CurrentTime = this.MediaPlayer.currentTime;\r\n          this.f_VideoDuration = this.MediaPlayer.duration;\r\n\r\n          this.f_CurrentPercent = this.f_CurrentTime / this.f_VideoDuration;\r\n\r\n          this.obj_ProgressSlider.noUiSlider.set(this.f_CurrentPercent * 1000);\r\n          $(\"#current-time\").html(this.secondsToMinutes(this.f_CurrentTime));\r\n\r\n          if (this.f_VideoDuration > 0) {\r\n            $(\"#time-left\").html(\r\n              this.secondsToMinutes(this.f_VideoDuration - this.f_CurrentTime)\r\n            );\r\n          }\r\n\r\n          if (this.b_LoopIsDefined) {\r\n            if (this.b_LoopNeedsUpdate) {\r\n              this.f_LoopStartTimePercent =\r\n                (this.f_LoopStartTime / this.f_VideoDuration) * 100;\r\n              this.f_LoopEndTimePercent =\r\n                (this.f_LoopEndTime / this.f_VideoDuration) * 100;\r\n              loopWidth = Math.max(\r\n                0.1,\r\n                this.f_LoopEndTimePercent - this.f_LoopStartTimePercent\r\n              );\r\n              $(\"#loop-region\").css(\r\n                \"left\",\r\n                this.f_LoopStartTimePercent.toString() + \"%\"\r\n              );\r\n              $(\"#loop-region\").css(\"width\", loopWidth.toString() + \"%\");\r\n              this.b_LoopNeedsUpdate = false;\r\n            }\r\n            if (\r\n              this.b_LoopingActivated &&\r\n              this.f_CurrentTime >= this.f_LoopEndTime\r\n            ) {\r\n              this.b_RestartingLoop = true;\r\n              currentRate = this.media.getPlaybackRate();\r\n              this.playerSeekTo(this.f_LoopStartTime);\r\n              this.media.setPlaybackRate(currentRate);\r\n              this.b_RestartingLoop = false;\r\n            }\r\n          }\r\n        } else {\r\n          //console.log('Time Update Skipped, Step 2');\r\n        }\r\n      } else {\r\n        //console.log('Time Update Skipped, Step 1');\r\n      }\r\n    };\r\n\r\n    this.playerEndCallback = function() {\r\n      //console.log('playerEndCallback called');\r\n      var savedPlaybackPositions = JSON.parse(\r\n        localStorage.getItem(\"proPlayerPlaybackLocations\")\r\n      );\r\n      if (savedPlaybackPositions !== null) {\r\n        var removeIndex = -1;\r\n        for (let i = 0; i < savedPlaybackPositions.length; i++) {\r\n          if (savedPlaybackPositions[i].mediaCode == this.str_MediaCode) {\r\n            removeIndex = i;\r\n            break;\r\n          }\r\n        }\r\n        if (removeIndex > -1) {\r\n          savedPlaybackPositions.splice(removeIndex, 1);\r\n        }\r\n\r\n        localStorage.setItem(\r\n          \"proPlayerPlaybackLocations\",\r\n          JSON.stringify(savedPlaybackPositions)\r\n        );\r\n      }\r\n      this.f_CurrentTime = 0;\r\n      this.playerSeekTo(this.f_CurrentTime);\r\n      this.updateTransportButtons();\r\n    };\r\n\r\n    this.playerErrorCallback = function(event) {\r\n      //console.log('playerErrorCallback called');\r\n      //console.log(event);\r\n      //\t\terrorMessage = this.MediaPlayer.error;\r\n      /*if(errorMessage.code == 4)\r\n          {\r\n              alert(\"The video could not be loaded. This is probably an error with our video hosting service. If this continues to happen, please let us know through the support page at http://texasbluesalley.com/hq/support\");\r\n          }\r\n          else if (errorMessage.code == 3)\r\n          {\r\n              alert(\"Looks like there's been an error playing the video. This error happens frequently in Internet Explorer (or Edge) on Window 10 systems. We recommend Google Chrome or Firefox for a better experience.\");\r\n          }*/\r\n    };\r\n\r\n    this.vimeoLoadingError = function() {\r\n      alert(\r\n        \"The video could not be loaded. This is probably an error with our video hosting service. If this continues to happen, please let us know through the support page at http://texasbluesalley.com/hq/support\"\r\n      );\r\n    };\r\n\r\n    /*****************************************\r\n     ******   Progress Slider Functions  ******\r\n     *****************************************/\r\n    this.progressSliderSliding = function() {\r\n      //console.log('progressSliderSliding called');\r\n      this.b_UserIsDraggingSlider = true;\r\n    };\r\n\r\n    this.progressSliderChanged = function() {\r\n      //console.log('progressSliderChanged called');\r\n      this.b_UserIsDraggingSlider = false;\r\n      sliderValue = this.obj_ProgressSlider.noUiSlider.get();\r\n      this.f_CurrentPercent = sliderValue / 1000;\r\n      this.f_CurrentTime = this.f_VideoDuration * this.f_CurrentPercent;\r\n      this.playerSeekTo(this.f_CurrentTime);\r\n    };\r\n\r\n    /*****************************************\r\n     *****\tControl Button Callbacks\t *****\r\n     *****************************************/\r\n    this.onButtonPlaybackRestart = function() {\r\n      //console.log('onButtonPlaybackRestart called');\r\n      if (this.isPlaying() && !this.b_LoopingActivated) {\r\n        this.playerSeekTo(this.f_StartTime);\r\n        this.b_LoopingActivated = false;\r\n      }\r\n    };\r\n\r\n    this.onButtonPlaybackRewindPoint5 = function() {\r\n      if (this.isPlaying()) {\r\n        var newTime = this.f_CurrentTime - 0.5;\r\n        if (this.b_LoopingActivated) {\r\n          newTime = Math.max(newTime, this.f_LoopStartTime);\r\n        }\r\n\r\n        newTime = Math.max(newTime, 0);\r\n\r\n        this.playerSeekTo(newTime);\r\n      }\r\n    };\r\n\r\n    this.onButtonPlaybackForwardPoint5 = function() {\r\n      if (this.isPlaying()) {\r\n        var newTime = this.f_CurrentTime + 0.5;\r\n        if (this.b_LoopingActivated) {\r\n          newTime = Math.min(newTime, this.f_LoopEndTime);\r\n        }\r\n\r\n        newTime = Math.min(newTime, this.f_VideoDuration);\r\n\r\n        this.playerSeekTo(newTime);\r\n      }\r\n    };\r\n\r\n    this.onButtonPlaybackRewind1 = function() {\r\n      if (this.isPlaying()) {\r\n        var newTime = this.f_CurrentTime - 1;\r\n        if (this.b_LoopingActivated) {\r\n          newTime = Math.max(newTime, this.f_LoopStartTime);\r\n        }\r\n\r\n        newTime = Math.max(newTime, 0);\r\n\r\n        this.playerSeekTo(newTime);\r\n      }\r\n    };\r\n\r\n    this.onButtonPlaybackForward1 = function() {\r\n      //console.log('onButtonPlaybackForward1 called');\r\n      if (this.isPlaying()) {\r\n        var newTime = this.f_CurrentTime + 1;\r\n        if (this.b_LoopingActivated) {\r\n          newTime = Math.min(newTime, this.f_LoopEndTime);\r\n        }\r\n\r\n        newTime = Math.min(newTime, this.f_VideoDuration);\r\n\r\n        this.playerSeekTo(newTime);\r\n      }\r\n    };\r\n\r\n    this.onButtonPlaybackRewind5 = function() {\r\n      if (this.isPlaying()) {\r\n        var newTime = this.f_CurrentTime - 5;\r\n        if (this.b_LoopingActivated) {\r\n          newTime = Math.max(newTime, this.f_LoopStartTime);\r\n        }\r\n\r\n        newTime = Math.max(newTime, 0);\r\n\r\n        this.playerSeekTo(newTime);\r\n      }\r\n    };\r\n\r\n    this.onButtonPlaybackForward5 = function() {\r\n      //console.log('onButtonPlaybackForward1 called');\r\n      if (this.isPlaying()) {\r\n        var newTime = this.f_CurrentTime + 5;\r\n        if (this.b_LoopingActivated) {\r\n          newTime = Math.min(newTime, this.f_LoopEndTime);\r\n        }\r\n\r\n        newTime = Math.min(newTime, this.f_VideoDuration);\r\n\r\n        this.playerSeekTo(newTime);\r\n      }\r\n    };\r\n\r\n    this.onButtonTogglePlayback = function() {\r\n      //console.log('onButtonTogglePlayback called.');\r\n      this.b_ProcessingUserPlaybackToggle = true;\r\n      if (!this.isPlaying()) {\r\n        this.setIsPlaying(true);\r\n        this.playerPlay();\r\n      } else {\r\n        this.setIsPlaying(false);\r\n        this.playerPause();\r\n      }\r\n      this.updateTransportButtons();\r\n    };\r\n\r\n    this.stopPlayback = function() {\r\n      if (this.isPlaying()) {\r\n        this.onButtonTogglePlayback();\r\n      }\r\n    };\r\n\r\n    this.startPlayback = function() {\r\n      if (!this.isPlaying()) {\r\n        this.onButtonTogglePlayback();\r\n      }\r\n    };\r\n\r\n    this.onButtonRestartLoop = function() {\r\n      if (this.b_LoopIsDefined && this.b_LoopingActivated) {\r\n        this.playerSeekTo(this.f_LoopStartTime);\r\n      }\r\n    };\r\n    this.onButtonSetLoopStart = function() {\r\n      //console.log('onButtonSetLoopStart called');\r\n      if (!this.b_LoopingActivated) {\r\n        this.f_LoopStartTime = this.f_CurrentTime.toFixed(3);\r\n\r\n        if (this.f_CurrentTime > this.f_LoopEndTime) {\r\n          this.b_LoopIsDefined = false;\r\n          this.b_LoopEndTimeSet = false;\r\n        } else {\r\n          this.b_LoopIsDefined = this.b_LoopEndTimeSet;\r\n        }\r\n        this.b_LoopStartTimeSet = true;\r\n        this.f_LoopEndTime =\r\n          this.f_LoopEndTime > this.f_LoopStartTime\r\n            ? this.f_LoopEndTime\r\n            : Math.min(this.f_LoopStartTime + 1, this.f_VideoDuration);\r\n\r\n        this.b_LoopNeedsUpdate = true;\r\n        this.updateTransportButtons();\r\n\r\n        thePlayer.engineLoopHasChanged();\r\n      }\r\n    };\r\n\r\n    this.onButtonSetLoopEnd = function() {\r\n      //console.log('onButtonSetLoopEnd called');\r\n      if (!this.b_LoopingActivated) {\r\n        this.f_LoopEndTime = this.f_CurrentTime.toFixed(3);\r\n        if (this.f_CurrentTime <= this.f_LoopStartTime) {\r\n          this.b_LoopIsDefined = false;\r\n          this.b_LoopStartTimeSet = false;\r\n        } else {\r\n          this.b_LoopIsDefined = this.b_LoopStartTimeSet;\r\n        }\r\n\r\n        this.b_LoopEndTimeSet = true;\r\n        this.f_LoopStartTime =\r\n          this.f_LoopStartTime < this.f_LoopEndTime\r\n            ? this.f_LoopStartTime\r\n            : Math.max(0, this.f_LoopEndTime - 1);\r\n        this.b_LoopNeedsUpdate = true;\r\n        this.updateTransportButtons();\r\n\r\n        thePlayer.engineLoopHasChanged();\r\n      }\r\n    };\r\n\r\n    this.onButtonToggleLooping = function() {\r\n      if (this.b_LoopIsDefined) {\r\n        if (this.b_LoopingActivated) {\r\n          this.b_LoopingActivated = false;\r\n        } else {\r\n          if (!this.isPlaying()) {\r\n            this.onButtonTogglePlayback();\r\n          }\r\n          if (\r\n            this.f_LoopStartTime < this.f_LoopEndTime &&\r\n            this.b_LoopIsDefined\r\n          ) {\r\n            this.b_LoopingActivated = true;\r\n            this.playerSeekTo(this.f_LoopStartTime);\r\n          }\r\n        }\r\n\r\n        this.updateTransportButtons();\r\n      }\r\n    };\r\n\r\n    this.stopLooping = function() {\r\n      this.b_LoopIsDefined = 0;\r\n      this.b_LoopingActivated = false;\r\n      this.updateTransportButtons();\r\n    };\r\n\r\n    /************************************************************\r\n     *************   Playback Rate Keyboard Callbacks  ************\r\n     ************************************************************/\r\n    this.decreasePlaybackRate = function() {\r\n      var currentRate = this.media.getPlaybackRate();\r\n      if (currentRate > 0.25) {\r\n        if (currentRate == 1.25) {\r\n          if (this.str_MediaType == \"youtube\") {\r\n            currentRate = 1.0;\r\n          } else {\r\n            currentRate = 1.0;\r\n          }\r\n        } else if (currentRate == 1.0) {\r\n          currentRate = 0.85;\r\n        } else if (currentRate == 0.85) {\r\n          currentRate = 0.75;\r\n        } else if (currentRate == 0.75) {\r\n          currentRate = 0.6;\r\n        } else if (currentRate == 0.6) {\r\n          currentRate = 0.5;\r\n        } else if (currentRate == 0.5) {\r\n          currentRate = 0.25;\r\n        }\r\n        this.media.setPlaybackRate(currentRate);\r\n        this.updateSelectedSpeed();\r\n      }\r\n    };\r\n\r\n    this.increasePlaybackRate = function() {\r\n      var currentRate = this.media.getPlaybackRate();\r\n      if (currentRate < 1.25) {\r\n        if (currentRate == 1.0) {\r\n          currentRate = 1.25;\r\n        } else if (currentRate == 0.85) {\r\n          currentRate = 1.0;\r\n        } else if (currentRate == 0.75) {\r\n          currentRate = 0.85;\r\n        } else if (currentRate == 0.6) {\r\n          currentRate = 0.75;\r\n        } else if (currentRate == 0.5) {\r\n          if (this.str_MediaType == \"youtube\") {\r\n            currentRate = 1;\r\n          } else {\r\n            currentRate = 0.6;\r\n          }\r\n        } else if (currentRate == 0.25) {\r\n          currentRate = 0.5;\r\n        }\r\n        this.media.setPlaybackRate(currentRate);\r\n        this.updateSelectedSpeed();\r\n      }\r\n    };\r\n\r\n    /*****************************************\r\n     ******\tBookmarking and Looping\t *********\r\n     *****************************************/\r\n    this.goToChapter = function(timeStart) {\r\n      //console.log(\"goToChapter called: \" + timeStart);\r\n      if (!this.isPlaying()) {\r\n        this.onButtonTogglePlayback();\r\n      }\r\n      if (this.b_LoopingActivated) {\r\n        this.onButtonToggleLooping();\r\n      }\r\n      this.playerSeekTo(timeStart);\r\n      this.updateTransportButtons();\r\n    };\r\n\r\n    this.loadLoop = function(timeStart, timeStop) {\r\n      //console.log(\"loadLoop called: \" + timeStart + \", \" + timeStop);\r\n      if (!this.isPlaying()) {\r\n        this.onButtonTogglePlayback();\r\n      }\r\n      this.b_LoopIsDefined = true;\r\n      this.b_LoopNeedsUpdate = true;\r\n      this.b_LoopingActivated = true;\r\n      this.f_LoopStartTime = timeStart;\r\n      this.f_LoopEndTime = Math.max(timeStop, this.f_LoopStartTime + 0.1);\r\n      this.updateTransportButtons();\r\n\r\n      if (this.f_LoopStartTime > this.f_CurrentTime) {\r\n        this.playerSeekTo(this.f_LoopStartTime);\r\n      } else if (this.f_LoopEndTime < this.f_CurrentTime) {\r\n        this.playerSeekTo(this.f_LoopStartTime);\r\n      }\r\n    };\r\n\r\n    /*****************************************\r\n     ******\tDirect Player Functions\t**********\r\n     *****************************************/\r\n    this.playerSeekTo = function(value) {\r\n      //console.trace();\r\n      //console.log('playerSeekTo: ' + value);\r\n      this.MediaPlayer.setCurrentTime(value);\r\n    };\r\n\r\n    this.playerPlay = function() {\r\n      //console.log('playerPlay called.');\r\n      this.setIsPlaying(true);\r\n      this.MediaPlayer.play();\r\n    };\r\n\r\n    this.playerPause = function() {\r\n      //console.log('playerPause called.');\r\n      this.setIsPlaying(false);\r\n      this.MediaPlayer.pause();\r\n    };\r\n    this.playerSetVolume = function(value) {\r\n      //console.log('playerSetVolume:' + value);\r\n      this.MediaPlayer.volume = value;\r\n    };\r\n\r\n    this.playerSetActiveSource = function(sourceIndex) {\r\n      if (!this.isYoutube()) {\r\n        var theSource = this.a_VideoSources[sourceIndex];\r\n        var newSource = {\r\n          type: \"video\",\r\n          sources: [\r\n            {\r\n              src: theSource.url,\r\n              type: \"video/mp4\"\r\n            }\r\n          ],\r\n          poster: this.str_PosterImage\r\n        };\r\n        this.media.setSrc(theSource.url);\r\n        this.media.load();\r\n      }\r\n    };\r\n\r\n    /*****************************************\r\n     ********\tInterface Status\t**********\r\n     *****************************************/\r\n    this.stopIfPlaying = function() {\r\n      if (this.isPlaying()) {\r\n        this.onButtonTogglePlayback();\r\n      }\r\n    };\r\n    this.updateTransportButtons = function() {\r\n      //console.log('updateTransportButtons called.');\r\n      $(\"#playback-play\").prop(\"disabled\", false);\r\n      if (this.isPlaying()) {\r\n        $(\"#playback-play\").html('<i class=\"fa fa-pause\"></i>');\r\n      } else {\r\n        $(\"#playback-play\").html('<i class=\"fa fa-play\"></i>');\r\n      }\r\n\r\n      $(\"#playback-beginning\").prop(\r\n        \"disabled\",\r\n        !this.isPlaying() || this.b_LoopingActivated\r\n      );\r\n      $(\"#playback-rewind\").prop(\"disabled\", !this.isPlaying());\r\n      $(\"#playback-forward\").prop(\"disabled\", !this.isPlaying());\r\n\r\n      $(\"#looping-start\").prop(\"disabled\", this.b_LoopingActivated);\r\n      $(\"#looping-start\").toggleClass(\"set\", this.b_LoopStartTimeSet);\r\n      $(\"#looping-stop\").prop(\"disabled\", this.b_LoopingActivated);\r\n      $(\"#looping-stop\").toggleClass(\"set\", this.b_LoopEndTimeSet);\r\n      $(\"#looping-toggle\").prop(\r\n        \"disabled\",\r\n        !(this.isPlaying() && this.b_LoopIsDefined)\r\n      );\r\n      $(\"#loop-region\").toggle(this.b_LoopIsDefined);\r\n      $(\"#progressSlider\").toggleClass(\"looping\", this.b_LoopingActivated);\r\n\r\n      if (this.b_LoopIsDefined) {\r\n        if (this.b_LoopNeedsUpdate) {\r\n          this.f_LoopStartTimePercent =\r\n            (this.f_LoopStartTime / this.f_VideoDuration) * 100;\r\n          this.f_LoopEndTimePercent =\r\n            (this.f_LoopEndTime / this.f_VideoDuration) * 100;\r\n          loopWidth = Math.max(\r\n            0.1,\r\n            this.f_LoopEndTimePercent - this.f_LoopStartTimePercent\r\n          );\r\n          $(\"#loop-region\").css(\r\n            \"left\",\r\n            this.f_LoopStartTimePercent.toString() + \"%\"\r\n          );\r\n          $(\"#loop-region\").css(\"width\", loopWidth.toString() + \"%\");\r\n          this.b_LoopNeedsUpdate = false;\r\n        }\r\n      }\r\n\r\n      $(\"#looping-toggle\").toggleClass(\"engaged\", this.b_LoopingActivated);\r\n      if (this.b_LoopingActivated && this.isPlaying()) {\r\n        $(\"#looping-toggle\").html('<i class=\"fa fa-spin fa-refresh\"></i>');\r\n      } else {\r\n        $(\"#looping-toggle\").html('<i class=\"fa fa-refresh\"></i>');\r\n      }\r\n    };\r\n\r\n    this.refreshChapterMarkerPositions = function() {\r\n      //console.log('refreshChapterMarkerPositions called.');\r\n      if (this.f_VideoDuration > 0) {\r\n        var chapterDivs = $(\".chapter-marker\");\r\n        for (let i = 0; i < chapterDivs.length; i++) {\r\n          var leftPercent =\r\n            (this.a_Chapters[i][1] / this.f_VideoDuration) * 100;\r\n          $(chapterDivs[i]).css(\"left\", leftPercent.toString() + \"%\");\r\n        }\r\n      } else {\r\n      }\r\n    };\r\n\r\n    this.setPlayerSpeed = function(speed) {\r\n      var desiredSpeed = parseFloat(speed);\r\n      var theSpeed = Math.max(0.25, desiredSpeed);\r\n      theSpeed = Math.min(1.5, theSpeed);\r\n      this.f_PlaybackRate = theSpeed;\r\n      this.media.setPlaybackRate(this.f_PlaybackRate);\r\n    };\r\n\r\n    this.restorePlaybackRate = function() {\r\n      //this function is used to set the player back to the playback rate that was last selected\r\n      //after pitch shifting is turned on.\r\n      console.log(\"Original playback rate is: \" + this.f_PlaybackRate);\r\n      this.setPlayerSpeed(this.f_PlaybackRate);\r\n    };\r\n    this.volumeSliderChanged = function() {\r\n      var sliderValue = this.obj_VolumeSlider.noUiSlider.get();\r\n      //console.log('volumeSliderChanged called.');\r\n      var theVolume = Math.max(0, sliderValue);\r\n      theVolume = Math.min(1, theVolume);\r\n      this.f_Volume = theVolume;\r\n      this.playerSetVolume(this.f_Volume);\r\n      localStorage.setItem(\"proPlayerVolume\", this.f_Volume);\r\n    };\r\n\r\n    this.speedSliderChanged = function() {\r\n      var sliderValue = this.obj_SpeedSlider.noUiSlider.get();\r\n      //console.log('speedSliderChanged: ' + sliderValue);\r\n      var newSpeed = Math.max(0.25, sliderValue);\r\n      newSpeed = Math.min(1.5, newSpeed);\r\n\r\n      //console.log('Setting Speed: ' + newSpeed);\r\n      this.setPlayerSpeed(newSpeed);\r\n      $(\"#speedIndicator\").text(newSpeed + \"x\");\r\n      this.f_PlaybackRate = newSpeed;\r\n    };\r\n\r\n    this.zoomSliderChanged = function() {\r\n      this.b_ZoomSliderActivated = true;\r\n      var sliderValue = this.obj_ZoomSlider.noUiSlider.get();\r\n      this.setPlayerZoom(sliderValue);\r\n      this.b_ZoomSliderActivated = false;\r\n    };\r\n\r\n    this.syncZoomSliderPosition = function() {\r\n      if (!this.b_ZoomSliderActivated) {\r\n        //console.log('syncZoomSliderPosition called.');\r\n        arrayMatrix = this.obj_PanZoom.panzoom(\"getTransform\");\r\n        zoomFactor = arrayMatrix[0];\r\n        if (zoomFactor < 1.01) {\r\n          this.setZoomSliderPosition(1);\r\n          this.obj_PanZoom.panzoom(\"setTransform\", \"matrix(1,0,0,1,0,0)\");\r\n        } else {\r\n          this.setZoomSliderPosition(zoomFactor);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.setVolumeSliderPosition = function(value) {\r\n      //console.log('setVolumeSliderPosition called');\r\n      this.obj_VolumeSlider.noUiSlider.set(this.f_Volume);\r\n    };\r\n\r\n    this.setZoomSliderPosition = function(value) {\r\n      this.obj_ZoomSlider.noUiSlider.set(value);\r\n    };\r\n\r\n    this.setPlayerZoom = function(zoomFactor) {\r\n      if (zoomFactor < 1.05) {\r\n        this.obj_PanZoom.panzoom(\"setTransform\", \"matrix(1, 0, 0, 1, 0, 0)\");\r\n      } else {\r\n        //console.log('Setting zoom to ' + zoomFactor);\r\n        this.obj_PanZoom.panzoom(\"zoom\", parseFloat(zoomFactor));\r\n        $(\"#main-column\").toggleClass(\"zoomed\", true);\r\n        let theArray = this.obj_PanZoom.panzoom(\"getTransform\");\r\n        //console.log(\"Current Transform After Zoom Is: \" + theArray);\r\n      }\r\n    };\r\n\r\n    this.createResolutionRadioButtons = function() {\r\n      //console.log('createResolutionRadioButtons called.');\r\n      var newSelectHTML = \"\";\r\n      if (this.str_MediaType != \"audio\") {\r\n        for (let i = 0; i < this.a_VideoSources.length; i++) {\r\n          newSelectHTML +=\r\n            \"<div class='radio-button-wrapper'><input type='radio' name='selectedResolution' id='\" +\r\n            this.a_VideoSources[i][\"resolution\"] +\r\n            \"' value='\" +\r\n            this.a_VideoSources[i][\"resolution\"] +\r\n            \"' />\";\r\n          newSelectHTML +=\r\n            \"<label for='\" +\r\n            this.a_VideoSources[i][\"resolution\"] +\r\n            \"' class='\" +\r\n            this.a_VideoSources[i][\"hd\"] +\r\n            \"'>\" +\r\n            this.a_VideoSources[i][\"resolution\"] +\r\n            \"</label></div>\";\r\n        }\r\n\r\n        $(\"#resolutionSelect\").html(newSelectHTML);\r\n        $(\"input[name=selectedResolution]:radio\").change(function() {\r\n          thePlayer.theEngine.onUserChangedVideoResolution();\r\n        });\r\n      } else {\r\n        newSelectHTML +=\r\n          \"<span class='nonbreaking'><input type='radio' checked disabled /> <label>Default</label></span>\";\r\n        $(\"#resolutionSelect\").html(newSelectHTML);\r\n      }\r\n    };\r\n\r\n    /*\tthis.createPlaybackRateButtons = function()\r\n          {\r\n              //console.log(\"createPlaybackRateButtons called.\");\r\n              var speedControlsHTML = \"\";\r\n              for(let i = 0; i < this.a_PlaybackSpeeds.length; i++)\r\n              {\r\n                  speedControlsHTML += \"<div class='radio-button-wrapper'><input type='radio' id='speed-\" + i + \"' name='selectedSpeed' value='\" + this.a_PlaybackSpeeds[i][\"factor\"] + \"' />\";\r\n                  speedControlsHTML += \"<label for='speed-\" + i + \"'>\" + this.a_PlaybackSpeeds[i][\"label\"] + \"</label></div>\";\r\n      \r\n              }\r\n              $('#speedSelect').html(speedControlsHTML);\r\n              $( \"input[name=selectedSpeed]:radio\" ).change(function(){thePlayer.theEngine.onUserChangedPlaybackRate()});\r\n          }\r\n      */\r\n    this.playerSourceDataChanged = function() {\r\n      //this.playerSeekTo( this.f_SavedTime );\r\n      if (this.b_ResumePlaying) {\r\n        this.playerPlay();\r\n        this.b_ResumePlaying = false;\r\n        this.playerSeekTo(this.f_SavedTime);\r\n      }\r\n      if (this.f_PlaybackRate != 1) {\r\n        this.setPlayerSpeed(this.f_PlaybackRate);\r\n      }\r\n      this.b_BreakProgressUpdates = false;\r\n    };\r\n    this.onUserChangedVideoResolution = function() {\r\n      let radioButtons = $(\"input[name=selectedResolution]:radio\");\r\n      let selectedSource = radioButtons.index(radioButtons.filter(\":checked\"));\r\n      let sourceObject = this.a_VideoSources[selectedSource];\r\n      let currentTime = this.f_CurrentTime;\r\n      let currentSpeed = this.f_PlaybackRate;\r\n      this.str_SavedResolution = sourceObject[\"resolution\"];\r\n\r\n      let bWasZoomed = this.b_ZoomEnabled;\r\n      if (bWasZoomed) {\r\n        this.toggleZoomEnabled();\r\n      }\r\n      if (this.str_MediaType == \"vimeo\") {\r\n        this.f_SavedTime = this.f_CurrentTime;\r\n        this.b_BreakProgressUpdates = true;\r\n        var srcURL = this.a_VideoSources[selectedSource][\"url\"];\r\n\r\n        if (this.isPlaying()) {\r\n          this.b_ResumePlaying = true;\r\n          this.b_ProcessingUserPlaybackToggle = true;\r\n        }\r\n\r\n        this.playerSetActiveSource(selectedSource);\r\n      } else if (this.str_MediaType == \"youtube\") {\r\n        var resolutionString = this.getYTQualityString(\r\n          sourceObject[\"resolution\"]\r\n        );\r\n        this.f_SavedTime = this.f_CurrentTime;\r\n\r\n        //console.log('Attempting to set player resolution to ' + resolutionString)\r\n        this.playerPause();\r\n\r\n        //this.MediaPlayer.tech(this.obj_Safety).ytPlayer.setPlaybackQuality(resolutionString);\r\n        this.playerPlay();\r\n        this.playerSeekTo(this.f_CurrentTime - 1);\r\n      }\r\n    };\r\n\r\n    /*\tthis.onUserChangedPlaybackRate = function()\r\n          {\r\n              //console.log(\"Player Speed Changed.\")\r\n              var radioButtons = $( \"input[name=selectedSpeed]:radio\");\r\n              var selectedSpeed = radioButtons.index(radioButtons.filter(':checked'));\r\n              var speedObject = this.a_PlaybackSpeeds[selectedSpeed];\r\n              var newSpeed = speedObject[\"factor\"];\r\n              //console.log(\"Setting new speed: \" + newSpeed);\r\n              this.setPlayerSpeed( newSpeed );\r\n              this.f_PlaybackRate = newSpeed;\r\n          }\r\n          \r\n      */\r\n    this.updateSelectedResolution = function() {\r\n      var selectedSourceIndex = 0;\r\n\r\n      if (this.str_MediaType == \"vimeo\") {\r\n        var currentSource = this.MediaPlayer.src;\r\n        for (let i = 0; i < this.a_VideoSources.length; i++) {\r\n          if (this.a_VideoSources[i][\"url\"] == currentSource) {\r\n            selectedSourceIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      } else if (this.str_MediaType == \"youtube\") {\r\n        /*\r\n                  var ytQualityString = this.MediaPlayer.tech(this.obj_Safety).ytPlayer.getPlaybackQuality();\r\n                  var qualityString = this.convertYTString( ytQualityString );\r\n  \r\n                  for(let i = 0; i < this.a_VideoSources.length; i++)\r\n                  {\r\n                      if( this.a_VideoSources[i][\"resolution\"] == qualityString)\r\n                      {\r\n                          selectedSourceIndex = i;\r\n                          break;\r\n                      }\r\n                  }*/\r\n      }\r\n      var radioButtons = $(\"input[name=selectedResolution]:radio\");\r\n      $(radioButtons[selectedSourceIndex]).prop(\"checked\", true);\r\n    };\r\n\r\n    this.updateSelectedSpeed = function() {\r\n      this.f_PlaybackRate = this.media.getPlaybackRate();\r\n      var selectedSpeedIndex = 0;\r\n      for (let i = 0; i < this.a_PlaybackSpeeds.length; i++) {\r\n        if (this.a_PlaybackSpeeds[i][\"factor\"] == this.f_PlaybackRate) {\r\n          selectedSpeedIndex = i;\r\n          break;\r\n        }\r\n      }\r\n\r\n      var radioButtons = $(\"input[name=selectedSpeed]:radio\");\r\n      $(radioButtons[selectedSpeedIndex]).prop(\"checked\", true);\r\n    };\r\n\r\n    /*****************************************\r\n     *************  Cookie Stuff   ************\r\n     *****************************************/\r\n    this.restorePlayerCookieSettings = function() {\r\n      //Restore the last played resolution.\r\n      var savedResolution = localStorage.getItem(\"proPlayerResolution\");\r\n\r\n      if (savedResolution === null) {\r\n        savedResolution = 360;\r\n      }\r\n      this.str_SavedResolution = savedResolution;\r\n      if (this.str_SavedResolution < 0 || this.str_SavedResolution > 1080) {\r\n        this.str_SavedResolution = 360;\r\n      }\r\n\r\n      //Restore the last volume setting.\r\n      var savedVolume = localStorage.getItem(\"proPlayerVolume\");\r\n      //console.log('Restored volume: ' + savedVolume);\r\n      if (savedVolume !== null) {\r\n        if (savedVolume < 0 || savedVolume > 1) {\r\n          savedVolume = 0.7;\r\n        }\r\n      } else {\r\n        savedVolume = 0.7;\r\n      }\r\n\r\n      this.f_Volume = savedVolume;\r\n\r\n      //Restore the player flipped state\r\n      var savedFlip = localStorage.getItem(\"proPlayerFlipped\");\r\n      if (savedFlip !== null) {\r\n        if (savedFlip == \"true\") {\r\n          this.b_PlayerFlipped = true;\r\n        } else {\r\n          this.b_PlayerFlipped = false;\r\n        }\r\n      }\r\n\r\n      var savedPlaybackPositions = JSON.parse(\r\n        localStorage.getItem(\"proPlayerPlaybackLocations\")\r\n      );\r\n      var bMatchFound = false;\r\n\r\n      if (savedPlaybackPositions !== null) {\r\n        //Playback Positions were found in local storage,\r\n        // now search for a match and load the saved time.\r\n        for (let i = 0; i < savedPlaybackPositions.length; i++) {\r\n          if (savedPlaybackPositions[i][\"mediaCode\"] == this.str_MediaCode) {\r\n            this.f_SavedTime = savedPlaybackPositions[i][\"time\"];\r\n            bMatchFound = true;\r\n          }\r\n        }\r\n        if (this.f_SavedTime < 0) {\r\n          this.f_SavedTime = 0;\r\n        } else {\r\n          //console.log(\"Found saved time for this item\");\r\n          this.f_CurrentTime = this.f_SavedTime;\r\n          //console.log(\"Setting current time to: \" + this.f_CurrentTime);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.saveCookieValues = function() {\r\n      //console.log(\"Saving Volume: \" + this.f_Volume);\r\n      localStorage.setItem(\"proPlayerVolume\", this.f_Volume);\r\n      localStorage.setItem(\"proPlayerResolution\", this.str_SavedResolution);\r\n      localStorage.setItem(\"proPlayerFlipped\", this.b_PlayerFlipped);\r\n\r\n      if (\r\n        this.f_CurrentTime < this.f_VideoDuration - 10 &&\r\n        this.f_CurrentTime > 10\r\n      ) {\r\n        //console.log(\"Starting save playback location\");\r\n        var savedPlaybackPositions = JSON.parse(\r\n          localStorage.getItem(\"proPlayerPlaybackLocations\")\r\n        );\r\n        if (savedPlaybackPositions == null) {\r\n          savedPlaybackPositions = [];\r\n        }\r\n\r\n        var bMatchFound = false;\r\n        var nMatchIndex = 0;\r\n        for (let i = 0; i < savedPlaybackPositions.length; i++) {\r\n          if (savedPlaybackPositions[i].mediaCode == this.str_MediaCode) {\r\n            bMatchFound = true;\r\n            nMatchIndex = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (bMatchFound) {\r\n          savedPlaybackPositions[nMatchIndex].time = this.f_CurrentTime;\r\n        } else {\r\n          // attempting to set value of this item in playback positions;\r\n          var newPlaybackPosition = {};\r\n          newPlaybackPosition.mediaType = this.str_MediaType;\r\n          newPlaybackPosition.mediaCode = this.str_MediaCode;\r\n          newPlaybackPosition.time = this.f_CurrentTime;\r\n          savedPlaybackPositions.unshift(newPlaybackPosition);\r\n        }\r\n        //console.log(\"Saving playback location\");\r\n        localStorage.setItem(\r\n          \"proPlayerPlaybackLocations\",\r\n          JSON.stringify(savedPlaybackPositions)\r\n        );\r\n      }\r\n    };\r\n\r\n    /*****************************************\r\n     *************   Player Flipping  ************\r\n     *****************************************/\r\n    this.togglePlayerFlipped = function() {\r\n      this.b_PlayerFlipped = !this.b_PlayerFlipped;\r\n      this.setPlayerFlipped(this.b_PlayerFlipped);\r\n    };\r\n\r\n    this.setPlayerFlipped = function(isFlipped) {\r\n      if (isFlipped) {\r\n        if (this.str_MediaType == \"vimeo\") {\r\n          $(\".mejs__mediaelement video\").toggleClass(\"flipped\", true);\r\n        } else if (\r\n          this.str_MediaType == \"youtube\" ||\r\n          this.str_MediaType == \"facebook\"\r\n        ) {\r\n          $(\".mejs__mediaelement iframe\").toggleClass(\"flipped\", true);\r\n        }\r\n        $(\".mejs__poster\").toggleClass(\"flipped\", true);\r\n        $(\"input#flipPlayer\").attr(\"Checked\", \"Checked\");\r\n      } else {\r\n        if (this.str_MediaType == \"vimeo\") {\r\n          $(\".mejs__mediaelement video\").toggleClass(\"flipped\", false);\r\n        } else if (\r\n          this.str_MediaType == \"youtube\" ||\r\n          this.str_MediaType == \"facebook\"\r\n        ) {\r\n          $(\".mejs__mediaelement iframe\").toggleClass(\"flipped\", false);\r\n        }\r\n        $(\".mejs__poster\").toggleClass(\"flipped\", false);\r\n        $(\"input#flipPlayer\").removeAttr(\"Checked\");\r\n      }\r\n    };\r\n\r\n    this.convertYTString = function(ytString) {\r\n      var resolutionString = \"\";\r\n      switch (ytString) {\r\n        case \"hd1080\":\r\n          resolutionString = \"1080\";\r\n          break;\r\n        case \"hd720\":\r\n          resolutionString = \"720\";\r\n          break;\r\n        case \"large\":\r\n          resolutionString = \"480\";\r\n          break;\r\n        case \"medium\":\r\n          resolutionString = \"360\";\r\n          break;\r\n        case \"small\":\r\n          resolutionString = \"240\";\r\n          break;\r\n        case \"tiny\":\r\n          resolutionString = \"144\";\r\n          break;\r\n        case \"auto\":\r\n          resolutionString = \"Auto\";\r\n          break;\r\n      }\r\n      return resolutionString;\r\n    };\r\n\r\n    this.getYTQualityString = function(qualityString) {\r\n      var resolutionString = \"\";\r\n      switch (qualityString) {\r\n        case \"1080\":\r\n          resolutionString = \"hd1080\";\r\n          break;\r\n        case \"720\":\r\n          resolutionString = \"hd720\";\r\n          break;\r\n        case \"480\":\r\n          resolutionString = \"large\";\r\n          break;\r\n        case \"360\":\r\n          resolutionString = \"medium\";\r\n          break;\r\n        case \"240\":\r\n          resolutionString = \"small\";\r\n          break;\r\n        case \"144\":\r\n          resolutionString = \"tiny\";\r\n          break;\r\n        case \"Auto\":\r\n          resolutionString = \"auto\";\r\n          break;\r\n      }\r\n      return resolutionString;\r\n    };\r\n\r\n    this.toggleVideoControls = function() {\r\n      //console.log('Toggling video controls');\r\n      $(\"#videoControlsMenu\").toggle();\r\n      $(\"#controls-toggle\").toggleClass(\"set\");\r\n    };\r\n    this.secondsToMinutes = function(time) {\r\n      var minutes = Math.floor(time / 60);\r\n      var seconds = (time - minutes * 60).toFixed(0).toString();\r\n      if (seconds.length == 1) {\r\n        seconds = \"0\" + seconds;\r\n      }\r\n      return minutes.toString() + \":\" + seconds;\r\n    };\r\n  }\r\n}\r\n\r\nexport class Browser {\r\n  constructor(strWrapperDiv) {\r\n    this.b_BrowserLoaded = false;\r\n    this.strBrowserWrapperID = \"#\" + strWrapperDiv;\r\n    this.strActiveChannel = \"\";\r\n    this.n_DependentsToProcess = 0;\r\n    this.n_UpdateTimer = -1;\r\n    this.filterSectionList = new BrowserFilterSectionList(this);\r\n    this.b_IsProcessing = false;\r\n    this.initializeBrowser = function() {};\r\n\r\n    /*****************************************\r\n     *** Initialization/Reset Functions  ********\r\n     *****************************************/\r\n    this.openBrowser = function() {};\r\n\r\n    this.closeBrowser = function() {\r\n      //console.log('Close Browser Called');\r\n      $(this.strBrowserWrapperID).empty();\r\n      $(this.strBrowserWrapperID).toggle(false);\r\n    };\r\n\r\n    this.browserReset = function() {\r\n      $(\"#filter-level-1 .selected\").toggleClass(\"active\", false);\r\n      this.strActiveChannel = \"\";\r\n      this.browserResetFilters();\r\n      this.resetResults();\r\n      this.n_DependentsToProcess = 0;\r\n      this.filterSectionList.reset();\r\n      this.spinner(\"results\");\r\n      $(\"#results\").load(\r\n        gc_BranchPath + \"/--ajax-browser-default-entries/\",\r\n        function() {\r\n          thePlayer.browserTool.loadResultsFavoritesForms();\r\n        }\r\n      );\r\n      $(\"#sidebar-instructions\").toggleClass(\"hidden\", false);\r\n    };\r\n\r\n    this.resetResults = function() {\r\n      $(\"#results .row\").remove();\r\n      $(\"#results\").empty();\r\n    };\r\n\r\n    /*****************************************\r\n     *************  Interface Callbacks  ************\r\n     *****************************************/\r\n    this.browserChannelCallback = function(strChannel, sender) {\r\n      if (this.isProcessing()) {\r\n        //console.log(\"Previous process has not finished, bailing.\");\r\n        return;\r\n      }\r\n      this.initializeProcessing();\r\n\r\n      this.strActiveChannel = strChannel;\r\n      this.resetResults();\r\n      //unselect previously selected content type.\r\n      $(\"ul.browser-top-filter-list li a.active\").toggleClass(\"active\", false);\r\n\r\n      if (sender) {\r\n        $(sender).toggleClass(\"active\", true);\r\n      }\r\n\r\n      this.browserLoadFilters(strChannel);\r\n    };\r\n\r\n    this.toggleSearchFilter = function(strFilterID, strSectionID) {\r\n      if (this.isProcessing()) {\r\n        //console.log(\"Previous process has not finished, bailing.\");\r\n        return;\r\n      }\r\n      this.initializeProcessing();\r\n\r\n      let theFilterID = \"input#\" + strFilterID;\r\n\r\n      let theSection = $(\"#browserFilterSection-\" + strSectionID);\r\n      //console.log(theSection);\r\n      let bEnableStacking = $(theSection).data(\"section-stackable\") == \"yes\";\r\n\r\n      let sectionType = $(theSection).data(\"section-type\");\r\n\r\n      let bWasChecked = $(theFilterID).prop(\"checked\");\r\n      if (bWasChecked == undefined) {\r\n        bWasChecked = false;\r\n      }\r\n\r\n      if (bWasChecked && !bEnableStacking) {\r\n        //We are toggling on a checkbox, but stacking is not enabled for this section.\r\n        // We must clear all other checked inputs in this group.\r\n        let theCheckboxes = $(theSection).find(\"input:checkbox\");\r\n        for (let i = 0; i < theCheckboxes.length; i++) {\r\n          if ($(theCheckboxes[i]).attr(\"id\") !== strFilterID) {\r\n            //console.log('Unchecking: ' + $(theCheckboxes[i]).attr('id'));\r\n            $(theCheckboxes[i]).prop(\"checked\", false);\r\n          }\r\n        }\r\n      }\r\n\r\n      let filterSectionID = \"#filterSection-\" + strSectionID;\r\n      let theCheckboxes = $(theSection).find(\"input:checkbox:checked\");\r\n      if (theCheckboxes.length > 0) {\r\n        //console.log(\"Marking section to have filters on: \" + filterSectionID);\r\n        $(filterSectionID).toggleClass(\"has-filters\", true);\r\n      } else {\r\n        $(filterSectionID).toggleClass(\"has-filters\", false);\r\n      }\r\n\r\n      this.resetResults();\r\n      this.showResultsLoading();\r\n      this.processDependents(strSectionID);\r\n      this.waitForDependentsToFinishUpdating();\r\n    };\r\n\r\n    /*****************************************\r\n     *************   Filtering  ************\r\n     *****************************************/\r\n    this.browserResetFilters = function() {\r\n      $(\"#sidebarFiltersWrapper form\").remove();\r\n    };\r\n\r\n    this.browserLoadFilters = function(strChannel) {\r\n      this.browserResetFilters();\r\n      this.spinner(\"sidebarFiltersWrapper\");\r\n      var theURL = gc_BranchPath + \"/--ajax-browser-filters/\" + strChannel;\r\n      $(\"#sidebarFiltersWrapper\").load(theURL, function() {\r\n        if (strChannel != \"youtube\") {\r\n          thePlayer.browserTool.submitSearch();\r\n          $(\"#filterAccordion\").foundation();\r\n          thePlayer.browserTool.refreshActiveFilters();\r\n          thePlayer.browserTool.buildFilterSectionData();\r\n        } else {\r\n          thePlayer.browserTool.clearActiveFilters();\r\n          thePlayer.browserTool.finalCleanup();\r\n        }\r\n      });\r\n    };\r\n\r\n    this.removeKeywordFilter = function() {\r\n      $(\"#browserSearchKeywordsReset\").toggle(false);\r\n      $(\"input#browserSearchKeywords\").val(\"\");\r\n      this.applyKeywordFilter();\r\n    };\r\n\r\n    this.removeActiveFilter = function(strFilterID, strSectionID) {\r\n      //first uncheck the filter because that's what would have happened if we clicked\r\n      // on it.\r\n      $(\"#\" + strFilterID).prop(\"checked\", false);\r\n      this.toggleSearchFilter(strFilterID, strSectionID);\r\n    };\r\n\r\n    this.clearActiveFilters = function() {\r\n      $(\"#activeFiltersWrapper\").html(\"\");\r\n      $(\"#activeFiltersWrapper\").toggleClass(\"hidden\", true);\r\n    };\r\n    this.refreshActiveFilters = function() {\r\n      //console.log(\"Refreshing Active Filters\");\r\n      let filtersString = \"\";\r\n      let sections = $(\"ul#filterAccordion li.accordion-item\");\r\n\r\n      for (let i = 0; i < sections.length; i++) {\r\n        let sectionTitle = $(sections[i])\r\n          .children(\"a.accordion-title\")\r\n          .first()\r\n          .text();\r\n        let sectionID = $(sections[i]).data(\"section-id\");\r\n        let checkedFilters = $(sections[i]).find(\"input:checkbox:checked\");\r\n        if (checkedFilters.length > 0) {\r\n          filtersString +=\r\n            \"<span class='active-filter-group'><span class='active-filter-group-title'>\";\r\n          filtersString += sectionTitle + \":</span> \";\r\n          for (let j = 0; j < checkedFilters.length; j++) {\r\n            filtersString +=\r\n              \"<a class='active-filter-item' onClick='thePlayer.browserTool.removeActiveFilter(\\\"\";\r\n            filtersString += $(checkedFilters[j]).attr(\"id\");\r\n            filtersString += '\", ';\r\n            filtersString += '\"' + sectionID + \"\\\"); return false;'>\";\r\n            filtersString += $(checkedFilters[j])\r\n              .siblings(\"label\")\r\n              .first()\r\n              .text();\r\n            filtersString += \" <i class='fa fa-times-circle'></i></a>\";\r\n          }\r\n          filtersString += \"</span>\";\r\n        }\r\n      }\r\n\r\n      let strKeywords = $(\"input#browserSearchKeywords\").val();\r\n\r\n      if (strKeywords != \"\") {\r\n        filtersString +=\r\n          \"<span class='active-filter-group'><span class='active-filter-group-title'>\";\r\n        filtersString += \"Keywords:</span> \";\r\n        filtersString +=\r\n          \"<a class='active-filter-item' onClick='thePlayer.browserTool.removeKeywordFilter(); return false;'>\";\r\n        filtersString += strKeywords;\r\n        filtersString += \" <i class='fa fa-times-circle'></i></a>\";\r\n        filtersString += \"</span>\";\r\n      }\r\n\r\n      if (filtersString == \"\") {\r\n        filtersString +=\r\n          \"<span class='active-filter-group'><span class='active-filter-group-title'>\";\r\n        filtersString += \"Showing: All</span>\";\r\n        filtersString += \"</span>\";\r\n      }\r\n      $(\"#activeFiltersWrapper\").removeClass(\"hidden\");\r\n      $(\"#activeFiltersWrapper\").html(filtersString);\r\n    };\r\n\r\n    /*****************************************\r\n     *************  Search Results   ************\r\n     *****************************************/\r\n    this.resetSearch = function() {\r\n      $(\"input:checkbox\").prop(\"checked\", false);\r\n      $(\".has-filters\").removeClass(\"has-filters\");\r\n      this.refreshActiveFilters();\r\n      this.submitSearch();\r\n    };\r\n\r\n    this.submitSearch = function() {\r\n      var theForm = $(\"form#searchForm\");\r\n      formData = $(theForm).serialize();\r\n      //console.log(formData);\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: $(theForm).attr(\"action\"),\r\n        data: formData\r\n      }).done(function(response) {\r\n        $(\"#results\").html(response);\r\n        thePlayer.browserTool.finalCleanup();\r\n        thePlayer.browserTool.loadResultsFavoritesForms();\r\n      });\r\n    };\r\n\r\n    this.applyKeywordFilter = function() {\r\n      let theKeywords = $(\"input#browserSearchKeywords\").val();\r\n      if (theKeywords != \"\") {\r\n        $(\"#browserSearchKeywordsReset\").toggle(true);\r\n      }\r\n      this.refreshActiveFilters();\r\n      this.showResultsLoading();\r\n      this.submitSearch();\r\n    };\r\n\r\n    this.doYouTubeSearch = function() {\r\n      if (this.isProcessing()) {\r\n        //console.log(\"Previous process has not finished, bailing.\");\r\n        return;\r\n      }\r\n      this.initializeProcessing();\r\n\r\n      let searchPath = gc_BranchPath + \"/--ajax-browser-search-youtube/\";\r\n      let searchKeywords = $(\"input#browserSearchKeywords\").val();\r\n      if (searchKeywords != \"\") {\r\n        let searchURL = encodeURI(searchPath + searchKeywords);\r\n        this.resetResults();\r\n        this.showResultsLoading();\r\n        $(\"#results\").load(searchURL, function() {\r\n          thePlayer.browserTool.finalCleanup();\r\n        });\r\n      }\r\n    };\r\n\r\n    this.goToResultsPage = function(resultsURL) {\r\n      if (this.isProcessing()) {\r\n        //console.log(\"Previous process has not finished, bailing.\");\r\n        return;\r\n      }\r\n      this.initializeProcessing();\r\n\r\n      this.resetResults();\r\n      this.spinner(\"results\");\r\n      $(\"#results\").load(resultsURL, function() {\r\n        thePlayer.browserTool.finalCleanup();\r\n        thePlayer.browserTool.loadResultsFavoritesForms();\r\n      });\r\n    };\r\n\r\n    this.nextYouTubeResultsPage = function(strSearchTerm, offsetNumber) {\r\n      if (this.isProcessing()) {\r\n        //console.log(\"Previous process has not finished, bailing.\");\r\n        return;\r\n      }\r\n      this.initializeProcessing();\r\n\r\n      this.resetResults();\r\n      this.showResultsLoading();\r\n      var strNextURL = gc_BranchPath + \"/\";\r\n      strNextURL += \"--ajax-browser-search-youtube/\";\r\n      strNextURL += strSearchTerm + \"/\";\r\n      strNextURL += offsetNumber;\r\n\r\n      var strNextURL = encodeURI(strNextURL);\r\n      $(\"#results\").load(strNextURL, function() {\r\n        thePlayer.browserTool.finalCleanup();\r\n      });\r\n    };\r\n\r\n    /*****************************************\r\n     ******   Dependency Functions  **********\r\n     *****************************************/\r\n    this.buildFilterSectionData = function() {\r\n      this.filterSectionList.reset();\r\n\r\n      let allSections = $(\"ul.filter-list\");\r\n      for (let i = 0; i < allSections.length; i++) {\r\n        let newSectionObject = new BrowserFilterSection();\r\n        newSectionObject.setSectionID($(allSections[i]).data(\"section-id\"));\r\n        newSectionObject.setSectionType($(allSections[i]).data(\"section-type\"));\r\n        newSectionObject.setSectionDOMID(\r\n          \"#browserFilterSection-\" + $(allSections[i]).data(\"section-id\")\r\n        );\r\n        newSectionObject.setChannelID(\r\n          $(allSections[i]).data(\"section-channel-id\")\r\n        );\r\n        newSectionObject.setGroupID($(allSections[i]).data(\"section-group-id\"));\r\n\r\n        let tmpDependenciesArray = null;\r\n        let tmpDependenciesString = $(allSections[i]).data(\r\n          \"section-dependencies\"\r\n        );\r\n        if (tmpDependenciesString != \"\") {\r\n          tmpDependenciesArray = tmpDependenciesString.split(\"|\");\r\n        } else {\r\n          tmpDependenciesArray = [];\r\n        }\r\n\r\n        newSectionObject.setParentIDs(tmpDependenciesArray);\r\n        this.filterSectionList.addSection(newSectionObject);\r\n      }\r\n\r\n      this.filterSectionList.computeSectionFamilies();\r\n    };\r\n\r\n    this.processDependents = function({ strMasterSectionID, list, status }) {\r\n      /*\r\n        #Order Of Operations\r\n        \r\n        1. Get an array of dependencies for the master section being changed.\r\n        2. Update each of those dependent sections.\r\n          a. Scan through the sections each dependent section is dependent on.\r\n          b. Get a list of all enabled inputs.\r\n          c. Create the update url and update from that.\r\n      */\r\n      let theSection = list.getSectionByID(strMasterSectionID);\r\n      let theChildren = theSection.getChildren();\r\n      //If there aren't any dependents found, there's nothing to do\r\n      if (theChildren.length == 0) {\r\n        return;\r\n      }\r\n\r\n      this.n_DependentsToProcess = theChildren.length;\r\n      list.rebuildFilterSectionKeys(status);\r\n\r\n      for (let i = 0; i < theChildren.length; i++) {\r\n        let childParents = theChildren[i].getParents();\r\n        //initialize our tag and category filter strings\r\n        let theTagKeys = \"\";\r\n        let theCategoryKeys = \"\";\r\n\r\n        //cycle through all sections we depend on and collect any checked input values.\r\n        for (let j = 0; j < childParents.length; j++) {\r\n          let theKeyIDsString = childParents[j].getKeyString();\r\n          let theKeyType = childParents[j].getSectionType();\r\n          if (theKeyType == \"tag\") {\r\n            theTagKeys += theKeyIDsString;\r\n          } else {\r\n            theCategoryKeys += theKeyIDsString;\r\n          }\r\n        }\r\n\r\n        // Check if any of the key strings is empty and set it to -1,\r\n        // otherwise trim the last | off the end;\r\n        if (theTagKeys == \"\") {\r\n          theTagKeys = \"-1\";\r\n        }\r\n        if (theCategoryKeys == \"\") {\r\n          theCategoryKeys = \"-1\";\r\n        }\r\n\r\n        /*\r\n          Now we have a list of categories and tags to key on (from all sections we\r\n          depend on. We are ready to construct a url to send to the refiner.\r\n        */\r\n        if (theTagKeys !== \"-1\" || theCategoryKeys !== \"-1\") {\r\n          let theURL = \"/--ajax-browser-filter-refiner/\";\r\n          theURL += theChildren[i].getSectionID() + \"/\"; //what is the ID of the section we're updating\r\n          theURL += theChildren[i].getSectionType() + \"/\"; //what type of items are we retrieving (cats or tags)\r\n          theURL += theChildren[i].getChannelID() + \"/\"; //what channel are we looking at\r\n          theURL += theChildren[i].getGroupID() + \"/\"; //what is the group (cat or tag) that we are filtering\r\n          theURL += theCategoryKeys + \"/\"; //what are the categories we have to match\r\n          theURL += theTagKeys + \"/\"; //what are the tags we have to match\r\n\r\n          // debugger;\r\n          // $.get(theURL, function(data) {\r\n          //   let theDependent = JSON.parse(data);\r\n          //   thePlayer.browserTool.processDependentFilterSection(theDependent);\r\n          // });\r\n          return theURL;\r\n        } else {\r\n          // this.restoreFilterSection( theChildren[i].getSectionID() );\r\n        }\r\n      }\r\n    };\r\n\r\n    this.processDependentFilterSection = function(dependentObject) {\r\n      let theIDs = dependentObject.ids;\r\n      let theSectionID = dependentObject.sectionID;\r\n      let theInputs = $(\"#browserFilterSection-\" + theSectionID).find(\r\n        \"input:checkbox\"\r\n      );\r\n      for (let i = 0; i < theInputs.length; i++) {\r\n        let theInputID = $(theInputs[i]).val();\r\n        let theIndex = theIDs.indexOf(parseInt(theInputID));\r\n        if (theIndex == -1) {\r\n          $(theInputs[i]).prop(\"checked\", false);\r\n          $(theInputs[i])\r\n            .closest(\"li\")\r\n            .toggleClass(\"hidden\", true);\r\n          $(theInputs[i])\r\n            .closest(\"li\")\r\n            .toggleClass(\"visible\", false);\r\n        } else {\r\n          //console.log(\"Input WAS found in matching IDs\");\r\n          $(theInputs[i])\r\n            .closest(\"li\")\r\n            .toggleClass(\"hidden\", false);\r\n          $(theInputs[i])\r\n            .closest(\"li\")\r\n            .toggleClass(\"visible\", true);\r\n        }\r\n      }\r\n      let theFilters = $(\"#browserFilterSection-\" + theSectionID).find(\r\n        \"li.filter.visible\"\r\n      );\r\n\r\n      if (theFilters.length == 0) {\r\n        $(\"#browserFilterSection-\" + theSectionID)\r\n          .closest(\".accordion-item\")\r\n          .toggleClass(\"has-filters\", false);\r\n        $(\"#browserFilterSection-\" + theSectionID)\r\n          .closest(\".accordion-item\")\r\n          .hide();\r\n      } else {\r\n        $(\"#browserFilterSection-\" + theSectionID)\r\n          .closest(\".accordion-item\")\r\n          .show();\r\n      }\r\n      this.dependentFinishedUpdating(theSectionID);\r\n    };\r\n\r\n    this.dependentFinishedUpdating = function(strSectionID) {\r\n      this.n_DependentsToProcess--;\r\n    };\r\n\r\n    this.waitForDependentsToFinishUpdating = function() {\r\n      if (this.n_DependentsToProcess > 0) {\r\n        this.n_UpdateTimer = setTimeout(function() {\r\n          thePlayer.browserTool.waitForDependentsToFinishUpdating();\r\n        }, 100);\r\n        return;\r\n      }\r\n      clearTimeout(this.n_UpdateTimer);\r\n      this.n_UpdateTimer = -1;\r\n      this.submitSearch();\r\n      this.refreshActiveFilters();\r\n    };\r\n\r\n    this.restoreFilterSection = function(strSectionID) {\r\n      let theSection = $(\"#browserFilterSection-\" + strSectionID);\r\n      let theInputs = $(theSection).find(\"input:checkbox\");\r\n      for (let i = 0; i < theInputs.length; i++) {\r\n        $(theInputs[i])\r\n          .closest(\"li\")\r\n          .toggleClass(\"hidden\", false);\r\n        $(theInputs[i])\r\n          .closest(\"li\")\r\n          .toggleClass(\"visible\", true);\r\n      }\r\n\r\n      $(theSection)\r\n        .closest(\".accordion-item\")\r\n        .show();\r\n      this.dependentFinishedUpdating(strSectionID);\r\n    };\r\n\r\n    /*****************************************\r\n     *************   Fav Forms Loading  ************\r\n     *****************************************/\r\n    this.reloadResultsFavoritesForms = function() {\r\n      let theResults = $(\".browser-result-fav-wrapper.fav-enabled\");\r\n      let theIDs = \"\";\r\n      for (let i = 0; i < theResults.length; i++) {\r\n        $(theResults[i]).empty();\r\n      }\r\n\r\n      this.loadResultsFavoritesForms();\r\n    };\r\n    this.loadResultsFavoritesForms = function() {\r\n      let theResults = $(\".browser-result-fav-wrapper.fav-enabled\");\r\n      let theIDs = \"\";\r\n      for (let i = 0; i < theResults.length; i++) {\r\n        theIDs += $(theResults[i]).data(\"entry-id\");\r\n        if (i != theResults.length - 1) {\r\n          theIDs += \"|\";\r\n        }\r\n      }\r\n\r\n      let theURL = gc_BranchPath + \"/--ajax-browser-load-favorite-forms/\";\r\n      theURL += theIDs;\r\n\r\n      $.get(theURL, function(data) {\r\n        let theFavorites = JSON.parse(data);\r\n        thePlayer.browserTool.pushResultsFavoritesForms(theFavorites);\r\n      });\r\n    };\r\n\r\n    this.pushResultsFavoritesForms = function(arrFavorites) {\r\n      let theForms = arrFavorites.formsArray;\r\n      for (let i = 0; i < theForms.length; i++) {\r\n        let theEntryID = theForms[i].itemID;\r\n        let theItem = $(\"#favWrapper-\" + theEntryID);\r\n        $(theItem).html(theForms[i].itemForm);\r\n\r\n        let theMetaID = \"#browserResultItem-\" + theEntryID;\r\n        if (theForms[i].itemChapters != \"\" && theForms[i].itemChapters != \"0\") {\r\n          $(theMetaID).toggleClass(\"has-chapters\", true);\r\n        } else {\r\n          $(theMetaID).toggleClass(\"has-chapters\", false);\r\n        }\r\n        if (theForms[i].itemLoops != \"\" && theForms[i].itemLoops != \"0\") {\r\n          $(theMetaID).toggleClass(\"has-loops\", true);\r\n        } else {\r\n          $(theMetaID).toggleClass(\"has-loops\", false);\r\n        }\r\n        if (\r\n          theForms[i].itemUserLoops != \"\" &&\r\n          theForms[i].itemUserLoops != \"0\"\r\n        ) {\r\n          $(theMetaID).toggleClass(\"has-user-loops\", true);\r\n        } else {\r\n          $(theMetaID).toggleClass(\"has-user-loops\", false);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.initializeProcessing = function() {\r\n      //console.log(\"Initializing Processing.\");\r\n      this.b_IsProcessing = true;\r\n      $(\"#browser-wrapper\").toggleClass(\"updating\", true);\r\n    };\r\n\r\n    this.isProcessing = function() {\r\n      return this.b_IsProcessing;\r\n    };\r\n    this.finalCleanup = function() {\r\n      // this function should only be called when all operations are done\r\n      // 1. Filters are loaded.\r\n      // 2. Results are loaded\r\n      //console.log(\"Finished Processing.\");\r\n      this.b_IsProcessing = false;\r\n      $(\"#browser-wrapper\").toggleClass(\"updating\", false);\r\n    };\r\n    this.toggleFavoriteInBrowser = function(sender) {\r\n      //console.log('Submitting Favorite');\r\n      var formID = $(sender).closest(\"form.submitFavoriteForm\");\r\n      courseID = $(formID).attr(\"data-id\");\r\n      formData = $(formID).serialize();\r\n      badgeWrapperID = $(formID)\r\n        .closest(\".browser-result-fav-wrapper\")\r\n        .attr(\"id\");\r\n      $(\"#\" + badgeWrapperID + \" button\").html(\r\n        '<i class=\"fa fa-spinner fa-spin fa-2x\"></i>'\r\n      );\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: $(formID).attr(\"action\"),\r\n        data: formData\r\n      }).done(function(response) {\r\n        $(\"#\" + badgeWrapperID).load(\r\n          gc_BranchPath + \"/--ajax-browser-favorite-entry/\" + courseID\r\n        );\r\n      });\r\n    };\r\n\r\n    /*****************************************\r\n     *****   Misc Display Functions  *********\r\n     *****************************************/\r\n    this.spinner = function(elementID) {\r\n      var strSpinner =\r\n        \"<div id='spinner'><i class='fa fa-spinner fa-spin fa-2x'></i></div>\";\r\n      $(\"#\" + elementID).html(strSpinner);\r\n    };\r\n\r\n    this.showResultsLoading = function() {\r\n      this.spinner(\"results\");\r\n    };\r\n\r\n    this.browserDisplayInstructions = function(nCode) {\r\n      var strMessage = \"<div class='browser-message'>\";\r\n\r\n      if (nCode == 0) {\r\n        // Nothing selected\r\n        strMessage += \"Pick a type of content from the choices above.\";\r\n      } else if (nCode == 1) {\r\n        // Tag Group Selected\r\n        strMessage += \"Choose a tag.\";\r\n      } else if (nCode == 2) {\r\n        // Category Group Selected\r\n        strMessage += \"Choose a category.\";\r\n      } else if (nCode == 3) {\r\n        // Search Selected\r\n        strMessage += \"Enter a search keyword.\";\r\n      }\r\n\r\n      strMessage += \"</div>\";\r\n      $(\"#results\").html(strMessage);\r\n    };\r\n  }\r\n}\r\nexport class BrowserFilterSectionList {\r\n  constructor(browserTool) {\r\n    this.theBrowser = browserTool;\r\n    this.a_Sections = [];\r\n\r\n    this.reset = function() {\r\n      this.a_Sections = [];\r\n    };\r\n\r\n    this.addSection = function(objSection) {\r\n      this.a_Sections.push(objSection);\r\n    };\r\n\r\n    this.computeSectionFamilies = function() {\r\n      // First, compute parents based on Parents ID array used when creating each section.\r\n      for (let i = 0; i < this.a_Sections.length; i++) {\r\n        let theSection = this.a_Sections[i];\r\n        let theParentIDs = theSection.getParentIDs();\r\n        for (let j = 0; j < theParentIDs.length; j++) {\r\n          theSection.addParent(this.getSectionByID(theParentIDs[j]));\r\n        }\r\n      }\r\n\r\n      //Now that parents are all setup, add the children.\r\n      for (let i = 0; i < this.a_Sections.length; i++) {\r\n        let theSection = this.a_Sections[i];\r\n        let theParents = theSection.getParents();\r\n        for (let j = 0; j < theParents.length; j++) {\r\n          theParents[j].addChild(theSection);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.getSectionByID = function(strSectionID) {\r\n      let theMatchingIndex = -1;\r\n      for (let i = 0; i < this.a_Sections.length; i++) {\r\n        if (this.a_Sections[i].getSectionID() == strSectionID) {\r\n          theMatchingIndex = i;\r\n          break;\r\n        }\r\n      }\r\n      return this.a_Sections[theMatchingIndex];\r\n    };\r\n\r\n    // any checked inputs into an array with that section\r\n    this.rebuildFilterSectionKeys = function(currentStatus) {\r\n      // currentStatus is the the current state of the browser store\r\n      for (let i = 0; i < this.a_Sections.length; i++) {\r\n        // extract sub array of currentstatus to rebuild the section keys\r\n        let sectionStatuses = [];\r\n        let currentSectionId = this.a_Sections[i].getSectionID();\r\n        Object.entries(currentStatus).forEach(([key, value]) => {\r\n          if (key.startsWith(currentSectionId)) {\r\n            // console.log(`${key}: ${value}`);\r\n            if (value) {\r\n              let obj = {};\r\n              obj[key] = value;\r\n              sectionStatuses.push(obj);\r\n            }\r\n          }\r\n        });\r\n        if (sectionStatuses.length)\r\n          this.a_Sections[i].rebuildKeys(sectionStatuses);\r\n      }\r\n    };\r\n  }\r\n}\r\nexport class BrowserFilterSection {\r\n  constructor() {\r\n    this.str_SectionID = \"\";\r\n    this.str_SectionType = \"\";\r\n    this.str_ChannelID = 0;\r\n    this.str_GroupID = \"\";\r\n    this.sectionDOMID = \"\";\r\n    this.a_ParentIDs = [];\r\n    this.a_Children = []; //sections that key off of me\r\n    this.a_Parents = []; // sections that I key off of\r\n    this.a_Keys = [];\r\n\r\n    this.reset = function() {\r\n      this.str_SectionType = \"\";\r\n      this.str_ChannelID = 0;\r\n      this.str_GroupID = \"\";\r\n      this.sectionDOMID = \"\";\r\n      this.a_ParentIDs = [];\r\n      this.a_Children = []; //sections that key off of me\r\n      this.a_Parents = []; // sections that I key off of\r\n      this.a_Keys = [];\r\n    };\r\n\r\n    this.setSectionID = function(strID) {\r\n      this.str_SectionID = strID;\r\n    };\r\n    this.setSectionDOMID = function(strID) {\r\n      this.sectionDOMID = strID;\r\n    };\r\n    this.setSectionType = function(strType) {\r\n      this.str_SectionType = strType;\r\n    };\r\n    this.setChannelID = function(strID) {\r\n      this.str_ChannelID = strID;\r\n    };\r\n    this.setGroupID = function(strID) {\r\n      this.str_GroupID = strID;\r\n    };\r\n\r\n    this.getSectionID = function() {\r\n      return this.str_SectionID;\r\n    };\r\n    this.getSectionDOMID = function() {\r\n      return this.sectionDOMID;\r\n    };\r\n    this.getSectionType = function() {\r\n      return this.str_SectionType;\r\n    };\r\n    this.getChannelID = function() {\r\n      return this.str_ChannelID;\r\n    };\r\n    this.getGroupID = function() {\r\n      return this.str_GroupID;\r\n    };\r\n\r\n    this.setParentIDs = function(aParentIDs) {\r\n      this.a_ParentIDs = aParentIDs;\r\n    };\r\n    this.getParentIDs = function() {\r\n      return this.a_ParentIDs;\r\n    };\r\n\r\n    this.getChildren = function() {\r\n      return this.a_Children;\r\n    };\r\n    this.addChild = function(objChild) {\r\n      this.a_Children.push(objChild);\r\n    };\r\n\r\n    this.getParents = function() {\r\n      return this.a_Parents;\r\n    };\r\n    this.addParent = function(objParent) {\r\n      this.a_Parents.push(objParent);\r\n    };\r\n\r\n    this.getKeyString = function() {\r\n      let theKeyString = \"\";\r\n      for (let i = 0; i < this.a_Keys.length; i++) {\r\n        theKeyString += this.a_Keys[i];\r\n        if (i < this.a_Keys.length - 1) {\r\n          theKeyString += \"|\";\r\n        }\r\n      }\r\n\r\n      return theKeyString;\r\n    };\r\n\r\n    this.resetKeys = function() {\r\n      this.a_Keys = [];\r\n    };\r\n\r\n    this.addKey = function(strKey) {\r\n      this.a_Keys.push(strKey);\r\n    };\r\n\r\n    this.rebuildKeys = function(sectionStatuses) {\r\n      this.resetKeys();\r\n      console.log(\"sStat\", sectionStatuses);\r\n\r\n      // let tmpInputList = $(this.sectionDOMID).find('input:checkbox:checked');\r\n      for (let i = 0; i < sectionStatuses.length; i++) {\r\n        let status = sectionStatuses[i];\r\n        let key = Object.keys(status)[0];\r\n        let val = parseInt(key.match(/\\d+$/)[0]);\r\n        this.addKey(val);\r\n      }\r\n    };\r\n  }\r\n}\r\nexport class CommentsManager {\r\n  constructor(parentWraperDivID) {\r\n    this.n_SegmentID = 0;\r\n    this.n_PackageID = 0;\r\n    this.commentsLoadedOnce = false;\r\n    this.b_FilterComments = false;\r\n    this.str_CommentsListWrapperID = \"#\" + parentWraperDivID;\r\n\r\n    this.reset = function() {\r\n      //console.log(\"Resetting Comments Data\");\r\n      this.n_SegmentID = 0;\r\n      this.n_PackageID = 0;\r\n      this.commentsLoadedOnce = false;\r\n      this.b_FilterComments = false;\r\n      // $(this.str_CommentsListWrapperID).empty();\r\n    };\r\n\r\n    this.setNewPackageAndSegmentIDs = function(nPackageID, nSegmentID) {\r\n      this.reset();\r\n      this.n_PackageID = nPackageID;\r\n      this.n_SegmentID = nSegmentID;\r\n    };\r\n\r\n    this.setNewPackageID = function(nPackageID) {\r\n      this.reset();\r\n      this.n_PackageID = nPackageID;\r\n    };\r\n\r\n    this.setNewSegmentID = function(nSegmentID) {\r\n      this.n_SegmentID = nSegmentID;\r\n    };\r\n\r\n    this.setAuthorCommentFilter = function(bFilter) {\r\n      if (bFilter != this.b_FilterComments) {\r\n        this.b_FilterComments = bFilter;\r\n        this.reloadComments();\r\n      }\r\n    };\r\n    this.reloadComments = function() {\r\n      this.commentsLoadedOnce = true;\r\n      if (this.n_PackageID != \"0\") {\r\n        // $(this.str_CommentsListWrapperID).empty();\r\n        // thePlayer.spinner(this.str_CommentsListWrapperID);\r\n        var theURL = gc_BranchPath + \"/--ajax-load-comments/\";\r\n        theURL += \"?package_id=\" + this.n_PackageID;\r\n\r\n        if (this.n_SegmentID !== \"0\") {\r\n          theURL += \"&segment_id=\" + this.n_SegmentID;\r\n        } else {\r\n          theURL += \"&segment_id=-1\";\r\n        }\r\n        if (this.b_FilterComments) {\r\n          theURL += \"&author=yes\";\r\n        } else {\r\n          theURL += \"&author=no\";\r\n        }\r\n        $(this.str_CommentsListWrapperID).load(theURL, function() {\r\n          var cmtList = $(\".cmt-wrapper.level-0\");\r\n          for (let i = 0; i < cmtList.length; i++) {\r\n            var theKids = $(cmtList[i]).find(\"li.level-1\");\r\n            if (theKids.length > 0) {\r\n              var maxTime = 0;\r\n              for (let j = 0; j < theKids.length; j++) {\r\n                var theTime = $(theKids[j]).data(\"date\");\r\n                maxTime = Math.max(maxTime, theTime);\r\n              }\r\n              $(cmtList[i]).attr(\"data-last-update\", maxTime);\r\n            } else {\r\n              var theTime = $(cmtList[i]).data(\"date\");\r\n              $(cmtList[i]).attr(\"data-last-update\", theTime);\r\n            }\r\n          }\r\n\r\n          tinysort(\"ul#cmts-list>li\", { data: \"last-update\", order: \"desc\" });\r\n          $(\"#ask-button\").toggleClass(\"disabled\", false);\r\n        });\r\n      } else {\r\n        $(\"#ask-button\").toggleClass(\"disabled\", true);\r\n      }\r\n    };\r\n\r\n    this.loadMoreComments = function() {\r\n      var currentOffset = parseInt($(\"#cmts-list\").attr(\"data-offset\"));\r\n      //console.log('Offset is currently ' + currentOffset);\r\n      currentOffset += 2;\r\n      var nextURL =\r\n        gc_BranchPath +\r\n        \"/--ajax-comment-list/\" +\r\n        this.n_PackageID +\r\n        \"/\" +\r\n        currentOffset;\r\n\r\n      $.get(nextURL, function(data) {\r\n        $(\"#cmts-list\").attr(\"data-offset\", currentOffset);\r\n        $(\"#cmts-list\").append(data);\r\n      });\r\n    };\r\n\r\n    /*****************************************\r\n     **********   Comment Functions  **********\r\n     *****************************************/\r\n    this.replyToComment = function(nCommentID) {\r\n      if (nCommentID > 0) {\r\n        var theFormID = \"comment-\" + nCommentID + \"-form\";\r\n        var theForm =\r\n          \"<div class='comment-reply-form thread-reply-form' id='\" +\r\n          theFormID +\r\n          \"'></div>\";\r\n\r\n        var theReplyDiv = \"#cmt-\" + nCommentID + \"-reply-wrapper\";\r\n        $(theReplyDiv).after(theForm);\r\n\r\n        $(\"#\" + theFormID).html(\r\n          '<div class=\"text-center\"><i class=\"fa fa-2x fa-spinner fa-spin\"></i></div>'\r\n        );\r\n\r\n        var theFormURL =\r\n          gc_BranchPath +\r\n          \"/--ajax-load-comment-form/?entry_id=\" +\r\n          this.n_PackageID;\r\n        theFormURL += \"&comment_id=\" + nCommentID;\r\n        if (this.n_SegmentID > 0) {\r\n          theFormURL += \"&segment_id=\" + this.n_SegmentID;\r\n        }\r\n\r\n        $(\"#\" + theFormID).load(theFormURL, function() {\r\n          $(\"#\" + theFormID + \" form textarea\").focus();\r\n        });\r\n        $(\"#comment-\" + nCommentID + \"-reply-button\").toggleClass(\r\n          \"disabled\",\r\n          true\r\n        );\r\n      } else {\r\n        var theFormID = \"comment-0-form\";\r\n        var theForm =\r\n          \"<div class='comment-reply-form' id='comment-0-form'></div>\";\r\n\r\n        $(\"#add-cmt-wrapper\").after(theForm);\r\n        $(\"#\" + theFormID).html(\r\n          '<div class=\"text-center\"><i class=\"fa fa-2x fa-spinner fa-spin\"></i></div>'\r\n        );\r\n\r\n        var theFormURL =\r\n          gc_BranchPath +\r\n          \"/--ajax-load-comment-form/?entry_id=\" +\r\n          this.n_PackageID;\r\n        if (this.n_SegmentID > 0) {\r\n          theFormURL += \"&segment_id=\" + this.n_SegmentID;\r\n        }\r\n\r\n        $(\"#\" + theFormID).load(theFormURL, function() {\r\n          $(\"#comment-0-form form textarea\").focus();\r\n        });\r\n\r\n        $(\"#ask-button\").toggleClass(\"disabled\", true);\r\n        $(\"#no-questions\").toggle(false);\r\n      }\r\n    };\r\n\r\n    this.submitThreadedCmt = function(sender) {\r\n      $(sender).html('<i class=\"fa fa-spinner fa-spin\"></i> ');\r\n\r\n      var theForm = $(sender).closest(\"form\");\r\n      formData = $(theForm).serialize();\r\n\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: $(theForm).attr(\"action\"),\r\n        data: formData\r\n      }).done(function(response) {\r\n        thePlayer.commentsManager.reloadComments();\r\n      });\r\n    };\r\n\r\n    this.deleteCmtForm = function(nCommentID) {\r\n      if (nCommentID) {\r\n        var theCommentID = nCommentID;\r\n        var replyWrapperID = \"#comment-\" + theCommentID + \"-form\";\r\n        $(replyWrapperID).remove();\r\n\r\n        $(\"#comment-\" + nCommentID + \"-reply-button\").toggleClass(\r\n          \"disabled\",\r\n          false\r\n        );\r\n      } else {\r\n        $(\"#comment-0-form\").remove();\r\n        $(\"#ask-button\").toggleClass(\"disabled\", false);\r\n        if ($(\"#no-questions\") != undefined) {\r\n          $(\"#no-questions\").toggle(true);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.subscribeAction = function(sender) {\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: $(sender).attr(\"data-action\")\r\n      }).done(function(response) {\r\n        thePlayer.commentsManager.reloadComments();\r\n      });\r\n    };\r\n\r\n    this.updateCommentFormCharacterCount = function(sender) {\r\n      var text_length = $(sender).val().length;\r\n      var text_remaining = 500 - text_length;\r\n      var updateDiv = $(sender).siblings(\".comment-character-counter\")[0];\r\n      $(updateDiv).html(text_remaining + \" characters remaining\");\r\n    };\r\n\r\n    this.toggleCmtReplies = function(nCommentID) {\r\n      $(\"#comment-\" + nCommentID + \"-wrapper\").toggleClass(\"expanded\");\r\n    };\r\n\r\n    this.deleteCmt = function(nCommentID, strURL) {\r\n      $.post(strURL, { status: \"close\", comment_id: nCommentID }, function(\r\n        data\r\n      ) {\r\n        thePlayer.commentsManager.reloadComments();\r\n      });\r\n    };\r\n  }\r\n}\r\nexport class LoopsManager {\r\n  constructor() {\r\n    this.a_Collections = [];\r\n    this.n_LastActiveCollectionID = -1;\r\n    this.hasLists = function() {\r\n      return this.a_Collections.length > 0;\r\n    };\r\n    this.setLastActiveCollectionID = function(nCollectionID) {\r\n      this.n_LastActiveCollectionID = nCollectionID;\r\n      //console.log(\"Setting last active list to:\" + nListID);\r\n    };\r\n    this.getLastActiveListID = function() {\r\n      return this.n_LastActiveCollectionID;\r\n    };\r\n    this.resetAll = function() {\r\n      for (let i = 0; i < this.a_Collections.length; i++) {\r\n        this.a_Collections[i].reset();\r\n      }\r\n\r\n      // $(\"#addUserLoopButton\").toggleClass(\"disabled\", true);\r\n      // $(\"#saveUserLoopsButton\").toggleClass(\"disabled\", true);\r\n    };\r\n\r\n    this.createNewCollection = function(\r\n      strUIParentID,\r\n      strCollectionRole,\r\n      bEditable\r\n    ) {\r\n      // debugger\r\n      var theCollection = this.getCollectionByRole(strCollectionRole);\r\n      if (theCollection == null) {\r\n        var newCollectionID = this.a_Collections.length;\r\n        theCollection = new LoopsCollection(\r\n          newCollectionID,\r\n          strUIParentID,\r\n          strCollectionRole,\r\n          bEditable\r\n        );\r\n        console.log(\"collection\", theCollection);\r\n        this.appendCollection(theCollection);\r\n      } else {\r\n        theCollection.reset();\r\n        this.pushUserLoopInterfaceState();\r\n      }\r\n      return theCollection;\r\n    };\r\n\r\n    this.addListToCollectionFromArray = function(\r\n      aLoopsArray,\r\n      strCollectionRole,\r\n      strListTitle,\r\n      bResetCollection\r\n    ) {\r\n      //The collection must already exist before calling this method.\r\n      var theCollection = this.getCollectionByRole(strCollectionRole);\r\n      if (theCollection !== null) {\r\n        if (bResetCollection) {\r\n          //only reset the collection if indicated, otherwise append new list.\r\n          theCollection.reset();\r\n        }\r\n        theCollection.addListFromLoopArray(aLoopsArray, strListTitle);\r\n        theCollection.rebuildLoopsUIList();\r\n      }\r\n      this.pushUserLoopInterfaceState();\r\n    };\r\n\r\n    this.appendCollection = function(newCollection) {\r\n      this.a_Collections.push(newCollection);\r\n    };\r\n\r\n    this.getCollectionAt = function(nIndex) {\r\n      return this.a_Collections[nIndex];\r\n    };\r\n\r\n    this.getCollectionByID = function(nCollectionID) {\r\n      let theCollection = null;\r\n      for (let i = 0; i < this.a_Collections.length; i++) {\r\n        if (this.a_Collections[i].getID() == nCollectionID) {\r\n          theCollection = this.a_Collections[i];\r\n          break;\r\n        }\r\n      }\r\n      return theCollection;\r\n    };\r\n\r\n    this.getCollectionByRole = function(strCollectionRole) {\r\n      let theCollection = null;\r\n      for (let i = 0; i < this.a_Collections.length; i++) {\r\n        if (this.a_Collections[i].getRole() == strCollectionRole) {\r\n          theCollection = this.a_Collections[i];\r\n        }\r\n      }\r\n      return theCollection;\r\n    };\r\n\r\n    this.loopSelected = function(nCollectionID, nListIndex, nLoopIndex) {\r\n      //console.log(\"Loop Selected: \" + nListID + \",\" + nLoopIndex);\r\n      this.clearActiveLoopsExcept(nCollectionID, nListIndex);\r\n      this.setLastActiveCollectionID(nCollectionID);\r\n      let theCollection = this.getCollectionByID(nCollectionID);\r\n      theCollection.loopSelected(nListIndex, nLoopIndex);\r\n    };\r\n\r\n    this.loopToggleSelected = function(nCollectionID, nListIndex, nLoopIndex) {\r\n      this.clearActiveLoopsExcept(nCollectionID, nListIndex);\r\n      this.setLastActiveCollectionID(nCollectionID);\r\n      this.getCollectionByID(nCollectionID).loopToggleSelected(\r\n        nListIndex,\r\n        nLoopIndex\r\n      );\r\n    };\r\n\r\n    this.activateNextLoop = function() {\r\n      let theID = -1;\r\n      if (this.hasCollections()) {\r\n        theID = this.getLastActiveCollectionID();\r\n\r\n        if (theID == -1) {\r\n          theID = this.getCollectionListWithLoops();\r\n        }\r\n\r\n        if (theID !== -1) {\r\n          this.getCollectionByID(theID).activateNextLoop();\r\n        }\r\n      }\r\n      return theID;\r\n    };\r\n\r\n    this.activatePreviousLoop = function() {\r\n      let theID = -1;\r\n      if (this.hasCollections()) {\r\n        theID = this.getLastActiveCollectionID();\r\n\r\n        if (theID == -1) {\r\n          theID = this.getFirstCollectionWithLoops();\r\n        }\r\n\r\n        if (theID !== -1) {\r\n          this.getCollectionByID(theID).activatePreviousLoop();\r\n        }\r\n      }\r\n      return theID;\r\n    };\r\n\r\n    this.clearActiveLoopsExcept = function(nCollectionID, nListIndex) {\r\n      //console.log(\"Clearing active loops\");\r\n      //Step 1: clear other lists.\r\n      for (let i = 0; i < this.a_Collections.length; i++) {\r\n        //console.log(\"Clearing active loops for list: \" + nListID)\r\n        let theCollection = this.a_Collections[i];\r\n        if (theCollection.getID() == nCollectionID) {\r\n          theCollection.clearActiveLoopsExcept(nListIndex);\r\n        } else {\r\n          theCollection.clearAllActiveLoops();\r\n        }\r\n      }\r\n    };\r\n\r\n    this.clearAllActiveLoops = function() {\r\n      //Step 1: clear other lists.\r\n      for (let i = 0; i < this.a_Collections.length; i++) {\r\n        this.a_Collections[i].clearAllActiveLoops();\r\n      }\r\n    };\r\n\r\n    this.addUserLoop = function() {\r\n      let theLoop = thePlayer.getEngineLoop();\r\n\r\n      if (theLoop !== null) {\r\n        let bWasPlaying = thePlayer.theEngine.isPlaying();\r\n        if (bWasPlaying) {\r\n          thePlayer.theEngine.stopPlayback();\r\n        }\r\n        let loopName = prompt(\"Enter loop name.\", theLoop.getName());\r\n\r\n        if (bWasPlaying) {\r\n          thePlayer.theEngine.startPlayback();\r\n        }\r\n        if (loopName != null) {\r\n          theCollection = this.getCollectionByRole(\"user\");\r\n          theLoop.setName(loopName);\r\n          theCollection.addInstantLoop(theLoop);\r\n          theCollection.rebuildLoopsUIList();\r\n          this.pushUserLoopInterfaceState();\r\n        }\r\n      }\r\n    };\r\n    this.removeLoopFromList = function(nCollectionID, nListIndex, nLoopIndex) {\r\n      let theCollection = this.getCollectionByID(nCollectionID);\r\n      theCollection.removeLoop(nListIndex, nLoopIndex);\r\n      theCollection.rebuildLoopsUIList();\r\n      this.pushUserLoopInterfaceState();\r\n    };\r\n\r\n    this.getUserLoopsArray = function() {\r\n      return this.getCollectionByRole(\"user\").getLoopsArray();\r\n    };\r\n\r\n    this.pushUserLoopInterfaceState = function() {\r\n      let bAddButtonEnabled = false;\r\n      let bSaveButtonEnabled = false;\r\n      let userLoopsCollection = this.getCollectionByRole(\"user\");\r\n      //console.log(\"User List is: \" + userList);\r\n      if (userLoopsCollection == null) {\r\n        //console.log(\"Showing no segment loaded error\");\r\n        // $(\"#userLoopListEmpty\").toggle(true);\r\n      } else {\r\n        // $(\"#userLoopList\").toggleClass(\"dirty\", userLoopsCollection.isDirty());\r\n        bSaveButtonEnabled = userLoopsCollection.isDirty();\r\n\r\n        let theLoop = thePlayer.getEngineLoop();\r\n        if (theLoop !== null) {\r\n          bAddButtonEnabled = !userLoopsCollection.findMatchingLoop(theLoop);\r\n        }\r\n      }\r\n\r\n      // $(\"#addUserLoopButton\").toggleClass(\"disabled\", !bAddButtonEnabled);\r\n      // $(\"#saveUserLoopsButton\").toggleClass(\"disabled\", !bSaveButtonEnabled);\r\n    };\r\n    this.savingUserData = function() {\r\n      this.getCollectionByRole(\"user\").showLoadingIndicator();\r\n    };\r\n\r\n    this.getFirstListWithLoops = function() {\r\n      let nIndex = -1;\r\n      for (let i = 0; i < this.a_Collections.length; i++) {\r\n        if (this.a_Collections[i].getCollectionLoopCount() > 0) {\r\n          nIndex = i;\r\n          break;\r\n        }\r\n      }\r\n      return nIndex;\r\n    };\r\n  }\r\n}\r\nexport class LoopsCollection {\r\n  constructor(nCollectionID, strListWrapperID, strCollectionRole, bEditable) {\r\n    this.str_UIWrapperID = \"#\" + strListWrapperID;\r\n    this.b_Editable = bEditable;\r\n    this.n_CollectionID = nCollectionID;\r\n    this.str_Role = strCollectionRole;\r\n    this.a_Lists = [];\r\n    this.b_IsDirty = false;\r\n    this.getListCount = function() {\r\n      return this.a_Lists.length;\r\n    };\r\n    this.getID = function() {\r\n      return this.n_CollectionID;\r\n    };\r\n    this.getRole = function() {\r\n      return this.str_Role;\r\n    };\r\n    this.getEditable = function() {\r\n      return this.b_Editable;\r\n    };\r\n    this.isDirty = function() {\r\n      return this.b_IsDirty;\r\n    };\r\n    this.setDirty = function(bDirty) {\r\n      this.b_IsDirty = bDirty;\r\n    };\r\n    this.clearLoopsUIList = function() {\r\n      $(this.str_UIWrapperID).empty();\r\n    };\r\n    this.showLoadingIndicator = function() {\r\n      thePlayer.spinner(this.str_UIWrapperID);\r\n    };\r\n\r\n    this.getListAt = function(nIndex) {\r\n      let theList = null;\r\n      if (this.validListIndex(nIndex)) {\r\n        theList = this.a_Lists[nIndex];\r\n      }\r\n\r\n      return theList;\r\n    };\r\n    this.reset = function() {\r\n      // this.clearLoopsUIList();\r\n      this.a_Lists.length = 0;\r\n      this.setDirty(false);\r\n      // $(this.str_UIWrapperID + \"Empty\").toggle(true);\r\n    };\r\n\r\n    this.getLoopsArray = function() {\r\n      let loopsArray = [];\r\n      for (let i = 0; i < this.a_Lists.length; i++) {\r\n        let theLoops = this.a_Lists[i].getLoopsArray();\r\n        for (j = 0; j < theLoops.length; j++) {\r\n          loopsArray.push(theLoops[j]);\r\n        }\r\n      }\r\n\r\n      console.log(loopsArray);\r\n      return loopsArray;\r\n    };\r\n    this.getCollectionLoopCount = function() {\r\n      let theTotal = 0;\r\n      for (let i = 0; i < this.a_Lists.length; i++) {\r\n        theTotal += this.a_Lists[i].getListLoopCount();\r\n      }\r\n      return theTotal;\r\n    };\r\n    this.setNewLoopName = function(nListIndex, nLoopIndex, strNewName) {\r\n      var theLoop = this.getLoopAt(nListIndex, nLoopIndex);\r\n\r\n      if (theLoop !== null) {\r\n        theLoop.setName(strNewName);\r\n        this.setDirty(true);\r\n      }\r\n    };\r\n\r\n    this.getLoopAt = function(nListIndex, nLoopIndex) {\r\n      if (this.validListIndex(nListIndex)) {\r\n        return this.a_Lists[nListIndex].getLoopAt(nLoopIndex);\r\n      } else {\r\n        return null;\r\n      }\r\n    };\r\n\r\n    this.validListIndex = function(nListIndex) {\r\n      return nListIndex < this.a_Lists.length ? true : false;\r\n    };\r\n\r\n    this.rebuildLoopsUIList = function() {\r\n      // thePlayer.spinner( this.str_UIWrapperID );\r\n      // $( this.str_UIWrapperID + \"Empty\" ).toggle( false );\r\n\r\n      //this function assumes the loop list has already been reset\r\n      let strListHTML = \"\";\r\n      let bEditable = this.getEditable();\r\n      let collectionID = this.getID();\r\n\r\n      let bUseAccordion = this.a_Lists.length > 1;\r\n      if (bUseAccordion) {\r\n        strListHTML +=\r\n          '<ul class=\"accordion sidebar-accordion\" id=\"loopsListAccordion-' +\r\n          this.getRole() +\r\n          '\" ';\r\n        strListHTML +=\r\n          'data-accordion data-allow-all-closed=\"true\" data-multi-expand=\"false\">';\r\n      }\r\n\r\n      for (let listIndex = 0; listIndex < this.a_Lists.length; listIndex++) {\r\n        let theList = this.a_Lists[listIndex];\r\n        if (bUseAccordion) {\r\n          strListHTML += '<li class=\"accordion-item\" data-accordion-item>';\r\n          strListHTML +=\r\n            '<a class=\"accordion-title\">' + theList.getListTitle() + \"</a>\";\r\n          strListHTML += '<div class=\"accordion-content\" data-tab-content>';\r\n        }\r\n\r\n        strListHTML += '<ul class=\"sidebar-list dark\">';\r\n\r\n        for (\r\n          let loopIndex = 0;\r\n          loopIndex < theList.getLoopsArray().length;\r\n          loopIndex++\r\n        ) {\r\n          let theLoop = theList.getLoopAt(loopIndex);\r\n          theLoop.setChecked(false);\r\n          var loopItem =\r\n            '<li class=\"sidebar-list-item loop button\" id=\"loopItem-';\r\n          loopItem += collectionID + \"-\" + listIndex + \"-\" + loopIndex + '\">';\r\n          let bStacking = theList.enableLoopStacking(loopIndex);\r\n          theLoop.setCollection(collectionID);\r\n          theLoop.setListIndex(listIndex);\r\n          theLoop.setLoopIndex(loopIndex);\r\n          return;\r\n          if (bStacking || bEditable) {\r\n            let theClass = \"\";\r\n            if (bStacking && bEditable) {\r\n              theClass = \"both\";\r\n            }\r\n            loopItem += '<a class=\"sidebar-list-item-link ' + theClass;\r\n            loopItem += '\" onClick=\"thePlayer.loopsManager.loopSelected(';\r\n            loopItem +=\r\n              collectionID + \",\" + listIndex + \",\" + loopIndex + ')\">';\r\n            loopItem += theLoop.getName();\r\n            loopItem += \"</a>\";\r\n            if (bStacking) {\r\n              loopItem += '<a class=\"sidebar-list-item-button check-button ';\r\n              loopItem +=\r\n                theClass +\r\n                '\" onClick=\"thePlayer.loopsManager.loopToggleSelected(';\r\n              loopItem +=\r\n                collectionID +\r\n                \",\" +\r\n                listIndex +\r\n                \",\" +\r\n                loopIndex +\r\n                '); return false;\"></a>';\r\n            }\r\n            if (bEditable) {\r\n              loopItem += '<a class=\"sidebar-list-item-button delete-button ';\r\n              loopItem +=\r\n                theClass +\r\n                '\" onClick=\"thePlayer.loopsManager.removeLoopFromList(';\r\n              loopItem +=\r\n                collectionID +\r\n                \",\" +\r\n                listIndex +\r\n                \",\" +\r\n                loopIndex +\r\n                '); return false;\"></a>';\r\n            }\r\n          } else {\r\n            loopItem += '<a onClick=\"thePlayer.loopsManager.loopSelected(';\r\n            loopItem +=\r\n              collectionID + \",\" + listIndex + \",\" + loopIndex + ')\">';\r\n            loopItem += theLoop.getName();\r\n            loopItem += \"</a>\";\r\n          }\r\n          loopItem += \"</li>\";\r\n\r\n          strListHTML += loopItem;\r\n        }\r\n\r\n        strListHTML += \"</ul>\";\r\n        if (bUseAccordion) {\r\n          strListHTML += \"</div></li>\";\r\n        }\r\n      }\r\n      // $(this.str_UIWrapperID).html(strListHTML);\r\n      // if (this.getCollectionLoopCount() == 0) {\r\n      //   //console.log(\"Showing error message for empty list.\");\r\n      //   $(this.str_UIWrapperID + \"Empty\").toggle(true);\r\n      // }\r\n\r\n      // if (bUseAccordion) {\r\n      //   let accordionID = \"#loopsListAccordion-\" + this.getRole();\r\n      //   $(accordionID).foundation();\r\n      // }\r\n    };\r\n\r\n    this.appendList = function(newList) {\r\n      this.a_Lists.push(newList);\r\n    };\r\n    this.addListFromLoopArray = function(aLoopsArray, strListTitle) {\r\n      //array must elements assumed to be in [name, start, end] format\\\r\n      //Clear this collection before calling this if you don't want the new\r\n      // list appended.\r\n      let theListIndex = this.a_Lists.length;\r\n      let theList = new LoopsList(this.getID(), theListIndex, strListTitle);\r\n      theList.createFromLoopArray(aLoopsArray);\r\n      this.appendList(theList);\r\n      this.setDirty(false);\r\n    };\r\n\r\n    this.findMatchingLoop = function(loopToMatch) {\r\n      bMatchFound = false;\r\n      for (let i = 0; i < this.a_Lists.length; i++) {\r\n        if (this.a_Lists[i].findMatchingLoop(loopToMatch)) {\r\n          bMatchFound = true;\r\n          break;\r\n        }\r\n      }\r\n      return bMatchFound;\r\n    };\r\n\r\n    this.clearActiveLoopsExcept = function(nListIndex) {\r\n      for (let i = 0; i < this.a_Lists.length; i++) {\r\n        if (i !== nListIndex) {\r\n          this.a_Lists[i].clearActiveLoops();\r\n          this.a_Lists[i].refreshLoopCheckedStates();\r\n        }\r\n      }\r\n    };\r\n\r\n    this.clearAllActiveLoops = function() {\r\n      for (let i = 0; i < this.a_Lists.length; i++) {\r\n        this.a_Lists[i].clearActiveLoops();\r\n        this.a_Lists[i].refreshLoopCheckedStates();\r\n      }\r\n    };\r\n\r\n    this.loopSelected = function(nListIndex, nLoopIndex) {\r\n      if (this.validListIndex(nListIndex)) {\r\n        this.getListAt(nListIndex).loopSelected(nLoopIndex);\r\n      }\r\n    };\r\n\r\n    this.loopToggleSelected = function(nListIndex, nLoopIndex) {\r\n      if (this.validListIndex(nListIndex)) {\r\n        this.getListAt(nListIndex).loopToggleSelected(nLoopIndex);\r\n      }\r\n    };\r\n\r\n    this.addInstantLoop = function(theLoop) {\r\n      let theList = this.getListAt(0);\r\n      if (theList == null) {\r\n        theList = new LoopsList(this.getID(), 0);\r\n      }\r\n\r\n      theList.addInstantLoop(theLoop);\r\n      this.setDirty(true);\r\n    };\r\n\r\n    this.addInstantLoopToList = function(nListIndex, theLoop) {\r\n      if (this.validListIndex(nListIndex)) {\r\n        this.getListAt(nListIndex).addInstantLoop(theLoop);\r\n        this.setDirty(true);\r\n      }\r\n    };\r\n\r\n    this.removeLoop = function(nListIndex, nLoopIndex) {\r\n      if (this.validListIndex(nListIndex)) {\r\n        this.getListAt(nListIndex).removeLoop(nLoopIndex);\r\n        this.setDirty(true);\r\n      }\r\n    };\r\n  }\r\n}\r\nexport class LoopsList {\r\n  constructor(nCollectionID, nListID, strListTitle) {\r\n    this.a_Loops = [];\r\n    this.n_CollectionID = nCollectionID;\r\n    this.n_ListID = nListID;\r\n    this.str_ListTitle = strListTitle;\r\n    this.getCollectionID = function() {\r\n      return this.n_CollectionID;\r\n    };\r\n    this.getListID = function() {\r\n      return this.n_ListID;\r\n    };\r\n    this.getListTitle = function() {\r\n      return this.str_ListTitle;\r\n    };\r\n    this.setLoopsList = function(a_newLoopsList) {\r\n      this.a_Loops = a_newLoopsList;\r\n    };\r\n    this.getLoopAt = function(nIndex) {\r\n      return this.a_Loops[nIndex];\r\n    };\r\n    this.getLoopStart = function(nIndex) {\r\n      return this.getLoopAt(nIndex).getLoopStart();\r\n    };\r\n    this.getLoopEnd = function(nIndex) {\r\n      return this.getLoopAt(nIndex).getLoopEnd();\r\n    };\r\n    this.getListLoopCount = function() {\r\n      return this.a_Loops.length;\r\n    };\r\n    this.reset = function() {\r\n      this.a_Loops.length = 0;\r\n    };\r\n\r\n    this.addLoopFromValues = function(strName, fLoopStart, fLoopEnd) {\r\n      this.a_Loops.push(new InstantLoop(strName, fLoopStart, fLoopEnd));\r\n    };\r\n\r\n    this.addInstantLoop = function(theLoop) {\r\n      this.a_Loops.push(theLoop);\r\n      return this.a_Loops.length - 1;\r\n    };\r\n\r\n    this.setNewLoopName = function(nLoopIndex, strNewName) {\r\n      this.getLoopAt(nLoopIndex).setName(strNewName);\r\n    };\r\n\r\n    this.activateNextLoop = function() {\r\n      var currentIndex = this.getFirstActiveLoop();\r\n      if (currentIndex > -1) {\r\n        if (currentIndex < this.a_Loops.length - 1) {\r\n          this.loopSelected(currentIndex + 1);\r\n        } else {\r\n          this.loopSelected(0);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.activatePreviousLoop = function() {\r\n      var currentIndex = this.getFirstActiveLoop();\r\n      if (currentIndex > -1) {\r\n        if (currentIndex > 0) {\r\n          this.loopSelected(currentIndex - 1);\r\n        } else {\r\n          this.loopSelected(this.a_Loops.length - 1);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.getFirstActiveLoop = function() {\r\n      let nIndex = -1;\r\n\r\n      if (this.a_Loops.length > 0) {\r\n        nIndex = 0;\r\n        for (let i = 0; i < this.a_Loops.length; i++) {\r\n          if (this.a_Loops[i].getChecked()) {\r\n            nIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return nIndex;\r\n    };\r\n\r\n    this.removeLoop = function(nIndex) {\r\n      //console.log('Current List: ' + this.a_Loops);\r\n      //console.log('Removing Loop at: ' + nIndex);\r\n      this.a_Loops.splice(nIndex, 1);\r\n      //console.log('New List: ' + this.a_Loops);\r\n    };\r\n    this.createFromLoopArray = function(aLoopsArray) {\r\n      //array must elements assumed to be in [name, start, end] format\r\n      for (let i = 0; i < aLoopsArray.length; i++) {\r\n        this.addLoopFromValues(\r\n          aLoopsArray[i][0],\r\n          aLoopsArray[i][1],\r\n          aLoopsArray[i][2]\r\n        );\r\n      }\r\n    };\r\n\r\n    this.appendFromLoopArray = function(aLoopsArray) {\r\n      //array must elements assumed to be in [name, start, end] format\r\n      for (let i = 0; i < aLoopsArray.length; i++) {\r\n        this.addLoopFromValues(\r\n          aLoopsArray[i][0],\r\n          aLoopsArray[i][1],\r\n          aLoopsArray[i][2]\r\n        );\r\n      }\r\n    };\r\n\r\n    this.findMatchingLoop = function(loopToMatch) {\r\n      let bMatchFound = false;\r\n      for (let i = 0; i < this.a_Loops.length; i++) {\r\n        let myLoop = this.a_Loops[i];\r\n        if (\r\n          Math.abs(loopToMatch.getLoopStart() - myLoop.getLoopStart()) < 0.1 &&\r\n          Math.abs(loopToMatch.getLoopEnd() - myLoop.getLoopEnd()) < 0.1\r\n        ) {\r\n          bMatchFound = true;\r\n        }\r\n      }\r\n      return bMatchFound;\r\n    };\r\n\r\n    this.getLoopsArray = function() {\r\n      let newArray = [];\r\n      //array must elements assumed to be in [name, start, end] format\r\n      for (let i = 0; i < this.a_Loops.length; i++) {\r\n        newArray.push([\r\n          this.a_Loops[i].getName(),\r\n          this.a_Loops[i].getLoopStart(),\r\n          this.a_Loops[i].getLoopEnd()\r\n        ]);\r\n      }\r\n      return newArray;\r\n    };\r\n\r\n    this.loopSelected = function(nLoopIndex) {\r\n      this.clearActiveLoops();\r\n      this.toggleLoopCheckedState(nLoopIndex);\r\n      this.refreshLoopCheckedStates();\r\n      //console.log(\"Activating Loop At: \" + nLoopIndex);\r\n      var theLoop = this.getLoopAt(nLoopIndex);\r\n      //console.log('Activating Loop:' + theLoop);\r\n      thePlayer.theEngine.loadLoop(\r\n        this.getLoopAt(nLoopIndex).getLoopStart(),\r\n        this.getLoopAt(nLoopIndex).getLoopEnd()\r\n      );\r\n    };\r\n\r\n    this.loopToggleSelected = function(nLoopIndex) {\r\n      //console.log('Loop Toggle Selected: ' + nLoopIndex);\r\n      this.processLoopToggle(nLoopIndex);\r\n      this.refreshLoopCheckedStates();\r\n      var theLoop = this.computeStackedLoop();\r\n\r\n      if (theLoop !== null) {\r\n        thePlayer.theEngine.loadLoop(\r\n          theLoop.getLoopStart(),\r\n          theLoop.getLoopEnd()\r\n        );\r\n      }\r\n    };\r\n\r\n    this.toggleLoopCheckedState = function(nLoopIndex) {\r\n      var isLoopAlreadyChecked = this.getLoopAt(nLoopIndex).getChecked();\r\n\r\n      if (isLoopAlreadyChecked && this.isLoopAMiddle(nLoopIndex)) {\r\n        // If this loop is already checked, and user clicks check again,\r\n        // clear all checked loops and turn this one back\r\n        this.clearActiveLoops();\r\n        this.getLoopAt(nLoopIndex).setChecked(true);\r\n      } else {\r\n        var previousLoopChecked = this.getLoopAt(nLoopIndex).toggleChecked();\r\n\r\n        if (previousLoopChecked) {\r\n          for (let i = nLoopIndex - 1; i >= 0; i--) {\r\n            if (\r\n              !this.getLoopAt(nLoopIndex).getChecked() ||\r\n              !this.getLoopAt(nLoopIndex).getStackable()\r\n            ) {\r\n              previousLoopChecked = false;\r\n            }\r\n            this.getLoopAt(nLoopIndex).setChecked(previousLoopChecked);\r\n          }\r\n\r\n          previousLoopChecked = true;\r\n\r\n          for (let i = nLoopIndex + 1; i < this.a_Loops.length; i++) {\r\n            if (\r\n              !this.getLoopAt(i).getChecked() ||\r\n              !this.getLoopAt(i).getStackable()\r\n            ) {\r\n              previousLoopChecked = false;\r\n            }\r\n            this.getLoopAt(i).setChecked(previousLoopChecked);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.previousLoopConnected = function(i) {\r\n      let bConnected = false;\r\n      if (i > 0) {\r\n        var myStartTime = this.getLoopStart(i);\r\n        var myEndTime = this.getLoopEnd(i);\r\n        var previousStartTime = this.getLoopStart(i - 1);\r\n        var previousEndTime = this.getLoopEnd(i - 1);\r\n\r\n        if (\r\n          myStartTime > previousStartTime &&\r\n          myEndTime > previousEndTime &&\r\n          myStartTime - previousEndTime < 2\r\n        ) {\r\n          bConnected = true;\r\n        }\r\n      }\r\n      return bConnected;\r\n    };\r\n\r\n    this.nextLoopConnected = function(i) {\r\n      let bConnected = false;\r\n      if (i < this.a_Loops.length - 1) {\r\n        var myStartTime = this.getLoopStart(i);\r\n        var myEndTime = this.getLoopEnd(i);\r\n        var nextStartTime = this.getLoopStart(i + 1);\r\n        var nextEndTime = this.getLoopEnd(i + 1);\r\n\r\n        if (\r\n          myStartTime < nextStartTime &&\r\n          myEndTime < nextEndTime &&\r\n          nextStartTime - myEndTime < 2\r\n        ) {\r\n          bConnected = true;\r\n        }\r\n      }\r\n\r\n      return bConnected;\r\n    };\r\n\r\n    this.enableLoopStacking = function(nLoopIndex) {\r\n      var bEnableStacking = false;\r\n\r\n      if (\r\n        !this.previousLoopConnected(nLoopIndex) &&\r\n        this.nextLoopConnected(nLoopIndex) &&\r\n        this.nextLoopConnected(nLoopIndex + 1)\r\n      ) {\r\n        //Is this the first loop in a series,\r\n        //meaning i, i+1, and i+2 are stackable, but i-1 is not\r\n        bEnableStacking = true;\r\n      } else if (\r\n        this.previousLoopConnected(nLoopIndex) &&\r\n        this.nextLoopConnected(nLoopIndex)\r\n      ) {\r\n        //Is this in the middle of a series?\r\n        //meaning i, i-1 and i+1 are all stackable\r\n        bEnableStacking = true;\r\n      } else if (\r\n        this.previousLoopConnected(nLoopIndex - 1) &&\r\n        this.previousLoopConnected(nLoopIndex)\r\n      ) {\r\n        //Is this the end of a chain?\r\n        //meaning i-2, i-1 and i are stackable, but i+1 is not.\r\n        bEnableStacking = true;\r\n      }\r\n\r\n      this.getLoopAt(nLoopIndex).setStackable(bEnableStacking);\r\n      return bEnableStacking;\r\n    };\r\n\r\n    this.clearActiveLoops = function() {\r\n      for (let i = 0; i < this.a_Loops.length; i++) {\r\n        this.getLoopAt(i).setChecked(false);\r\n      }\r\n\r\n      this.refreshLoopCheckedStates();\r\n    };\r\n\r\n    this.refreshLoopCheckedStates = function() {\r\n      for (let i = 0; i < this.a_Loops.length; i++) {\r\n        $(this.getLoopParentID(i)).toggleClass(\r\n          \"active\",\r\n          this.getLoopAt(i).getChecked()\r\n        );\r\n      }\r\n    };\r\n\r\n    this.getLoopParentID = function(nIndex) {\r\n      return (\r\n        \"#loopItem-\" +\r\n        this.getCollectionID() +\r\n        \"-\" +\r\n        this.getListID() +\r\n        \"-\" +\r\n        nIndex\r\n      );\r\n    };\r\n\r\n    this.processLoopToggle = function(nSelectedIndex) {\r\n      //console.log(\"Processing Loop Toggle At: \" + nSelectedIndex);\r\n      var bLoopAlreadyChecked = this.getLoopAt(nSelectedIndex).getChecked();\r\n      var bLoopIsMiddle = this.isLoopAMiddle(nSelectedIndex);\r\n\r\n      //Case 1: Loop is already checked and is between two other checked loops.\r\n      //Action: clear all checked loops, toggle selected one back on.\r\n      if (bLoopAlreadyChecked && bLoopIsMiddle) {\r\n        // If this loop is already checked, and user clicks check again,\r\n        // clear all checked loops and turn this one back\r\n        this.clearActiveLoops();\r\n        this.getLoopAt(nSelectedIndex).setChecked(true);\r\n      } else if (bLoopAlreadyChecked && !bLoopIsMiddle) {\r\n        //This loop is already checked, but is not a middle meaning it is the end of a range.\r\n        //We simply need to toggle it and not touch the others.\r\n        this.getLoopAt(nSelectedIndex).setChecked(false);\r\n      } else if (!bLoopAlreadyChecked) {\r\n        //Case 2: Loop is being toggled on\r\n        //Actions: Search for loop range to toggle on.\r\n        var previousCheckedLoopIndex = this.findPreviousStackableCheckedLoop(\r\n          nSelectedIndex\r\n        );\r\n        var nextCheckedLoopIndex = this.findNextStackableCheckedLoop(\r\n          nSelectedIndex\r\n        );\r\n        if (previousCheckedLoopIndex >= 0) {\r\n          this.setStackableLoopRange(previousCheckedLoopIndex, nSelectedIndex);\r\n        } else if (nextCheckedLoopIndex >= 0) {\r\n          this.setStackableLoopRange(nSelectedIndex, nextCheckedLoopIndex);\r\n        } else {\r\n          //No other connected checked loops exist. Clear everything\r\n          //and toggle this one on.\r\n          this.clearActiveLoops();\r\n          this.getLoopAt(nSelectedIndex).setChecked(true);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.setStackableLoopRange = function(nLowerIndex, nHigherIndex) {\r\n      for (let i = nLowerIndex; i <= nHigherIndex; i++) {\r\n        this.getLoopAt(i).setChecked(true);\r\n      }\r\n    };\r\n\r\n    this.findPreviousStackableCheckedLoop = function(startIndex) {\r\n      nFoundIndex = -1;\r\n      for (let i = startIndex - 1; i >= 0; i--) {\r\n        if (\r\n          this.getLoopAt(i).getChecked() &&\r\n          this.getLoopAt(i).getStackable()\r\n        ) {\r\n          nFoundIndex = i;\r\n        }\r\n      }\r\n\r\n      return nFoundIndex;\r\n    };\r\n\r\n    this.findNextStackableCheckedLoop = function(startIndex) {\r\n      nFoundIndex = -1;\r\n      var nLength = this.a_Loops.length;\r\n\r\n      for (let i = startIndex + 1; i < nLength; i++) {\r\n        if (\r\n          this.getLoopAt(i).getChecked() &&\r\n          this.getLoopAt(i).getStackable()\r\n        ) {\r\n          nFoundIndex = i;\r\n        }\r\n      }\r\n\r\n      return nFoundIndex;\r\n    };\r\n\r\n    this.toggleLoopCheckedState = function(nLoopIndex) {\r\n      var isLoopAlreadyChecked = this.getLoopAt(nLoopIndex).getChecked();\r\n\r\n      if (isLoopAlreadyChecked && this.isLoopAMiddle(nLoopIndex)) {\r\n        // If this loop is already checked, and user clicks check again,\r\n        // clear all checked loops and turn this one back\r\n        this.clearActiveLoops();\r\n        this.getLoopAt(nLoopIndex).setChecked(true);\r\n      } else {\r\n        this.getLoopAt(nLoopIndex).setChecked(\r\n          !this.getLoopAt(nLoopIndex).getChecked()\r\n        );\r\n        var previousLoopChecked = this.getLoopAt(nLoopIndex).getChecked();\r\n\r\n        if (previousLoopChecked) {\r\n          for (let i = nLoopIndex - 1; i >= 0; i--) {\r\n            if (\r\n              !this.getLoopAt(i).getChecked() ||\r\n              !this.getLoopAt(i).getStackable()\r\n            ) {\r\n              previousLoopChecked = false;\r\n            }\r\n            this.getLoopAt(i).setChecked(previousLoopChecked);\r\n          }\r\n\r\n          previousLoopChecked = true;\r\n\r\n          for (let i = nLoopIndex + 1; i < this.a_Loops.length; i++) {\r\n            if (\r\n              !this.getLoopAt(i).getChecked() ||\r\n              !this.getLoopAt(i).getStackable()\r\n            ) {\r\n              previousLoopChecked = false;\r\n            }\r\n            this.getLoopAt(i).setChecked(previousLoopChecked);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.isLoopAMiddle = function(nLoopIndex) {\r\n      var lowerLoop = false;\r\n      var higherLoop = false;\r\n\r\n      for (let i = 0; i < this.a_Loops.length; i++) {\r\n        if (\r\n          this.getLoopAt(i).getChecked() &&\r\n          this.getLoopAt(i).getStackable()\r\n        ) {\r\n          if (i < nLoopIndex) {\r\n            //console.log('Lower selected loop found');\r\n            lowerLoop = true;\r\n          } else if (i > nLoopIndex) {\r\n            //console.log('Higher selected loop found');\r\n            higherLoop = true;\r\n          }\r\n        }\r\n      }\r\n\r\n      //console.log('Loop is middle: ' + (lowerLoop && higherLoop));\r\n      return lowerLoop && higherLoop;\r\n    };\r\n\r\n    this.computeStackedLoop = function() {\r\n      var loopStart = 0;\r\n      var loopEnd = 0;\r\n      var loopInitialized = false;\r\n      var nLength = this.a_Loops.length;\r\n\r\n      for (let i = 0; i < nLength; i++) {\r\n        var theLoop = this.getLoopAt(i);\r\n        if (theLoop.getChecked()) {\r\n          if (!loopInitialized) {\r\n            loopStart = theLoop.getLoopStart();\r\n            loopEnd = theLoop.getLoopEnd();\r\n            loopInitialized = true;\r\n          } else {\r\n            loopStart = Math.min(loopStart, theLoop.getLoopStart());\r\n            loopEnd = Math.max(loopEnd, theLoop.getLoopEnd());\r\n          }\r\n        }\r\n      }\r\n\r\n      //console.log(\"New Loop calculated: \" + loopStart + \",\" + loopEnd);\r\n      if (this.validateLoop(loopStart, loopEnd)) {\r\n        return new InstantLoop(\"Combined Loop\", loopStart, loopEnd);\r\n        //this.theEngine.loadLoop( loopStart, loopEnd );\r\n      } else {\r\n        return null;\r\n        //this.theEngine.stopLooping();\r\n      }\r\n    };\r\n\r\n    this.validateLoop = function(loopStart, loopEnd) {\r\n      var loopValid = true;\r\n      if (\r\n        loopStart < 0 ||\r\n        loopStart > loopEnd ||\r\n        loopEnd <= 0 ||\r\n        loopStart == loopEnd\r\n      ) {\r\n        loopValid = false;\r\n      }\r\n\r\n      return loopValid;\r\n    };\r\n  }\r\n}\r\nexport class InstantLoop {\r\n  constructor(strName, fStartTime, fStopTime) {\r\n    this.str_Name = strName;\r\n    this.f_StartTime = parseFloat(fStartTime);\r\n    this.f_EndTime = parseFloat(fStopTime);\r\n    this.b_Stackable = false;\r\n    this.b_Checked = false;\r\n\r\n    this.nCollectionID = null;\r\n    this.nListIndex = null;\r\n    this.nLoopIndex = null;\r\n\r\n    if (strName == \"\") {\r\n      this.str_Name =\r\n        this.f_StartTime.toFixed(2) + \" - \" + this.f_EndTime.toFixed(2);\r\n    }\r\n    //Setters\r\n    this.setLoopStart = function(fStartTime) {\r\n      this.f_StartTime = parseFloat(fStartTime);\r\n    };\r\n    this.setLoopEnd = function(fEndTime) {\r\n      this.f_EndTime = parseFloat(fStopTime);\r\n    };\r\n    this.setStackable = function(bStackable) {\r\n      this.b_Stackable = bStackable;\r\n    };\r\n    this.setChecked = function(bChecked) {\r\n      this.b_Checked = bChecked;\r\n    };\r\n    this.setName = function(strName) {\r\n      this.str_Name = strName;\r\n    };\r\n    this.setCollection = function(nCollectionID) {\r\n      this.nCollectionID = nCollectionID;\r\n    };\r\n    this.setListIndex = function(nListIndex) {\r\n      this.nListIndex = nListIndex;\r\n    };\r\n    this.setLoopIndex = function(nLoopIndex) {\r\n      this.nLoopIndex = nLoopIndex;\r\n    };\r\n\r\n    //Getters\r\n    this.getLoopStart = function() {\r\n      return this.f_StartTime;\r\n    };\r\n    this.getLoopEnd = function() {\r\n      return this.f_EndTime;\r\n    };\r\n    this.getStackable = function() {\r\n      return this.b_Stackable;\r\n    };\r\n    this.getChecked = function() {\r\n      return this.b_Checked;\r\n    };\r\n    this.getName = function() {\r\n      return this.str_Name;\r\n    };\r\n    this.getLoopIDObject = function() {\r\n      return {\r\n        collectionID: this.nCollectionID,\r\n        listIndex: this.nListIndex,\r\n        loopIndex: this.nLoopIndex\r\n      };\r\n    };\r\n\r\n    this.toggleChecked = function() {\r\n      let bWasChecked = this.b_Checked;\r\n      this.b_Checked = !bWasChecked;\r\n      return this.b_Checked;\r\n    };\r\n    this.validate = function() {\r\n      if (this.f_EndTime < this.f_StartTime + 0.1) {\r\n        return false;\r\n      }\r\n      return true;\r\n    };\r\n    this.getDefaultName = function() {\r\n      return this.f_StartTime.toFixed(2) + \" - \" + this.f_EndTime.toFixed(2);\r\n    };\r\n  }\r\n}\r\n\r\nexport class Segment {\r\n  constructor() {\r\n    this.b_IsLoaded = false;\r\n    this.str_Title = \"\";\r\n    this.str_SegmentType = \"\"; // Must be \"entry\" or \"other\"\r\n    this.str_PrimaryMediaType = \"\"; // must be vimeo, youtube, mp3, soundslice, url\r\n    this.str_EntryID = \"\"; //this must be a valid TXBA Media Segment Entry ID\r\n    this.str_VimeoCode = \"\";\r\n    this.str_YouTubeCode = \"\";\r\n    this.str_MP3Filename = \"\";\r\n    this.str_SoundSliceCode = \"\";\r\n    this.str_PDFFilename = \"\";\r\n    this.str_MediaURL = \"\";\r\n    this.f_MediaStartTime = 0;\r\n    this.str_GPXFilename = \"\";\r\n    this.str_DisplayName = \"\";\r\n    this.str_FullDisplayName = \"\";\r\n    this.str_FacebookUser = \"\";\r\n    this.str_FacebookVideoCode = \"\";\r\n    this.str_InstagramID = \"\";\r\n    this.str_HTMLContent = \"\";\r\n    this.a_ChaptersArray = [];\r\n    this.a_LoopsArray = [];\r\n    this.str_YTMatchingEntryID = \"\";\r\n    this.str_Description = \"\";\r\n    this.a_UserLoopEntryIDs = [];\r\n\r\n    this.setIsLoaded = function(bLoaded) {\r\n      this.b_IsLoaded = bLoaded;\r\n      return this;\r\n    };\r\n    this.setEntryID = function(strEntryID) {\r\n      this.str_EntryID = strEntryID;\r\n      return this;\r\n    };\r\n    this.setYTMatchingEntryID = function(strYTMatchingEntryID) {\r\n      this.str_YTMatchingEntryID = strYTMatchingEntryID;\r\n      return this;\r\n    };\r\n    this.setSegmentType = function(strType) {\r\n      this.str_SegmentType = strType;\r\n      return this;\r\n    };\r\n    this.setPrimaryMediaType = function(strMediaType) {\r\n      this.str_PrimaryMediaType = strMediaType;\r\n      return this;\r\n    };\r\n    this.setVimeoCode = function(strVimeoCode) {\r\n      this.str_VimeoCode = strVimeoCode;\r\n      return this;\r\n    };\r\n    this.setYouTubeCode = function(strYouTubeCode) {\r\n      this.str_YouTubeCode = strYouTubeCode;\r\n      return this;\r\n    };\r\n    this.setMP3Filename = function(strMP3Filename) {\r\n      this.str_MP3Filename = strMP3Filename;\r\n      return this;\r\n    };\r\n    this.setSoundSliceCode = function(strSoundSliceCode) {\r\n      this.str_SoundSliceCode = strSoundSliceCode;\r\n      return this;\r\n    };\r\n    this.setPDFFilename = function(strPDFFilename) {\r\n      this.str_PDFFilename = strPDFFilename;\r\n      return this;\r\n    };\r\n    this.setMediaURL = function(strURL) {\r\n      this.str_URL = strURL;\r\n      return this;\r\n    };\r\n    this.setGPXFilename = function(strGPXFilename) {\r\n      this.str_GPXFilename = strGPXFilename;\r\n      return this;\r\n    };\r\n    this.setTitle = function(strTitle) {\r\n      this.str_Title = strTitle;\r\n      return this;\r\n    };\r\n    this.setDisplayName = function(strDisplayName) {\r\n      this.str_DisplayName = strDisplayName;\r\n      return this;\r\n    };\r\n    this.setFullDisplayName = function(strFullDisplayName) {\r\n      this.str_FullDisplayName = strFullDisplayName;\r\n      return this;\r\n    };\r\n    this.setChaptersArray = function(aChaptersArray) {\r\n      this.a_ChaptersArray = aChaptersArray;\r\n      return this;\r\n    };\r\n    this.setLoopsArray = function(aLoopsArray) {\r\n      this.a_LoopsArray = aLoopsArray;\r\n      return this;\r\n    };\r\n    this.setFacebookUser = function(strUser) {\r\n      this.str_FacebookUser = strUser;\r\n      return this;\r\n    };\r\n    this.setFacebookVideoCode = function(strCode) {\r\n      this.str_FacebookVideoCode = strCode;\r\n      return this;\r\n    };\r\n    this.setInstagramID = function(strID) {\r\n      this.str_InstagramID = strID;\r\n      return this;\r\n    };\r\n    this.setHTMLContent = function(strHTML) {\r\n      this.str_HTMLContent = strHTML;\r\n      return this;\r\n    };\r\n    this.setMediaStartTime = function(fTime) {\r\n      this.f_MediaStartTime = fTime;\r\n      return this;\r\n    };\r\n    this.setDescription = function(strDescription) {\r\n      this.str_Description = strDescription;\r\n      return this;\r\n    };\r\n\r\n    this.isLoaded = function() {\r\n      return this.b_IsLoaded;\r\n    };\r\n\r\n    this.getCodeByType = function() {\r\n      let mediaType = this.getPrimaryMediaType();\r\n      let code = \"\";\r\n      switch (mediaType) {\r\n        case \"vimeo\":\r\n          code = this.getVimeoCode();\r\n          // this.mediaLoadVimeo();\r\n          break;\r\n        case \"youtube\":\r\n          code = this.getYouTubeCode();\r\n          // this.mediaLoadYouTube(this.theS);\r\n          break;\r\n        case \"mp3\":\r\n          code = this.getMP3Filename();\r\n\r\n          // this.mediaLoadMP3(this.theSegment.);\r\n          break;\r\n        case \"soundslice\":\r\n          code = this.getSoundSliceCode();\r\n          // this.mediaLoadSoundSlice(this.the);\r\n          break;\r\n        case \"pdf\":\r\n          code = this.getPDFFilename();\r\n          // this.mediaLoadPDFViewer(this.theS);\r\n          break;\r\n        case \"url\":\r\n          return `<iframe id='content-frame' src='${decodeURIComponent(\r\n            theURL\r\n          )}' frameBorder='0'></iframe>`;\r\n\r\n          // this.mediaLoadURL(this.theSegment.getMediaURL());\r\n          break;\r\n        case \"facebook\":\r\n          code = {\r\n            user: this.getFacebookUser(),\r\n            code: this.getFacebookVideoCode()\r\n          };\r\n          break;\r\n        case \"instagram\":\r\n          code = this.getInstagramID();\r\n\r\n          // this.mediaLoadInstagram(this.theSegment.getInstagramID());\r\n          break;\r\n        case \"html\":\r\n          code = this.getHTMLContent();\r\n\r\n          // this.mediaLoadHTML();\r\n          break;\r\n      }\r\n      return { type: mediaType, code: code };\r\n    };\r\n    this.getEntryID = function() {\r\n      return this.str_EntryID;\r\n    };\r\n    this.getYTMatchingEntryID = function() {\r\n      return this.str_YTMatchingEntryID;\r\n    };\r\n    this.getSegmentType = function() {\r\n      return this.str_SegmentType;\r\n    };\r\n    this.getPrimaryMediaType = function() {\r\n      return this.str_PrimaryMediaType;\r\n    };\r\n    this.getVimeoCode = function() {\r\n      return this.str_VimeoCode;\r\n    };\r\n    this.getYouTubeCode = function() {\r\n      return this.str_YouTubeCode;\r\n    };\r\n    this.getMP3Filename = function() {\r\n      return this.str_MP3Filename;\r\n    };\r\n    this.getSoundSliceCode = function() {\r\n      return this.str_SoundSliceCode;\r\n    };\r\n    this.getPDFFilename = function() {\r\n      return this.str_PDFFilename;\r\n    };\r\n    this.getMediaURL = function() {\r\n      return this.str_URL;\r\n    };\r\n    this.getGPXFilename = function() {\r\n      return this.str_GPXFilename;\r\n    };\r\n    this.getTitle = function() {\r\n      return this.str_Title;\r\n    };\r\n    this.getDisplayName = function() {\r\n      return this.str_DisplayName;\r\n    };\r\n    this.getFullDisplayName = function() {\r\n      return this.str_FullDisplayName;\r\n    };\r\n    this.getChaptersArray = function() {\r\n      return this.a_ChaptersArray;\r\n    };\r\n    this.getLoopsArray = function() {\r\n      return this.a_LoopsArray;\r\n    };\r\n    this.getFacebookUser = function() {\r\n      return this.str_FacebookUser;\r\n    };\r\n    this.getFacebookVideoCode = function() {\r\n      return this.str_FacebookVideoCode;\r\n    };\r\n    this.getInstagramID = function() {\r\n      return this.str_InstagramID;\r\n    };\r\n    this.getHTMLContent = function() {\r\n      return this.str_HTMLContent;\r\n    };\r\n    this.getMediaStartTime = function() {\r\n      return this.f_MediaStartTime;\r\n    };\r\n    this.getDescription = function() {\r\n      return this.str_Description;\r\n    };\r\n\r\n    this.resetAll = function() {\r\n      this.b_IsLoaded = false;\r\n      this.str_Title = \"\";\r\n      this.str_SegmentType = \"\"; // Must be \"entry\" or \"other\"\r\n      this.str_PrimaryMediaType = \"\"; // must be vimeo, youtube, mp3, soundslice, url\r\n      this.str_EntryID = \"\"; //this must be a valid TXBA Media Segment Entry ID\r\n      this.str_YTMatchingEntryID = \"\";\r\n      this.str_VimeoCode = \"\";\r\n      this.str_YouTubeCode = \"\";\r\n      this.str_MP3Filename = \"\";\r\n      this.str_SoundSliceCode = \"\";\r\n      this.str_PDFFilename = \"\";\r\n      this.str_MediaURL = \"\";\r\n      this.str_GPXFilename = \"\";\r\n      this.str_StartTime = \"\";\r\n      this.str_DisplayName = \"\";\r\n      this.str_FullDisplayName = \"\";\r\n      this.str_FacebookUser = \"\";\r\n      this.str_FacebookVideoCode = \"\";\r\n      this.str_HTMLContent = \"\";\r\n      this.a_ChaptersArray.length = 0;\r\n      this.a_LoopsArray.length = 0;\r\n      this.str_Description = \"\";\r\n    };\r\n    this.allowUserData = function() {\r\n      let bAllowUserData = false;\r\n      if (\r\n        this.getSegmentType() == \"entry\" && //It must be an entry\r\n        this.getEntryID() != \"\" && //the entryID must be set.\r\n        (this.getPrimaryMediaType() == \"vimeo\" || //It must either be Vimeo\r\n        this.getPrimaryMediaType() == \"youtube\" || //or YouTube\r\n          this.getPrimaryMediaType() == \"mp3\")\r\n      ) {\r\n        //or an MP3\r\n        bAllowUserData = true;\r\n      }\r\n      return bAllowUserData;\r\n    };\r\n\r\n    this.allowChapters = function() {\r\n      let bAllowUserData = false;\r\n      if (\r\n        this.getSegmentType() == \"entry\" && //It must be an entry\r\n        this.getEntryID() != \"\" && //the entryID must be set.\r\n        (this.getPrimaryMediaType() == \"vimeo\" || //It must either be Vimeo\r\n        this.getPrimaryMediaType() == \"youtube\" || //or YouTube\r\n          this.getPrimaryMediaType() == \"mp3\")\r\n      ) {\r\n        //or an MP3\r\n        bAllowUserData = true;\r\n      }\r\n      return bAllowUserData;\r\n    };\r\n\r\n    this.allowLoops = function() {\r\n      let bAllowUserData = false;\r\n      if (\r\n        this.getSegmentType() == \"entry\" && //It must be an entry\r\n        this.getEntryID() != \"\" && //the entryID must be set.\r\n        (this.getPrimaryMediaType() == \"vimeo\" || //It must either be Vimeo\r\n        this.getPrimaryMediaType() == \"youtube\" || //or YouTube\r\n          this.getPrimaryMediaType() == \"mp3\")\r\n      ) {\r\n        //or an MP3\r\n        bAllowUserData = true;\r\n      }\r\n      return bAllowUserData;\r\n    };\r\n\r\n    this.allowImport = function() {\r\n      let bAllowImport = false;\r\n      if (\r\n        this.getSegmentType() == \"other\" && //It must NOT be an entry\r\n        this.getEntryID() == \"\" && //the entryID must be blank\r\n        this.getPrimaryMediaType() == \"youtube\"\r\n      ) {\r\n        //it MUST be a Youtube video.\r\n        bAllowImport = true;\r\n      }\r\n      return bAllowImport;\r\n    };\r\n\r\n    this.inferMediaType = function() {\r\n      if (this.getVimeoCode() !== \"\") {\r\n        this.setPrimaryMediaType(\"vimeo\");\r\n      } else if (this.getYouTubeCode() !== \"\") {\r\n        this.setPrimaryMediaType(\"youtube\");\r\n      } else if (this.getFacebookVideoCode() !== \"\") {\r\n        this.setPrimaryMediaType(\"facebook\");\r\n      } else if (this.getInstagramID() !== \"\") {\r\n        this.setPrimaryMediaType(\"instagram\");\r\n      } else if (this.getMP3Filename() !== \"\") {\r\n        this.setPrimaryMediaType(\"mp3\");\r\n      } else if (this.getSoundSliceCode() !== \"\") {\r\n        this.setPrimaryMediaType(\"soundslice\");\r\n      } else if (this.getPDFFilename() !== \"\") {\r\n        this.setPrimaryMediaType(\"pdf\");\r\n      } else if (this.getMediaURL() !== \"\") {\r\n        this.setPrimaryMediaType(\"url\");\r\n      } else {\r\n        this.setPrimaryMediaType(\"html\");\r\n      }\r\n    };\r\n\r\n    this.setUserLoopsEntryIDsFromString = function(strUserLoopEntryIDs) {\r\n      let theIDs = strUserLoopEntryIDs.split(\"|\");\r\n      for (let i = 0; i < theIDs.length; i++) {\r\n        if (theIDs[i] !== \"\") {\r\n          this.a_UserLoopEntryIDs.push(theIDs[i]);\r\n        }\r\n      }\r\n      return this;\r\n    };\r\n\r\n    this.getUserLoopsEntryIDs = function() {\r\n      return this.a_UserLoopEntryIDs;\r\n    };\r\n\r\n    this.getUserLoopEntryIDsCount = function() {\r\n      return this.a_UserLoopEntryIDs.length;\r\n    };\r\n  }\r\n}\r\n\r\nexport class Package {\r\n  constructor() {\r\n    this.str_PackageType = \"\"; // must be \"entry\" or \"other\"\r\n    this.b_Loaded = false;\r\n    this.str_EntryID = \"\";\r\n    this.str_Title = \"\";\r\n    this.str_ChannelName = \"\";\r\n    this.str_ChannelShortName = \"\";\r\n    this.str_DefaultSegmentEntryID = \"\";\r\n    this.str_Description = \"\";\r\n    this.str_Overview = \"\";\r\n    this.str_ImageURL = \"\";\r\n    this.str_Tuning = \"\";\r\n    this.a_Sections = [];\r\n    this.str_Date = \"\";\r\n    this.str_ErrorMessage = \"\";\r\n\r\n    this.setPackageType = function(strType) {\r\n      this.str_PackageType = strType;\r\n      return this;\r\n    };\r\n    this.setLoaded = function(bLoaded) {\r\n      this.b_Loaded = bLoaded;\r\n      return this;\r\n    };\r\n    this.setEntryID = function(nEntryID) {\r\n      this.str_EntryID = nEntryID;\r\n      return this;\r\n    };\r\n    this.setTitle = function(strTitle) {\r\n      this.str_Title = strTitle;\r\n      return this;\r\n    };\r\n    this.setChannelName = function(strChannelName) {\r\n      this.str_ChannelName = strChannelName;\r\n      return this;\r\n    };\r\n    this.setChannelShortName = function(strChannelShortName) {\r\n      this.str_ChannelShortName = strChannelShortName;\r\n      return this;\r\n    };\r\n    this.setDefaultSegmentEntryID = function(strEntryID) {\r\n      this.str_DefaultSegmentEntryID = strEntryID;\r\n      return this;\r\n    };\r\n    this.setDescription = function(strDescription) {\r\n      this.str_Description = strDescription;\r\n      return this;\r\n    };\r\n    this.setOverview = function(strOverview) {\r\n      this.str_Overview = strOverview;\r\n      return this;\r\n    };\r\n    this.setImageURL = function(strImageURL) {\r\n      this.str_ImageURL = strImageURL;\r\n      return this;\r\n    };\r\n    this.setSections = function(objSections) {\r\n      this.a_Sections = objSections;\r\n      return this;\r\n    };\r\n    this.setDate = function(strDate) {\r\n      this.str_Date = strDate;\r\n      return this;\r\n    };\r\n    this.setErrorMessage = function(strError) {\r\n      this.str_ErrorMessage = strError;\r\n      return this;\r\n    };\r\n    this.setTuning = function(strTuning) {\r\n      this.str_Tuning = strTuning;\r\n      return this;\r\n    };\r\n\r\n    this.getPackageType = function() {\r\n      return this.str_PackageType;\r\n    };\r\n    this.isLoaded = function() {\r\n      return this.b_Loaded;\r\n    };\r\n    this.getEntryID = function() {\r\n      return this.str_EntryID;\r\n    };\r\n    this.getTitle = function() {\r\n      return this.str_Title;\r\n    };\r\n    this.getChannelName = function() {\r\n      return this.str_ChannelName;\r\n    };\r\n    this.getChannelShortName = function() {\r\n      return this.str_ChannelShortName;\r\n    };\r\n    this.getDefaultSegmentEntryID = function() {\r\n      return this.str_DefaultSegmentEntryID;\r\n    };\r\n    this.getDescription = function() {\r\n      return this.str_Description;\r\n    };\r\n    this.getOverview = function() {\r\n      return this.str_Overview;\r\n    };\r\n    this.getImageURL = function() {\r\n      return this.str_ImageURL;\r\n    };\r\n    this.getSections = function() {\r\n      return this.a_Sections;\r\n    };\r\n    this.getDate = function() {\r\n      return this.str_Date;\r\n    };\r\n    this.getErrorMessage = function() {\r\n      return this.str_ErrorMessage;\r\n    };\r\n    this.getTuning = function() {\r\n      return this.str_Tuning;\r\n    };\r\n\r\n    this.resetAll = function() {\r\n      this.str_PackageType = \"\"; // must be \"entry\" or \"other\"\r\n      this.b_Loaded = false;\r\n      this.str_EntryID = \"\";\r\n      this.str_Title = \"\";\r\n      this.str_ChannelName = \"\";\r\n      this.str_ChannelShortName = \"\";\r\n      this.str_DefaultSegmentEntryID = \"\";\r\n      this.str_Description = \"\";\r\n      this.str_Overview = \"\";\r\n      this.str_ImageURL = \"\";\r\n      this.a_Sections = [];\r\n      this.str_Date = \"\";\r\n      this.str_ErrorMessage = \"\";\r\n    };\r\n\r\n    this.isEntry = function() {\r\n      return this.str_PackageTYpe == \"entry\";\r\n    };\r\n\r\n    this.hasSections = function() {\r\n      return this.a_Sections.length > 0;\r\n    };\r\n  }\r\n}\r\nexport class FavoritesManager {\r\n  constructor(parentDivID) {\r\n    this.n_PackageID = 0;\r\n    this.str_FavoritesListWrapperID = \"#\" + parentDivID;\r\n    this.b_CommentsLoadedOnce = false;\r\n    this.b_FilterComments = false;\r\n    this.b_FavoritesLoadedOnce = false;\r\n    this.b_Initialized = false;\r\n    // this.str_ReloadPath = gc_BranchPath + '/--ajax-load-favorites-list/';\r\n    this.str_ReloadPath = \"/--ajax-load-favorites-list/\";\r\n\r\n    this.reset = function() {\r\n      this.n_PackageID = 0;\r\n      this.b_CommentsLoadedOnce = false;\r\n      this.b_FilterComments = false;\r\n      this.b_FavoritesLoadedOnce = false;\r\n      this.b_Initialized = false;\r\n      // $(this.str_FavoritesListWrapperID).empty();\r\n      // $(\"#favListEmpty\").text(\"Favorites have not been loaded.\");\r\n      // $(\"#favListEmpty\").toggle(true);\r\n    };\r\n\r\n    this.setNewPackageID = function(nPackageID) {\r\n      this.reset();\r\n      this.n_PackageID = nPackageID;\r\n    };\r\n\r\n    this.clearFavorites = function() {\r\n      $(this.str_FavoritesListWrapperID).empty();\r\n    };\r\n\r\n    this.fullRefresh = function() {\r\n      this.clearFavorites();\r\n      thePlayer.spinner(this.str_FavoritesListWrapperID);\r\n      this.reloadFavorites();\r\n    };\r\n\r\n    this.reloadFavorites = function() {\r\n      //console.log('Reloading favorites, packageID: ' + this.n_PackageID);\r\n      var reloadPath = this.str_ReloadPath;\r\n      if (this.n_PackageID != \"0\") {\r\n        reloadPath += this.n_PackageID;\r\n      }\r\n      $(this.str_FavoritesListWrapperID).load(reloadPath, function() {\r\n        thePlayer.favoritesManager.finishedReloadingFavorites();\r\n      });\r\n    };\r\n\r\n    this.finishedReloadingFavorites = function() {\r\n      if ($(this.str_FavoritesListWrapperID).children().length == 0) {\r\n        $(\"#favListEmpty\").text(\"You have not saved any favorites.\");\r\n        $(\"#favListEmpty\").toggle(true);\r\n      } else {\r\n        $(\"#favListEmpty\").toggle(false);\r\n\r\n        if (this.n_PackageID == \"0\") {\r\n          $(\"#favthis-button\").toggle(false);\r\n        } else {\r\n          $(\"#favthis-button\").toggle(true);\r\n          $(\"#favthis-button\").load(\r\n            gc_BranchPath +\r\n              \"/--ajax-load-favorite-this-button/\" +\r\n              thePlayer.favoritesManager.n_PackageID\r\n          );\r\n        }\r\n      }\r\n      this.b_FavoritesLoadedOnce = true;\r\n    };\r\n    this.removeFavoriteFromList = function(sender) {\r\n      var formID = $(sender).closest(\"form.submitFavoriteForm\");\r\n      var courseID = $(formID).attr(\"data-id\");\r\n      var formData = $(formID).serialize();\r\n      //this.clearFavorites();\r\n      //thePlayer.spinner(this.str_FavoritesListWrapperID);\r\n      var parentItem = $(sender).closest(\"li.sidebar-list-item\");\r\n      $(parentItem).toggleClass(\"deleting\", true);\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: $(formID).attr(\"action\"),\r\n        data: formData,\r\n        context: sender\r\n      }).done(function(response) {\r\n        var parentItem = $(this).closest(\"li.sidebar-list-item\");\r\n        var parentList = $(this).closest(\"ul.sidebar-list\");\r\n        if ($(parentList).children().length == 1) {\r\n          //console.log(\"Empty accordion item found.\");\r\n          parentAccordion = $(this).closest(\"li.accordion-item\");\r\n          $(parentAccordion).fadeOut(400, function() {\r\n            $(this).remove();\r\n          });\r\n        } else {\r\n          $(parentItem).fadeOut(400, function() {\r\n            $(this).remove();\r\n          });\r\n        }\r\n        thePlayer.favoritesManager.finishedReloadingFavorites();\r\n      });\r\n    };\r\n    this.addFavoriteToList = function(sender) {\r\n      var formID = $(sender).closest(\"form.submitFavoriteForm\");\r\n      var courseID = $(formID).attr(\"data-id\");\r\n      var formData = $(formID).serialize();\r\n\r\n      $(sender).toggle(false);\r\n      this.clearFavorites();\r\n      thePlayer.spinner(this.str_FavoritesListWrapperID);\r\n\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: $(formID).attr(\"action\"),\r\n        data: formData\r\n      }).done(function(response) {\r\n        thePlayer.favoritesManager.reloadFavorites();\r\n      });\r\n    };\r\n  }\r\n}\r\n\r\nexport class HistoryManager {\r\n  constructor(strHistoryListWrapperID) {\r\n    this.str_ActiveSegmentTitle = \"\";\r\n    this.str_ActiveSegmentURL = \"\";\r\n    this.n_ActiveSegmentEntryID = 0;\r\n    this.str_ActiveSegmentFullName = \"\";\r\n    this.a_ResumeItems = {};\r\n    this.str_HistoryListWrapperID = \"#\" + strHistoryListWrapperID;\r\n    this.str_ChannelName = \"\";\r\n    this.n_PackageID = 0;\r\n    this.arrayHistoryItems = {};\r\n    this.objCurrentHistoryItem = { url: \"\", title: \"\", name: \"\", channel: \"\" };\r\n\r\n    this.clearHistory = function() {\r\n      this.arrayHistoryItems = [];\r\n\r\n      $(\"#historyList li\").remove();\r\n      historyString =\r\n        \"<li class='sidebar-list-item'><span>No recently watched items are available.</span></li>\";\r\n      $(\"#historyList\").html(historyString);\r\n      $(\"#clearHistoryButton\").toggle(true);\r\n    };\r\n\r\n    this.reset = function() {\r\n      $(str_HistoryListWrapperID).empty();\r\n    };\r\n\r\n    this.addHistoryItem = function(\r\n      strPackageID,\r\n      strSegmentID,\r\n      strPackageTitle,\r\n      strPackageChannel,\r\n      strSegmentTitle,\r\n      strType\r\n    ) {\r\n      //console.log(\"Attempting to add history item\");\r\n      let aHistoryItems = JSON.parse(localStorage.getItem(\"proPlayerHistory\"));\r\n      if (aHistoryItems === null) {\r\n        aHistoryItems = [];\r\n      }\r\n\r\n      var bMatchFound = false;\r\n      var nMatchIndex = 0;\r\n      for (let i = 0; i < aHistoryItems.length; i++) {\r\n        if (aHistoryItems[i].packageID == strPackageID) {\r\n          bMatchFound = true;\r\n          nMatchIndex = i;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (bMatchFound) {\r\n        aHistoryItems.splice(nMatchIndex, 1);\r\n      }\r\n      var newHistoryItem = {\r\n        packageTitle: strPackageTitle,\r\n        packageChannel: strPackageChannel,\r\n        segmentTitle: strSegmentTitle,\r\n        packageID: strPackageID,\r\n        segmentID: strSegmentID,\r\n        type: strType\r\n      };\r\n\r\n      aHistoryItems.unshift(newHistoryItem);\r\n\r\n      localStorage.setItem(\"proPlayerHistory\", JSON.stringify(aHistoryItems));\r\n    };\r\n\r\n    /*\r\n      this.reloadHistory = function()\r\n      {\r\n        var historyVersion = Cookies.get('historyVersion');\r\n        if(history == undefined)\r\n        {\r\n          Cookies.remove('recentlyViewed');\r\n        }\r\n        else\r\n        {\r\n          this.arrayHistoryItems = Cookies.getJSON('recentlyViewed');\r\n          if(this.arrayHistoryItems == undefined)\r\n          {\r\n              this.arrayHistoryItems = [];\r\n          }\r\n          \r\n          //populate current item object\r\n          this.objCurrentHistoryItem['url'] = this.str_ActiveSegmentURL;\r\n          this.objCurrentHistoryItem['packageID'] = this.str_ActiveSegmentURL;\r\n          this.objCurrentHistoryItem['title'] = this.str_ActiveSegmentTitle;\r\n          this.objCurrentHistoryItem['name'] = this.str_ActiveSegmentFullName;\r\n          if(\tthis.str_ChannelName  == 'Pro Player Packages' )\r\n          {\r\n            \r\n            this.objCurrentHistoryItem['channel'] = \"Courses\";\r\n          }\r\n          else\r\n          {\r\n            this.objCurrentHistoryItem['channel'] = this.str_ChannelName;\r\n          }\r\n          \r\n    \r\n            var historyString = \"\";\r\n          if( this.arrayHistoryItems.length > 0)\r\n          {\r\n            $('#clearHistoryButton').toggle(true);\r\n            for(let  var i = 0; i < this.arrayHistoryItems.length; i++)\r\n            {\r\n              if(this.arrayHistoryItems[i]['channel'] == \"Pro Player Packages\")\r\n              {\r\n                this.arrayHistoryItems[i]['channel'] = \"Courses\";\r\n              }\r\n              historyItem = this.arrayHistoryItems[i];\r\n              historyString += '<li class=\"sidebar-list-item history\"><a href=\"/';\r\n              historyString += historyItem['url'] + '\">';\r\n              \r\n              historyString += '<span class=\"channel\">' + historyItem['channel'] + '</span>';\r\n              historyString += '<span class=\"title\">' + historyItem['title'] + '</span>';\r\n              historyString += '<span class=\"name\">' + historyItem['name'] + '</span>';\r\n              historyString += '</a></li>';\r\n            }\r\n            $('#historyList').html( historyString );\r\n            \r\n            if(this.n_ActiveSegmentEntryID != 0 && this.arrayHistoryItems[0][\"url\"] != this.objCurrentHistoryItem[\"url\"])\r\n            {\r\n              this.arrayHistoryItems.unshift(this.objCurrentHistoryItem);\r\n              if(this.arrayHistoryItems.length > 10)\r\n              {\r\n                this.arrayHistoryItems.pop();\r\n              }\r\n              Cookies.set('recentlyViewed', this.arrayHistoryItems, { expires: 365 });\r\n            }\r\n          }\r\n          else\r\n          {\r\n            historyString = \"<li class='sidebar-list-item'><span>No recently watched items are available.</span></li>\";\r\n            $(str_HistoryListWrapperID).html( historyString );\r\n            \r\n            if(this.n_ActiveSegmentEntryID  != 0)\r\n            {\r\n              this.arrayHistoryItems = [];\r\n              this.arrayHistoryItems[0] = this.objCurrentHistoryItem;\r\n              Cookies.set('recentlyViewed', this.arrayHistoryItems, { expires: 365 });\r\n            }\r\n          }\r\n      }\r\n      \r\n      this.saveCookieValues = function()\r\n      {\r\n        if(this.n_ActiveSegmentEntryID != 0)\r\n        {\r\n          this.a_ResumeItems = Cookies.getJSON('savedResumeItems');\r\n          if(this.a_ResumeItems == undefined)\r\n          {\r\n            this.a_ResumeItems = {};\r\n          }\r\n          if( this.n_PackageID != 0)\r\n          {\r\n            this.a_ResumeItems[this.n_PackageID] = this.n_ActiveSegmentEntryID;\r\n            Cookies.set('savedResumeItems', this.a_ResumeItems, { expires: 365 });\r\n          }\r\n        }\r\n        \r\n      }\r\n      */\r\n    this.getLastHistoryItem = function() {\r\n      var historyItems = JSON.parse(localStorage.getItem(\"proPlayerHistory\"));\r\n      if (historyItems !== null) {\r\n        //console.log(\"Returning last history item...\");\r\n        return historyItems[0];\r\n      } else {\r\n        return null;\r\n      }\r\n    };\r\n  }\r\n}\r\nexport class UserDataManager {\r\n  constructor() {\r\n    this.n_SegmentID = -1;\r\n    this.b_UserDataDirty = false;\r\n    this.setDirty = function(bDirty) {\r\n      this.b_UserDataDirty = bDirty;\r\n    };\r\n    this.isDirty = function() {\r\n      return this.b_UserDataDirty;\r\n    };\r\n    this.getSegmentID = function() {\r\n      return this.n_SegmentID;\r\n    };\r\n    this.setNewSegmentID = function(nSegmentID) {\r\n      this.resetAll();\r\n      this.n_SegmentID = nSegmentID;\r\n    };\r\n\r\n    this.resetAll = function() {\r\n      // $( \"#userSegmentDataFormWrapper\" ).empty();\r\n      // $(\"#userSegmentDataFormWrapper\").empty();\r\n      this.n_SegmentID = -1;\r\n      this.b_UserDataDirty = false;\r\n    };\r\n\r\n    this.reloadUserData = function() {\r\n      this.loadUserDataForm();\r\n    };\r\n    this.loadUserDataForm = function() {\r\n      var requestURL = gc_BranchPath + \"/--ajax-load-user-data-form/?\";\r\n      requestURL += \"segmentID=\" + this.getSegmentID();\r\n      //console.log(\"Loading user data from: \" + requestURL);\r\n      $(\"#userSegmentDataFormWrapper\").load(requestURL, function() {\r\n        thePlayer.userDataManager.pushUserLoops();\r\n      });\r\n    };\r\n\r\n    this.pushUserLoops = function() {\r\n      var loopsText = $(\"textarea[name=cf_member_segment_data_loops]\").val();\r\n      var validLoopsArray = this.validateJSON(loopsText);\r\n      if (validLoopsArray) {\r\n        //console.log(\"Found user loops, adding list.\");\r\n        thePlayer.loopsManager.createNewCollection(\r\n          \"userLoopList\",\r\n          \"user\",\r\n          true\r\n        );\r\n        thePlayer.loopsManager.addListToCollectionFromArray(\r\n          validLoopsArray,\r\n          \"user\",\r\n          \"Your Loops\",\r\n          false\r\n        );\r\n      } else {\r\n        //console.log(\"Adding empty array for User list\");\r\n        thePlayer.loopsManager.createNewCollection(\r\n          \"userLoopList\",\r\n          \"user\",\r\n          true\r\n        );\r\n      }\r\n\r\n      this.importAllSegmentLoops();\r\n    };\r\n\r\n    this.importAllSegmentLoops = function() {\r\n      $.get(\r\n        gc_BranchPath + \"/--ajax-get-segment-user-loops/\" + this.n_SegmentID,\r\n        function(data) {\r\n          thePlayer.userDataManager.processImportedSegmentLoops(data);\r\n        }\r\n      );\r\n    };\r\n\r\n    this.processImportedSegmentLoops = function(arrImportedLoops) {\r\n      if (this.validateJSON(arrImportedLoops)) {\r\n        let theImportedLoopData = JSON.parse(arrImportedLoops);\r\n        thePlayer.loopsManager.createNewCollection(\r\n          \"communityLoopList\",\r\n          \"community\",\r\n          false\r\n        );\r\n        for (\r\n          let i = 0;\r\n          i < theImportedLoopData.memberLoopCollections.length;\r\n          i++\r\n        ) {\r\n          let theMemberLoops = theImportedLoopData.memberLoopCollections[i];\r\n          thePlayer.loopsManager.addListToCollectionFromArray(\r\n            theMemberLoops.memberLoops,\r\n            \"community\",\r\n            theMemberLoops.memberName,\r\n            false\r\n          );\r\n        }\r\n      }\r\n    };\r\n\r\n    this.updateUserDataForm = function() {\r\n      let userLoopsArray = thePlayer.loopsManager.getUserLoopsArray();\r\n      if (userLoopsArray.length != 0) {\r\n        $(\"textarea[name=cf_member_segment_data_loops]\").val(\r\n          JSON.stringify(userLoopsArray)\r\n        );\r\n      } else {\r\n        $(\"textarea[name=cf_member_segment_data_loops]\").val(\"\");\r\n      }\r\n    };\r\n\r\n    this.saveUserData = function() {\r\n      this.updateUserDataForm();\r\n      var theForm = $(\"form#userSegmentDataForm\");\r\n      formData = $(theForm).serialize();\r\n      //console.log(formData);\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: $(theForm).attr(\"action\"),\r\n        data: formData\r\n      }).done(function(response) {\r\n        thePlayer.userDataManager.reloadUserData();\r\n      });\r\n    };\r\n    this.validateJSON = function(jsonString) {\r\n      try {\r\n        var o = JSON.parse(jsonString);\r\n\r\n        // Handle non-exception-throwing cases:\r\n        // Neither JSON.parse(false) or JSON.parse(1234) throw errors, hence the type-checking,\r\n        // but... JSON.parse(null) returns null, and typeof null === \"object\",\r\n        // so we must check for that, too. Thankfully, null is falsey, so this suffices:\r\n        if (o && typeof o === \"object\") {\r\n          return o;\r\n        }\r\n      } catch (e) {}\r\n\r\n      return false;\r\n    };\r\n  }\r\n}\r\n","import Vue from \"vue\";\nimport {\n  BrowserFilterSection,\n  BrowserFilterSectionList\n} from \"../../middleware/ProPlayerCore\";\n\nconst compObjects = (obj1, obj2) =>\n  Object.entries(obj1).join() === Object.entries(obj2).join();\nexport default {\n  namespaced: true,\n  state: {\n    drawer: [],\n    keywords: \"\",\n    activeCategory: null,\n    searching: false,\n    default_browser_entries: null,\n    search_entries: null,\n    activeFilters: {},\n    filterSectionList: new BrowserFilterSectionList(),\n    filterStatus: {},\n    search: {\n      pages: null,\n      current: new Set(),\n      criteria: null\n    }\n  },\n  mutations: {\n    SET_CURRENT_CATEGORY(ctx, category) {\n      // console.log(\"active category\", category);\n      Vue.set(ctx, \"activeCategory\", category);\n    },\n    ADD_TO_DRAWER(ctx, content) {\n      if (content) {\n        content.forEach((tab, idx) => {\n          const tabIdx = ctx.drawer.findIndex(x => x.name === tab.name);\n          if (tabIdx == -1) {\n            tab.id = idx;\n            ctx.drawer.push(tab);\n          }\n        }, ctx);\n      }\n    },\n    REMOVE_DRAWER(ctx, name) {\n      console.log(`Removing: ${name}`);\n      ctx.drawer.pop();\n    },\n    TOGGLE_SEARCHING(ctx, bool) {\n      ctx.searching = bool;\n    },\n    SET_ENTRIES_PAGINATION(ctx, pages) {\n      // console.log('pages', pages)\n      if (pages) ctx.search.pages = pages;\n    },\n    SET_DEFAULT_BROWSER_ENTRIES(ctx, data) {\n      // console.log(\"SettingDefEntries:\", data);\n      if (data) ctx.default_browser_entries = data;\n    },\n    SET_SEARCH_ENTRIES(ctx, data) {\n      // console.log(\"SettingEntries:\", data);\n      if (data) ctx.search_entries = data;\n    },\n    SET_SEARCH(ctx, data) {\n      // console.log(\"SettingCriteria:\", data);\n      // debugger\n      if (data.auth) Vue.set(ctx, \"auth\", data.auth);\n      Vue.set(ctx, \"filterStatus\", data.status || {});\n      Vue.set(ctx, \"activeFilters\", {});\n      Vue.set(ctx.search, \"criteria\", data.funnels ? data.funnels : null);\n      Vue.set(ctx.search, \"current\", new Set());\n      Vue.set(ctx.search, \"pages\", []);\n    },\n    TOGGLE_FILTER_STATUS(ctx, data) {\n      // toggle selection status\n      // console.log(\"current\", ctx.filterStatus[data.sync]);\n      Vue.set(ctx.filterStatus, data.sync, !ctx.filterStatus[data.sync]);\n      // console.log(\"Status toggle\", ctx.filterStatus[data.sync]);\n    },\n    VALIDATE_UNIQUE_FILTER(ctx, data) {\n      if (!data) {\n        ctx.search.current.clear();\n        return;\n      }\n      // update list of current selections\n      data = JSON.stringify(data);\n      // console.log(\"data\", data);\n      if (ctx.search.current.has(data)) {\n        // console.log(\"found\");\n        ctx.search.current.delete(data);\n      } else {\n        // console.log(\"not found\");\n        const objData = JSON.parse(data);\n        if (objData.group.sectionStackable === \"no\") {\n          // filter is not stackable ... remove all other filters from the section\n          ctx.search.current.forEach(itm => {\n            const objItm = JSON.parse(itm);\n            if (objItm.group.sectionId === objData.group.sectionId) {\n              // ctx.filterStatus[objItm.sync] = !ctx.filterStatus[objItm.sync];\n              ctx.filterStatus[objItm.sync] = false;\n              ctx.search.current.delete(itm);\n            }\n          });\n        }\n        ctx.search.current.add(data);\n      }\n      // console.log(\"current\", ctx.search.current);\n      ctx.searching = ctx.search.current.size > 0;\n    },\n    REFRESH_ACTIVE_FILTERS(ctx) {\n      Vue.set(ctx, \"activeFilters\", {});\n      ctx.search.current.forEach(filter => {\n        let objFilter = JSON.parse(filter);\n        let id = objFilter.group.sectionId;\n        if (ctx.activeFilters.hasOwnProperty(id)) {\n          ctx.activeFilters[id].push(objFilter);\n        } else {\n          ctx.activeFilters[id] = [objFilter];\n        }\n      });\n    },\n    BUILD_SECTION_DATA(ctx) {\n      ctx.filterSectionList.reset();\n      for (let [k, v] of Object.entries(ctx.search.criteria)) {\n        let newSectionObject = new BrowserFilterSection();\n        newSectionObject.setSectionID(v.sectionId);\n        newSectionObject.setSectionType(v.sectionType);\n        newSectionObject.setChannelID(v.sectionChannelId);\n        newSectionObject.setGroupID(v.sectionGroupId);\n\n        let tmpDependenciesArray = null;\n        let tmpDependenciesString = v.sectionDependencies;\n        if (tmpDependenciesString != \"\") {\n          tmpDependenciesArray = tmpDependenciesString.split(\"|\");\n        } else {\n          tmpDependenciesArray = [];\n        }\n\n        newSectionObject.setParentIDs(tmpDependenciesArray);\n        ctx.filterSectionList.addSection(newSectionObject);\n      }\n      ctx.filterSectionList.computeSectionFamilies();\n    },\n    PROCESS_DEPENDENT_FILTERS(ctx, data) {\n      console.log(\"procDeps\", data);\n      return;\n      var chips = ctx.search.criteria[data.sectionID].chips;\n      if (data.ids.length) {\n        var filtered = chips.filter(chip =>\n          data.ids.includes(parseInt(chip.value))\n        );\n        Vue.set(ctx.search.criteria[data.sectionID], \"chips\", filtered);\n      } else {\n        delete ctx.search.criteria[data.sectionID];\n      }\n    }\n  },\n  actions: {\n    async gotoPage ( { state, dispatch, rootState, getters }, url ) {\n      \n      const searchEntries = await rootState.TXBA_UTILS.getSearchEntries(\n        state.activeCategory,\n        getters.getAuthObject.params,\n        url\n      )\n      .then(searchEntries => dispatch(\"setResultData\", searchEntries))\n      console.log(\"search Entries\", JSON.stringify(searchEntries, null, 4));\n    },\n    addToDrawer(ctx, content) {\n      return ctx.commit(\"ADD_TO_DRAWER\", content);\n    },\n    removeDrawer(ctx, name) {\n      return ctx.commit(\"REMOVE_DRAWER\", name);\n    },\n    removeFilter({ dispatch }, data) {\n      return dispatch(\"toggleSearchCriteria\", data);\n    },\n    toggleSearchCriteria({ dispatch, state }, itm, formData) {\n      return dispatch(\"updateFilters\", itm)\n        .then(() => {\n          console.log(\"Searching?:\", state.searching);\n          if (state.searching) {\n            return dispatch(\"processDependents\", itm)\n              .then(() => dispatch(\"getFilterParams\"))\n              .then(params => dispatch(\"getFilteredResults\", params));\n          } else {\n            console.log(\"reset\", state.activeCategory);\n            return dispatch(\"setCriteria\", state.activeCategory);\n          }\n        })\n        .catch(err => {\n          throw err;\n        });\n    },\n    async updateFilters({ dispatch }, itm) {\n      return await dispatch(\"updateFilterStatus\", itm)\n        .then(itm => dispatch(\"updateFilterSet\", itm))\n        .then(() => dispatch(\"refreshActiveFilters\"))\n        .catch(err => console.log(err));\n    },\n    updateFilterStatus({ commit }, itm) {\n      commit(\"TOGGLE_FILTER_STATUS\", itm);\n      return itm;\n    },\n    updateFilterSet({ commit, state }, itm) {\n      commit(\"VALIDATE_UNIQUE_FILTER\", itm);\n      return state.searching;\n    },\n    refreshActiveFilters({ commit }) {\n      return commit(\"REFRESH_ACTIVE_FILTERS\");\n    },\n    getFilterParams({ state, getters }) {\n      var q_string = [];\n      const reqObj = Object.assign(\n        {\n          channel:\n            state.activeCategory === \"courses\"\n              ? \"pro_player_packages\"\n              : state.activeCategory\n        },\n        getters.getAuthObject\n      );\n      Object.entries(reqObj).forEach(([key, value]) => {\n        q_string.push(\n          `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n        );\n      });\n      return q_string.join(\"&\") + '&' + getters.getFilterList;\n    },\n    async getFilteredResults ( { rootState, dispatch }, queryString ) {\n      console.log('q', queryString)\n      const entries = await rootState.TXBA_UTILS.postAsyncData(queryString)\n        .then(data => {\n          console.log(\n            \"returnData\",\n            JSON.stringify(data, null, 4).substring(200, 400)\n          );\n          return data;\n        })\n        .then(html => rootState.TXBA_UTILS.parseSearchResults(html.data))\n        .then(searchEntries => dispatch(\"setResultData\", searchEntries))\n        .catch(error => console.error(\"ERROR\", error));\n    },\n    setResultData({ commit }, data) {\n      // debugger\n      // console.log(\"filtered entries\", data);\n      commit(\"SET_ENTRIES_PAGINATION\", data.pages);\n      commit(\"SET_SEARCH_ENTRIES\", data.filters);\n      return data;\n    },\n    async processDependents({ dispatch, commit }, itm) {\n      commit(\"BUILD_SECTION_DATA\");\n      return await dispatch(\"generateDependentURL\", itm.group.sectionId).then(\n        url => {\n          if (url)\n            return dispatch(\"getFilterDependents\", url).then(data =>\n              dispatch(\"processDependentFilterSection\", data)\n            );\n        }\n      );\n    },\n    async generateDependentURL({ dispatch, state }, sectionId) {\n      console.log(\"processing deps\", state.filterStatus);\n\n      const strMasterSectionID = sectionId;\n      const list = state.filterSectionList;\n      const status = state.filterStatus;\n      /* \n      #Order Of Operations \n      \n      1. Get an array of dependencies for the master section being changed.\n      2. Update each of those dependent sections.\n        a. Scan through the sections each dependent section is dependent on.\n        b. Get a list of all enabled inputs.\n        c. Create the update url and update from that.\n    */\n\n      let theSection = list.getSectionByID(strMasterSectionID);\n      let theChildren = theSection.getChildren();\n      //If there aren't any dependents found, there's nothing to do\n      if (theChildren.length == 0) {\n        return;\n      }\n\n      this.n_DependentsToProcess = theChildren.length;\n      list.rebuildFilterSectionKeys(status);\n\n      for (let i = 0; i < theChildren.length; i++) {\n        let childParents = theChildren[i].getParents();\n        //initialize our tag and category filter strings\n        let theTagKeys = \"\";\n        let theCategoryKeys = \"\";\n\n        //cycle through all sections we depend on and collect any checked input values.\n        for (let j = 0; j < childParents.length; j++) {\n          let theKeyIDsString = childParents[j].getKeyString();\n          let theKeyType = childParents[j].getSectionType();\n          if (theKeyType == \"tag\") {\n            theTagKeys += theKeyIDsString;\n          } else {\n            theCategoryKeys += theKeyIDsString;\n          }\n        }\n\n        // Check if any of the key strings is empty and set it to -1,\n        // otherwise trim the last | off the end;\n        if (theTagKeys == \"\") {\n          theTagKeys = \"-1\";\n        }\n        if (theCategoryKeys == \"\") {\n          theCategoryKeys = \"-1\";\n        }\n\n        /* \t\n        Now we have a list of categories and tags to key on (from all sections we \n        depend on. We are ready to construct a url to send to the refiner.\n      */\n        if (theTagKeys !== \"-1\" || theCategoryKeys !== \"-1\") {\n          let theURL = \"/--ajax-browser-filter-refiner/\";\n          theURL += theChildren[i].getSectionID() + \"/\"; //what is the ID of the section we're updating\n          theURL += theChildren[i].getSectionType() + \"/\"; //what type of items are we retrieving (cats or tags)\n          theURL += theChildren[i].getChannelID() + \"/\"; //what channel are we looking at\n          theURL += theChildren[i].getGroupID() + \"/\"; //what is the group (cat or tag) that we are filtering\n          theURL += theCategoryKeys + \"/\"; //what are the categories we have to match\n          theURL += theTagKeys + \"/\"; //what are the tags we have to match\n          // console.log(\"processing result\", theURL);\n          return theURL;\n        } else {\n          return dispatch(\n            \"restoreFilterSection\",\n            theChildren[i].getSectionID()\n          );\n        }\n      }\n    },\n    async getFilterDependents({ rootState }, URL) {\n      return await rootState.TXBA_UTILS.getAsyncData(URL);\n    },\n    processDependentFilterSection({ commit }, data) {\n      return data !== \"\" ? commit(\"PROCESS_DEPENDENT_FILTERS\", data) : \"\";\n    },\n    async fetchDefaultSearch(ctx) {\n      // debugger\n      const entries = await ctx.rootState.TXBA_UTILS.getDefaultSearchEntries();\n      // console.log('entries',entries)\n      ctx.commit(\"SET_ENTRIES_PAGINATION\", entries.pages);\n      return ctx.commit(\"SET_DEFAULT_BROWSER_ENTRIES\", entries.filters);\n    },\n    async setCriteria({ commit, dispatch, rootState, getters }, category) {\n      const filters = await rootState.TXBA_UTILS.getSearchFiltersByCategory(\n        category\n      );\n      commit(\"SET_CURRENT_CATEGORY\", category);\n      commit(\"SET_SEARCH\", filters);\n      const searchEntries = await rootState.TXBA_UTILS.getSearchEntries(\n        category,\n        getters.getAuthObject.params\n      );\n      const results = await dispatch(\"setResultData\", searchEntries);\n      console.log(\"entry results\", results);\n      commit(\"BUILD_SECTION_DATA\");\n    },\n    initStore: ({dispatch}) => {\n      return dispatch(\"fetchDefaultSearch\");\n    }\n  },\n  getters: {\n    getActiveCategory: state => state.activeCategory,\n    isSearching: state => state.search.current.size > 0,\n    getFilters: state =>\n      Object.fromEntries(\n        Object.entries(state.filterStatus).filter(\n          ([key, value]) => value === true\n        )\n      ),\n    default_browser_entries: state => state.default_browser_entries,\n    getAuthObject: state => state.auth,\n    getFilterList: state => {\n      let filters = [];\n      filters.push(`keywords=${encodeURIComponent(state.keywords)}`);\n      Object.keys(state.activeFilters).forEach(section => {\n        state.activeFilters[section].forEach(itm => {\n          filters.push(\n            `${encodeURIComponent(itm.name)}=${encodeURIComponent(itm.value)}`\n          );\n        });\n      });\n      filters = filters.join(\"&\");\n      // console.log(\"formvals\", filters);\n      return filters;\n    }\n  }\n};\n"],"sourceRoot":""}